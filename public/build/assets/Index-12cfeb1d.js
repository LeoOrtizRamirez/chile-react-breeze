var g=Object.defineProperty;var N=(s,l,a)=>l in s?g(s,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[l]=a;var r=(s,l,a)=>(N(s,typeof l!="symbol"?l+"":l,a),a);import{r as p,d as u,a as e,j as o,F as f,u as v,H as x,L as n}from"./app-abf02cd1.js";import{A as S}from"./AuthenticatedLayout-e7c7f0a7.js";import{M as C}from"./estilos-contratos-index-3da2b32c.js";/* empty css                               */import"./ApplicationLogo-9c50f8de.js";import"./transition-d989e668.js";class D extends p.exports.Component{constructor(a){super(a);r(this,"inputEmployeeName",a=>{this.setState({employeeName:a.target.value})});r(this,"inputEmployeeSalary",a=>{this.setState({employeeSalary:a.target.value})});r(this,"updateEmployeeData",()=>{u.post("/planes/",{id:1,valor:5,dias:1,estado:"As",tiempo:1}).then(()=>{setTimeout(()=>{location.reload()},2500)})});this.state={employeeName:a.employeeData.nombre,employeeSalary:a.employeeData.valor}}static getDerivedStateFromProps(a,d){let i={employeeName:null,employeeSalary:null};return d.employeeName&&d.employeeName!==a.employeeData.currentEmployeeName||d.employeeSalary&&d.employeeSalary!==a.employeeData.currentEmployeeSalary?null:((d.employeeName!==a.employeeData.currentEmployeeName||d.employeeName===a.employeeData.currentEmployeeName)&&(i.employeeName=a.employeeData.currentEmployeeName),(d.employeeSalary!==a.employeeData.currentEmployeeSalary||d.employeeSalary===a.employeeData.currentEmployeeSalary)&&(i.employeeSalary=a.employeeData.currentEmployeeSalary),i)}render(){return e("div",{className:"modal fade",id:"updateModal"+this.props.modalId,tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e("div",{className:"modal-dialog",children:o("div",{className:"modal-content",children:[o("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Employee Details"}),e("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e("div",{className:"modal-body",children:o("form",{className:"form",children:[e("div",{className:"form-group",children:e("input",{type:"text",id:"employeeName",className:"form-control mb-3",value:this.state.employeeName??"",onChange:this.inputEmployeeName})}),e("div",{className:"form-group",children:e("input",{type:"text",id:"employeeSalary",className:"form-control mb-3",value:this.state.employeeSalary??"",onChange:this.inputEmployeeSalary})})]})}),o("div",{className:"modal-footer",children:[e("input",{type:"submit",className:"btn btn-info",value:"Update",onClick:this.updateEmployeeData}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})]})]})})})}}class E extends p.exports.Component{constructor(a){super(a);r(this,"inputNombre",a=>{this.setState({nombre:a.target.value})});r(this,"inputValor",a=>{this.setState({valor:a.target.value})});r(this,"inputDias",a=>{this.setState({dias:a.target.value})});r(this,"inputTiempo",a=>{this.setState({tiempo:a.target.value})});r(this,"inputDescripcion",a=>{this.setState({descripcion:a.target.value})});r(this,"inputEstado",a=>{this.setState({estado:a.target.value})});r(this,"storeEmployeeData",()=>{u.post("/planes",{dias:this.state.dias,tiempo:this.state.tiempo,descripcion:this.state.descripcion,estado:this.state.estado,nombre:this.state.nombre,valor:this.state.valor}).then(()=>{location.reload()})});r(this,"openModal",()=>{const a=document.getElementById("modalCreate");a.style.display="block",a.classList.toggle("show")});this.state={nombre:null,valor:null,dias:null,tiempo:null,descripcion:null,estado:null}}render(){return o(f,{children:[e("div",{className:"row text-right mb-3 pb-3",children:e("button",{className:"btn btn-info text-right col-3 offset-md-9","data-toggle":"modal","data-target":"#modalCreate",onClick:()=>{this.openModal()},children:"Crear"})}),e("div",{className:"modal fade",id:"modalCreate",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e("div",{className:"modal-dialog",children:o("div",{className:"modal-content",children:[o("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Crear Plan"}),e("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e("div",{className:"modal-body",children:o("form",{className:"form",children:[e("div",{className:"form-group",children:e("input",{type:"text",id:"nombre",className:"form-control mb-3",placeholder:"Nombre",onChange:this.inputNombre})}),e("div",{className:"form-group",children:e("input",{type:"text",id:"valor",className:"form-control mb-3",placeholder:"Valor",onChange:this.inputValor})}),e("div",{className:"form-group",children:e("input",{type:"text",id:"dias",className:"form-control mb-3",placeholder:"Días",onChange:this.inputDias})}),e("div",{className:"form-group",children:e("input",{type:"text",id:"tiempo",className:"form-control mb-3",placeholder:"Tiempo",onChange:this.inputTiempo})}),e("div",{className:"form-group",children:e("input",{type:"text",id:"descripcion",className:"form-control mb-3",placeholder:"Descripcion",onChange:this.inputDescripcion})}),e("div",{className:"form-group",children:e("input",{type:"text",id:"estado",className:"form-control mb-3",placeholder:"Estado",onChange:this.inputEstado})})]})}),o("div",{className:"modal-footer",children:[e("input",{type:"button",value:"Save",className:"btn btn-info",onClick:this.storeEmployeeData}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})]})]})})})]})}}const j=({auth:s,planes:l})=>{const{data:a,setData:d,post:i,processing:M,reset:w,errors:k}=v({planes:l}),y=t=>{a.nombre=t.nombre,a.dias=t.dias;const m=document.getElementById("updateModal"+t.id);m.style.display="block",m.classList.toggle("show")},h=document.querySelectorAll("button[data-bs-dismiss]");h&&h.forEach(b);function b(t,m,I){t.onclick=function(){const c=document.querySelector(".modal.fade.show");c&&(c.style.display="none",c.classList.toggle("show"))}}return o(S,{auth:s,children:[e(x,{title:"Planes"}),o("div",{className:"contenedor-contratos",children:[e(C,{}),o("div",{className:"bg-white overflow-auto w-full text-center",children:[e(E,{}),o("table",{className:"w-full bg-white border tabla ",children:[e("thead",{className:"cabecera-tabla ",style:{backgroundColor:"#00a1c9"},children:o("tr",{className:"bg-paginador text-white uppercase leading-normal",children:[e("th",{children:"IdPlan"}),e("th",{children:"Nombre"}),e("th",{children:"Días"}),e("th",{children:"Tiempo"}),e("th",{children:"Valor"}),e("th",{children:"Descripción"}),e("th",{children:"Estado"}),e("th",{children:"Activar/Inactivar"}),e("th",{children:"Editar"}),e("th",{children:"Eliminar"})]})}),e("tbody",{children:l.map(t=>o("tr",{children:[e("td",{className:"border border-gray-200 margen-textos",children:t.id}),e("td",{className:"border border-gray-200 margen-textos",children:t.nombre}),e("td",{className:"border border-gray-200 margen-textos",children:t.dias}),e("td",{className:"border border-gray-200 margen-textos",children:t.tiempo}),e("td",{className:"border border-gray-200 margen-textos",children:t.valor}),e("td",{className:"border border-gray-200 margen-textos",children:t.descripcion}),e("td",{className:"border border-gray-200 margen-textos",children:t.estado}),e("td",{className:"border border-gray-200 margen-textos",children:t.estado=="Activo"?e(n,{href:route("planes.status",t.id),children:e("span",{class:"material-symbols-outlined text-red-500 iconos-tamano-margen",children:"cancel"})}):e(n,{href:route("planes.status",t.id),children:e("span",{class:"material-symbols-outlined text-green-500 iconos-tamano-margen",children:"check"})})}),o("td",{className:"border border-gray-200 margen-textos",children:[e("button",{type:"button",className:"btn btn-info","data-bs-toggle":"modal","data-bs-target":"#updateModal"+t.id,onClick:()=>{y(t)},children:"Update"}),e(D,{modalId:t.id,employeeData:t}),e(n,{href:route("planes.edit",t.id),children:e("span",{class:"material-symbols-outlined text-cyan-500 iconos-tamano-margen",children:"edit"})})]}),e("td",{className:"border border-gray-200 margen-textos",children:e(n,{href:route("planes.destroy",t),method:"delete",as:"button",children:e("span",{class:"material-symbols-outlined text-red-500 iconos-tamano-margen",children:"delete"})})})]},t.id))})]})]})]})]})};export{j as default};
