import{j as a,a as e,u as K,r as m,F as Q}from"./app-30c5555c.js";import{A as X}from"./AuthenticatedLayout-14ce42a0.js";import{A as Y}from"./MenuOpciones-cce1cc05.js";import{$ as d,P as Z}from"./jquery-5ab17e5d.js";/* empty css              */import"./estilos-capa-autentificacion-2b0322b6.js";import"./ApplicationLogoLici-a88264d9.js";import"./transition-132723e1.js";function ee({type:l="submit",className:r="",processing:o,children:i,onClick:c}){return a("button",{style:{backgroundColor:"#57C700"},type:l,onClick:c,className:`boton items-center px-1 py-1 bg-white rounded-md font-semibold text-xs text-gray-500 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:#00a1c9 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150 ${o&&"opacity-25"} `+r,disabled:o,children:[i,e("i",{className:"bi bi-share text-gray-500 iconos-tamano-margen"})]})}function te({type:l="submit",className:r="",processing:o,children:i,onClick:c}){return a("button",{style:{backgroundColor:"#57C700"},type:l,onClick:c,className:`boton items-center px-1 py-1 bg-white rounded-md font-semibold text-xs text-gray-500 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:#00a1c9 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150 ${o&&"opacity-25"} `+r,disabled:o,children:[i,e("i",{className:"bi bi-folder-minus text-gray-500 iconos-tamano-margen"})]})}const ae=l=>e("a",{href:l.url,target:"_blank",children:e("button",{style:{backgroundColor:"#57C700"},className:"boton items-center px-1 py-1 bg-white rounded-md font-semibold text-xs text-gray-500 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:#00a1c9 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150 ",children:e("i",{className:"bi bi-upload text-gray-500 iconos-tamano-margen"})})});function re({type:l="submit",className:r="",processing:o,children:i,onClick:c}){return a("button",{style:{backgroundColor:"#57C700"},type:l,onClick:c,className:`boton items-center px-1 py-1 bg-white rounded-md font-semibold text-xs text-gray-500 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:#00a1c9 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150 ${o&&"opacity-25"} `+r,disabled:o,children:[i,e("i",{className:"bi bi-star text-gray-500 iconos-tamano-margen"})]})}function oe({type:l="submit",className:r="",processing:o,children:i,onClick:c}){return a("button",{style:{backgroundColor:"#57C700"},type:l,onClick:c,className:`boton items-center px-1 py-1 bg-white rounded-md font-semibold text-xs text-gray-500 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:#00a1c9 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150 ${o&&"opacity-25"} `+r,disabled:o,children:[i,e("i",{className:"bi bi-filetype-pdf text-gray-500 iconos-tamano-margen"})]})}function se({type:l="submit",className:r="",processing:o,children:i,onClick:c}){return a("button",{style:{backgroundColor:"#57C700"},type:l,onClick:c,className:`boton items-center px-1 py-1 bg-white rounded-md font-semibold text-xs text-gray-500 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:#00a1c9 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150 ${o&&"opacity-25"} `+r,disabled:o,children:[i,e("i",{className:"bi bi-eye text-gray-500 iconos-tamano-margen"})]})}const Ce=({auth:l,contratos:r,totalContratos:o,pagina:i,numElementosPagina:c,totalElemetosPaginados:L,usuariosTotales:A})=>{const{data:ne,setData:ie,post:le,get:x,processing:ce,reset:de,errors:ue}=K({}),[E,me]=m.exports.useState(!0),[y,N]=m.exports.useState(0);d("th").click(function(){var t=d(this).parents("table").eq(0),s=t.find("tr:gt(0)").toArray().sort($(d(this).index()));this.asc=!this.asc,this.asc||(s=s.reverse());for(var n=0;n<s.length;n++)t.append(s[n]);q(d(this),this.asc)});function $(t){return function(s,n){var h=v(s,t),u=v(n,t);return d.isNumeric(h)&&d.isNumeric(u)?h-u:h.localeCompare(u)}}function v(t,s){return d(t).children("td").eq(s).html()}function q(t,s){d("th").each(function(n){d(this).removeClass("sorting"),d(this).removeClass("asc"),d(this).removeClass("desc")}),t.addClass("sorting"),s?t.addClass("asc"):t.addClass("desc")}var b=0,f=0;r.length>0&&(b=r[r.length-1].id,f=r[0].id);var B=b;const w=30,C=o,W=parseInt(C/w)+1;var g="";r.length>0&&(b=r[r.length-1].id,f=r[0].id);const I=window.location.search,k=new URLSearchParams(I).get("fecha_publicacion");k!=null&&(g="fecha_publicacion="+k);const j=()=>{i>=W||x("/contratos/"+B+"/"+i+"/next?"+g)},z=()=>{i!=1&&x("/contratos/"+f+"/"+i+"/prev?"+g)},F=t=>{N(t.id)},U=()=>{N(0)},[S,V]=m.exports.useState(0),[_,D]=m.exports.useState(0);m.exports.useEffect(()=>{var t=document.getElementById("div1"),s=document.getElementById("tabla"),n=document.getElementById("wrapper1"),h=document.getElementById("scroll-table");console.log("fake_contenido_tabla",t.offsetWidth),console.log("contenido_tabla",s.offsetWidth),console.log("fake_contenedor_tabla",n.offsetWidth),console.log("contenedor_tabla",h.offsetWidth),V(s.offsetWidth),D(h.offsetWidth);var u=document.getElementById("wrapper1"),p=document.querySelector("#scroll-table");u.onscroll=function(){p.scrollLeft=u.scrollLeft},p.onscroll=function(){u.scrollLeft=p.scrollLeft}});const[H,P]=m.exports.useState([]),[M,T]=m.exports.useState([]),[be,G]=m.exports.useState(""),O=()=>{P(r),T(A)},R=t=>{G(t.target.value),J(t.target.value)},J=t=>{var s=M.filter(n=>{var h=document.getElementsByClassName("tr-users").length;try{if(n.entidad_contratante.toString().toLowerCase().includes(t.toLowerCase())||n.objeto.toString().toLowerCase().includes(t.toLowerCase())||n.modalidad.toString().toLowerCase().includes(t.toLowerCase())||n.ubicacion.toString().toLowerCase().includes(t.toLowerCase()))return t==""?(document.querySelectorAll("span.font-black.numero-elementos-pagina")[0].style.color="#6b7280",document.querySelectorAll("span.guion-paginador")[0].style.color="#6b7280",document.querySelectorAll("#TotalPaginasPaginador")[0].textContent=30,n):(document.querySelectorAll("span.font-black.numero-elementos-pagina")[0].style.color="white",document.querySelectorAll("span.guion-paginador")[0].style.color="white",document.querySelectorAll("#TotalPaginasPaginador")[0].textContent=h,n)}catch(u){console.error(u)}});P(s)};return m.exports.useEffect(()=>{O()},[]),a(X,{auth:l,children:[e("link",{rel:"shortcut icon",href:"#"}),a("div",{children:[a("div",{className:"contenedor-filtros",children:[a("div",{className:"",children:[e("input",{className:"buscador_rapido",id:"buscar",type:"text",placeholder:"Búsqueda rápida",onChange:R}),e("span",{className:"material-symbols-outlined posicion-color",children:"search"})]}),e("div",{className:"",children:a("button",{className:"buscador_avanzado mb-3",children:[e("span",{className:"material-symbols-outlined",children:"list"}),e("span",{className:"color-texto",children:"Búsqueda avanzada"})]})}),a("div",{className:"input-filtro-estado",children:[e("span",{className:"input-filtro-estado-span",children:"Visualizar:"}),a("select",{className:"input-visualizar",children:[e("option",{value:"",children:"todos"}),e("option",{value:"",children:"Vistos recientemente"}),e("option",{value:"",children:"No Leidos"})]})]}),e("div",{children:e(Z,{nextHandler:j,prevHandler:z,currentPage:L,itemsPagina:w,totalElementos:C,totalPaginas:c})})]}),a("div",{className:"contenedor-contratos",children:[e("div",{className:"contenedor-opciones-usuarios",children:e(Y,{})}),a("div",{className:"alto-tabla bg-white overflow-auto ",id:"scroll-table",children:[e("div",{id:"wrapper1",style:{width:_>0?_:0+"px"},children:e("div",{id:"div1",style:{width:S>0?S:0+"px"}})}),a("table",{id:"tabla",className:"w-full bg-white border tabla table-hover",children:[e("thead",{className:"cabecera-tabla",style:{backgroundColor:"#00a1c9"},children:a("tr",{className:"bg-paginador text-white uppercase leading-normal",children:[e("th",{children:"Acciones"}),e("th",{children:"Portal"}),e("th",{children:"Entidad"}),e("th",{children:"Objeto"}),e("th",{children:"Cuantía"}),e("th",{children:"Modalidad"}),e("th",{children:"Número"}),e("th",{children:"Estado"}),e("th",{children:"Publicada"}),e("th",{children:"Ubicación"}),e("th",{children:"Contratista"}),e("th",{children:"Actividad económica"})]})}),e("tbody",{children:H.map(t=>a("tr",{className:"tr-users",children:[e("td",{className:"border border-gray-200 text-left mw-90",children:a("div",{className:"iconos-horizontal width-columna-acciones",children:[a("div",{children:[e(oe,{}),e(ae,{url:t.link}),e(re,{})]}),a("div",{className:"",children:[e(ee,{}),e(te,{}),e(se,{})]})]})}),e("td",{className:"border border-gray-200 text-left margen-textos",children:e("span",{className:"circulo",children:t.fuente.alias_portal})}),e("td",{className:"border border-gray-200 text-left margen-textos",children:e("span",{className:"data-text width-columna-menor",children:t.entidad_contratante})}),a("td",{className:"border border-gray-200 text-left margen-textos mw-200",children:[E&&e(Q,{children:y!=t.id&&a("span",{className:"data-text",children:[t.objeto.substr(0,40),"..."," ",e("a",{className:"text-primary",onClick:()=>F(t),children:"Ver más"})]})}),y==t.id&&e("div",{className:"showmore",children:a("span",{className:"data-text",children:[t.objeto,e("a",{className:"text-primary",onClick:()=>U(),children:"Ver menos"})]})})]}),e("td",{className:"border border-gray-200 text-left margen-textos width-columna-menor",children:t.valor>0?"$"+t.valor.toLocaleString("ch-CH"):t.valor_texto}),e("td",{className:"border border-gray-200 text-left margen-textos mw-200",children:e("span",{className:"data-text ",children:t.modalidad})}),e("td",{className:"border border-gray-200 text-left margen-textos ",children:e("span",{className:"data-text ",children:t.codigo_proceso})}),e("td",{className:"border border-gray-200 text-left color-estado margen-textos width-columna-menor",children:e("span",{className:"data-text ",children:t.estado_proceso})}),e("td",{className:"border border-gray-200 text-left margen-textos",children:e("span",{className:"data-text width-columna-menor",children:t.fecha_publicacion})}),e("td",{className:"border border-gray-200 text-left margen-textos width-columna-menor",children:e("span",{className:"data-text ",children:t.ubicacion})}),e("td",{className:"border border-gray-200 text-left margen-textos mw-200",children:e("span",{className:"data-text ",children:t.contratista})}),e("td",{className:"border border-gray-200 text-left margen-textos",children:e("span",{className:"data-text ",children:t.actividad_economica})})]},t.id))})]})]})]})]})]})};export{Ce as default};
