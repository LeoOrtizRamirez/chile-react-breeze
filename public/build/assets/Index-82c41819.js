import{r as n,a as e,F as x,j as a,d as L}from"./app-9b8ef05b.js";import{A as P,C as I,T as D}from"./AuthenticatedLayout-6448c2e3.js";/* empty css                      */import{M as m}from"./Nav-435ddd88.js";import"./InputError-d3e8df7d.js";import"./hasClass-19cb1dcf.js";import"./mergeOptionsWithPopperConfig-7e8be01d.js";import"./module-2235d321.js";import"./Button-b20e3900.js";/* empty css                 */const W=({auth:S,carpetas:N})=>{const[r,b]=n.exports.useState(N),[y,j]=n.exports.useState(N),[w,p]=n.exports.useState(!1),g=()=>{p(!0)},q=()=>{i(null),p(!1)},F=s=>{l(s)},[_,i]=n.exports.useState([]),z=s=>{i(s),p(!0)},M=()=>{l(!0);var s=document.querySelector('meta[name="csrf-token"]');axios.post("/cliente/carpeta/eliminar",_,{Authorization:`Bearer ${s}`}).then(c=>{C(c.data),o(),l(!1),v.current.show({severity:"success",summary:"Carpeta eliminada exitosamente.",life:3e3}),i([])}).catch(c=>{console.log(c)})},[B,f]=n.exports.useState(!1),o=()=>f(!1),E=s=>{i(s),f(!0)},[R,l]=n.exports.useState(!1),C=s=>{l(!1),b(s),j(s)},v=n.exports.useRef(null),u=n.exports.useRef(null),[d,A]=n.exports.useState(""),k=s=>{if((s==null?void 0:s.key)==="Enter"||(s==null?void 0:s.type)=="click"){A(u.current.value),l(!0);let c=document.querySelector('meta[name="csrf-token"]');axios.get("/cliente/carpeta/get-carpetas-paginadas?filtroBusqueda="+u.current.value,{headers:{Authorization:`Bearer ${c}`}}).then(t=>{console.log(t.data),b(t.data),l(!1)}).catch(t=>{console.error("Request failed:",t.response.status,t.response.data)})}},h=s=>{L.Inertia.visit(s,{method:"get",preserveState:!0,preserveScroll:!0})};return e(x,{children:a(P,{auth:S,page:"carpetas",carpetas:y,globalLoading:R,children:[a("div",{className:"content_blank_interno margin_left_layout",children:[e("div",{className:"col",children:e("h2",{className:"name_seccion_app",children:"Administrar carpetas"})}),a("div",{children:[a("div",{className:"cabecera",children:[a("button",{className:"cabecera__btn-crear-carpeta btnRadius btn-new-green",onClick:g,children:[e("i",{className:"icon-Crear"})," Crea una carpeta"]}),r.length!=0&&e("div",{className:"paginacion",children:d!=""?a("span",{className:"paginacion__registros",children:["1 - ",r.length," de ",r.length," registros"]}):a("span",{className:"paginacion__registros",children:["1 - ",r.length+2," de ",r.length+2," registros"]})})]}),a("div",{className:"carpetas",children:[e("div",{className:"busqueda-rapida",children:a("div",{className:"busqueda-rapida__cont-buscar",children:[e("input",{type:"text",placeholder:"Buscar carpeta",className:"form-control",onKeyDown:k,ref:u}),e("button",{type:"button",className:"busqueda-rapida__btn-buscar icon-Buscar-click",onClick:k})]})}),a("div",{className:"list-carpetas",children:[d==""&&a(x,{children:[e("div",{className:"list-carpetas__cont",children:a("div",{className:"carpeta",onClick:()=>h("/cliente/contratos/get-info/F"),children:[e("div",{className:"carpeta__cont-icon",children:e("span",{className:"icon-Favorito-click carpeta__icon--favorito"})}),e("span",{className:"carpeta__nombre--favorito",children:"Mis Favoritos"})]})}),e("div",{className:"list-carpetas__cont",children:a("div",{className:"carpeta",onClick:()=>h("/cliente/contratos/get-info/P"),children:[e("div",{className:"carpeta__cont-icon",children:e("span",{className:"icon-Eliminar carpeta__icon--papelera"})}),e("span",{className:"carpeta__nombre--papelera",children:"Papelera"})]})})]}),r.map((s,c)=>e("div",{className:"list-carpetas__cont",children:a("div",{className:"carpeta",onClick:()=>h(`/cliente/contratos/get-info/C?carpeta=${s.id}`),children:[e("div",{className:"carpeta__cont-icon",children:a("span",{className:"icon-Mis-carpetas carpeta__icon",style:{color:s.color},children:[e("span",{className:"path1"}),e("span",{className:"path2"})]})}),e("span",{className:"carpeta__nombre",children:s.nombre_carpeta}),a("div",{className:"carpeta__acciones",children:[e("i",{className:"icon-Editar carpeta__btn-editar",onClick:t=>{t.stopPropagation(),z(s)}}),e("i",{className:"icon-Eliminar carpeta__btn-eliminar",onClick:t=>{t.stopPropagation(),E(s)}})]})]})},c))]})]}),a("div",{className:"mensajes-busqueda",children:[r.length==0&&d==""&&e("div",{className:"mensajes-busqueda",children:e("div",{id:"mensajes-sin-carpeta",className:"container content_blank_intern",children:a("div",{className:"row",children:[e("div",{className:"col-12 col-lg-5 text-center",children:e("img",{src:"/public/images/mensajes-personalizados/sin-carpetas-modal.svg",alt:"sin carpetas",className:"img-fluid imagen-sin-carpetas"})}),a("div",{className:"col-12 col-lg-7 my-auto",children:[e("h5",{className:"text-center titulo-personalizado",children:"Aún no has creado una carpeta."}),a("div",{className:"cont-mensaje-personalizado",children:[e("i",{className:"icon-Bombillo"}),e("p",{className:"mensaje-personalizado",children:"Las carpetas te permiten mantener organizada toda tu información de interés y en un solo lugar."})]}),a("button",{className:"btn btn-new-green btnRadius mx-auto d-block btn-sin-perfil-crear",onClick:g,children:[e("i",{className:"icon-Crear"})," Crea tu primera carpeta"]})]})]})})}),r.length==0&&d!=""&&e("div",{id:"mensajes-personalizado-busqueda",className:"container-fluid content_blank_interno",children:a("div",{className:"row justify-content-center align-items-center",children:[e("div",{className:"col-md-4 col-sm-4 offset-md-1 offset-sm-1",children:e("img",{src:"/public/images/sin-resultados-busqueda.webp",alt:"",className:"img-fluid mensaje-imagen"})}),e("div",{className:"col-md-5 col-sm-5 offset-sm-1 offset-md-1",children:a("div",{className:"estructura-mensaje-personalizado",children:[a("h4",{className:"text-center titulo-personalizado",children:[e("b",{className:"text-rojo",children:"No se encontró"})," el resultado."]}),a("div",{className:"position-relative",children:[e("span",{className:"icon-Bombillo mensaje-icono"}),e("p",{className:"mensaje-personalizado d-block text-left",children:"Prueba cambiando tus opciones de búsqueda e intentalo nuevamente."})]})]})})]})})]})]})]}),e(I,{showModal:w,handleCloseModal:q,carpeta:_,handleCarpetas:C,globalLoading:F}),a(m,{show:B,onHide:o,id:"modal_eliminar_carpeta",size:"lg",centered:!0,children:[a(m.Header,{children:[e("h4",{className:"modal-title",children:"¿Deseas eliminar la carpeta?"}),a("button",{type:"button",className:"close icon-Cerrar-modal",onClick:o,children:[e("span",{className:"path1"}),e("span",{className:"path2"})]})]}),e(m.Body,{children:e("p",{className:"modal-message",children:"Después de eliminarla ya no podrás recuperarla, deberás crear una nueva. De igual manera no podrás recuperar los procesos de contratación que estén contenidos en esta carpeta."})}),a(m.Footer,{children:[e("button",{className:"btnRadius btn-action btn-new-danger",onClick:M,children:"Eliminar"}),e("button",{className:"btnRadius btn-new-blue",onClick:o,children:"Conservar"})]})]}),e(D,{ref:v,position:"bottom-left"})]})})};export{W as default};
