import{u as g,a as e,j as l,F as f,H as y,L as u}from"./app-d26e5266.js";import{A as x}from"./AuthenticatedLayout-c75da978.js";import{A as C}from"./estilos-contratos-index-9eba6141.js";/* empty css                               */import"./estilos-capa-autentificacion-65e3bf68.js";import"./transition-b0a2847a.js";const w=({planData:t})=>{console.log(t.id);const{data:o,setData:i,patch:m,processing:h,reset:N,errors:s}=g({id:t.id,nombre:t.nombre,valor:t.valor,dias:t.dias,tiempo:t.tiempo,descripcion:t.descripcion,estado:t.estado}),d=r=>{i({...o,[r.target.name]:r.target.value})},n=r=>{console.log(o),r.preventDefault(),m(route("planes.update",o.id),{onSuccess:()=>setEditing(!1)});const c=document.querySelector(".modal.fade.show");c&&(c.style.display="none",c.classList.toggle("show"))};return e("div",{className:"modal fade",id:"updateModal"+o.id,tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e("div",{className:"modal-dialog",children:e("div",{className:"modal-content",children:l("form",{className:"form",onSubmit:n,children:[l("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Actualizar plan"}),e("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"})]}),l("div",{className:"modal-body",children:[e("div",{className:"form-group",children:e("input",{type:"text",id:"nombre",name:"nombre",className:"form-control mb-3",placeholder:"Nombre",value:o.nombre,onChange:d})}),e("div",{className:"form-group",children:e("input",{type:"text",id:"valor",name:"valor",className:"form-control mb-3",placeholder:"Valor",value:o.valor,onChange:d})}),e("div",{className:"form-group",children:e("input",{type:"text",id:"dias",name:"dias",className:"form-control mb-3",placeholder:"Días",value:o.dias,onChange:d})}),e("div",{className:"form-group",children:e("input",{type:"text",id:"tiempo",name:"tiempo",className:"form-control mb-3",placeholder:"Tiempo",value:o.tiempo,onChange:d})}),e("div",{className:"form-group",children:e("input",{type:"text",id:"descripcion",name:"descripcion",className:"form-control mb-3",placeholder:"Descripcion",value:o.descripcion,onChange:d})}),e("div",{className:"form-group",children:e("input",{type:"text",id:"estado",name:"estado",className:"form-control mb-3",placeholder:"Estado",value:o.estado,onChange:d})})]}),l("div",{className:"modal-footer",children:[e("input",{type:"submit",className:"btn btn-info",value:"Actualizar"}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cerrar"})]})]})})})})},_=()=>{const{data:t,setData:o,post:i,processing:m,reset:h,errors:N}=g({nombre:null,valor:null,dias:null,tiempo:null,descripcion:null,cantidad_tiempo:null,valor_cuenta_adicional:null,estado:null}),s=n=>{o({...t,[n.target.name]:n.target.value})};return e(f,{children:e("div",{className:"modal fade",id:"modalCreate",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e("div",{className:"modal-dialog",children:e("div",{className:"modal-content",children:l("form",{className:"form",onSubmit:n=>{n.preventDefault(),i(route("planes.store"),{onSuccess:()=>h()});const r=document.querySelector(".modal.fade.show");r&&(r.style.display="none",r.classList.toggle("show"))},children:[l("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Crear Plan"}),e("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"})]}),l("div",{className:"modal-body",children:[l("div",{className:"row",children:[e("div",{className:"col-6",children:l("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Nombre Plan:"}),e("input",{type:"text",id:"nombre",name:"nombre",className:"form-control mb-3",placeholder:"Nombre",onChange:s})]})}),e("div",{className:"col-6",children:l("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Valor:"}),e("input",{type:"text",id:"valor",name:"valor",className:"form-control mb-3",placeholder:"Valor",onChange:s})]})})]}),l("div",{className:"row",children:[e("div",{className:"col-6",children:l("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Días:"}),e("input",{type:"text",id:"dias",name:"dias",className:"form-control mb-3",placeholder:"Días",onChange:s})]})}),e("div",{className:"col-6",children:l("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Valor cuenta adicional:"}),e("input",{type:"text",id:"valor_cuenta_adicional",name:"valor_cuenta_adicional",className:"form-control mb-3",placeholder:"Valor",onChange:s})]})})]}),l("div",{className:"d-flex mb-1",children:[e("p",{className:"text-left",children:"Tiempo de plan:"}),e("p",{className:"text-left px-2",children:"Días:"}),e("input",{type:"radio",name:"tiempo",value:"dias",onChange:s}),e("p",{className:"text-left px-2",children:"Meses:"}),e("input",{type:"radio",name:"tiempo",value:"meses",onChange:s})]}),e("div",{className:"row",children:e("div",{className:"form-group",children:e("input",{type:"number",id:"cantidad_tiempo",name:"cantidad_tiempo",className:"form-control mb-3",onChange:s})})}),e("div",{className:"row",children:l("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Descripción:"}),e("input",{type:"textarea",id:"descripcion",name:"descripcion",className:"form-control mb-3",placeholder:"Descripción",onChange:s})]})})]}),l("div",{className:"modal-footer",children:[e("input",{type:"submit",value:"Crear",className:"btn btn-info"}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cerrar"})]})]})})})})})};const S=({auth:t,planes:o})=>{const{data:i,setData:m,post:h,processing:N,reset:s,errors:d}=g({planes:o}),n=a=>{i.nombre=a.nombre,i.dias=a.dias;const b=document.getElementById("updateModal"+a.id);b.style.display="block",b.classList.toggle("show")},r=()=>{const a=document.getElementById("modalCreate");a.style.display="block",a.classList.toggle("show")},c=document.querySelectorAll("button[data-bs-dismiss]");c&&c.forEach(v);function v(a,b,D){a.onclick=function(){const p=document.querySelector(".modal.fade.show");p&&(p.style.display="none",p.classList.toggle("show"))}}return l(x,{auth:t,children:[e(y,{title:"Planes"}),l("div",{className:"contenedor-contratos",children:[e(C,{}),l("div",{className:"bg-white overflow-auto w-full text-center",children:[e("div",{className:"usuarios",children:l("div",{className:"contenedor-botones",children:[e("a",{className:"autorenew",href:"javascript:location.reload()",children:e("span",{className:"material-symbols-outlined",children:"autorenew"})}),e(_,{}),e("a",{className:"add_circle",onClick:()=>{r()},children:e("span",{className:"material-symbols-outlined material-symbols-outlined-color",children:"add_circle"})})]})}),l("table",{className:"w-full bg-white border tabla ",children:[e("thead",{className:"cabecera-tabla ",style:{backgroundColor:"#00a1c9"},children:l("tr",{className:"bg-paginador text-white uppercase leading-normal",children:[e("th",{children:"IdPlan"}),e("th",{children:"Nombre"}),e("th",{children:"Días"}),e("th",{children:"Tiempo"}),e("th",{children:"Valor"}),e("th",{children:"Descripción"}),e("th",{children:"Estado"}),e("th",{children:"Activar/Inactivar"}),e("th",{children:"Editar"}),e("th",{children:"Eliminar"})]})}),e("tbody",{children:o.map(a=>l("tr",{children:[e("td",{className:"border border-gray-200 margen-textos",children:a.id}),e("td",{className:"border border-gray-200 margen-textos",children:a.nombre}),e("td",{className:"border border-gray-200 margen-textos",children:a.dias}),e("td",{className:"border border-gray-200 margen-textos",children:a.tiempo}),e("td",{className:"border border-gray-200 margen-textos",children:a.valor}),e("td",{className:"border border-gray-200 margen-textos",children:a.descripcion}),e("td",{className:"border border-gray-200 margen-textos",children:a.estado}),e("td",{className:"border border-gray-200 margen-textos",children:a.estado=="Activo"?e(u,{href:route("planes.status",a.id),className:"btn btn-danger btn-sm",children:e("span",{class:"material-symbols-outlined text-white iconos-tamano-margen align-middle",children:"cancel"})}):e(u,{href:route("planes.status",a.id),className:"btn btn-success btn-sm",children:e("span",{class:"material-symbols-outlined text-white iconos-tamano-margen align-middle",children:"check"})})}),l("td",{className:"border border-gray-200 margen-textos",children:[e("button",{type:"button",className:"btn btn-info btn-sm","data-bs-toggle":"modal","data-bs-target":"#updateModal"+a.id,onClick:()=>{n(a)},children:e("span",{class:"material-symbols-outlined text-white iconos-tamano-margen align-middle",children:"edit"})}),e(w,{planData:a})]}),e("td",{className:"border border-gray-200 margen-textos",children:e(u,{href:route("planes.destroy",a),method:"delete",as:"button",className:"btn btn-danger btn-sm",children:e("span",{class:"material-symbols-outlined text-white iconos-tamano-margen align-middle",children:"delete"})})})]},a.id))})]})]})]})]})};export{S as default};
