import{a as e,j as l,L as T,u as H,r as c,H as z}from"./app-490f1d75.js";import{A as F}from"./AuthenticatedLayout-af6e1f18.js";import{A as O}from"./MenuOpciones-ea3361c5.js";import{$ as s,P as G}from"./jquery-00eb009b.js";/* empty css                      */import"./estilos-capa-autentificacion-3a0e35ed.js";import"./ApplicationLogoLici-a51f90b8.js";import"./transition-8065b3e7.js";const Q=r=>{const{handleSearch:a}=r;return e("div",{className:"modal fade show",id:"deleteModal"+r.usuario.id,tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"},children:e("div",{className:"modal-dialog",children:l("div",{className:"modal-content",children:[l("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Eliminar Plan"}),e("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:a})]}),e("div",{className:"modal-body",children:e("div",{className:"row",children:e("div",{className:"col-12",children:l("h6",{className:"color-negro",children:["¿Quieres eliminar el usuario ",r.usuario.nombre_completo," ?"]})})})}),l("div",{className:"modal-footer",children:[e(T,{href:route("usuarios.destroy",r.usuario),method:"delete",as:"button",className:"btn btn-danger",children:"Eliminar"}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:a,children:"Cerrar"})]})]})})})};s("th").click(function(){var r=s(this).parents("table").eq(0),a=r.find("tr:gt(0)").toArray().sort(V(s(this).index()));this.asc=!this.asc,this.asc||(a=a.reverse());for(var o=0;o<a.length;o++)r.append(a[o]);$(s(this),this.asc)});function V(r){return function(a,o){var d=x(a,r),i=x(o,r);return s.isNumeric(d)&&s.isNumeric(i)?d-i:d.localeCompare(i)}}function x(r,a){return s(r).children("td").eq(a).html()}function $(r,a){s("th").each(function(o){s(this).removeClass("sorting"),s(this).removeClass("asc"),s(this).removeClass("desc")}),r.addClass("sorting"),a?r.addClass("asc"):r.addClass("desc")}const ce=({auth:r,usuarios:a,totalUsuarios:o,pagina:d,numElementosPagina:i,totalElemetosPaginados:f,usuariosTotales:N})=>{const{data:J,setData:K,post:R,get:m,processing:W,reset:X,errors:Y}=H({}),[h,b]=c.exports.useState(!1),[y,v]=c.exports.useState(0),C=t=>{b(!0),v(t.id)},w=t=>{b(!1)};var _=a[a.length-1].id;const S=a[0].id;a[0].id;const g=30,p=o,P=parseInt(p/g)+1,A=()=>{d>=P||(console.log(a),m("/usuarios/"+_+"/"+d+"/next"))},E=()=>{d!=1&&m("/usuarios/"+S+"/"+d+"/prev")},[L,u]=c.exports.useState([]),[D,M]=c.exports.useState([]),[ee,U]=c.exports.useState(""),k=()=>{u(a),M(N)},j=t=>{U(t.target.value),q(t.target.value)},q=t=>{var I=D.filter(n=>{var B=document.getElementsByClassName("tr-users").length;if(n.name.toString().toLowerCase().includes(t.toLowerCase())||n.email.toString().toLowerCase().includes(t.toLowerCase())||n.celular.toString().includes(t.toLowerCase())||n.identificacion.toString().toLowerCase().includes(t.toLowerCase()))return t==""?(document.querySelectorAll("span.font-black.numero-elementos-pagina")[0].style.color="#6b7280",document.querySelectorAll("span.guion-paginador")[0].style.color="#6b7280",document.querySelectorAll("#TotalPaginasPaginador")[0].textContent=30,n):(document.querySelectorAll("span.font-black.numero-elementos-pagina")[0].style.color="white",document.querySelectorAll("span.guion-paginador")[0].style.color="white",document.querySelectorAll("#TotalPaginasPaginador")[0].textContent=B,n)});u(I)};return c.exports.useEffect(()=>{k()},[]),l(F,{auth:r,className:"testindexusers",children:[e(z,{title:"Usuarios"}),l("div",{className:"contenedor-usuarios",children:[e("div",{className:"contenedor-opciones-usuarios",children:e(O,{})}),l("div",{className:"contenedor-informacion-usuarios bg-white overflow-scroll ",children:[l("div",{className:"usuarios",children:[l("div",{className:"contenedor-botones",children:[l("div",{className:"",children:[e("input",{className:"buscador_rapido",id:"buscar",type:"text",placeholder:"Búsqueda rápida",onChange:j}),e("span",{className:"material-symbols-outlined posicion-color",children:"search"})]}),e("a",{className:"autorenew",href:"javascript:location.reload()",children:e("span",{className:"material-symbols-outlined actualizar-color",children:"autorenew"})}),e("a",{className:"add_circle",href:route("usuarios.create"),children:e("span",{className:"material-symbols-outlined material-symbols-outlined-color",children:"add_circle"})})]}),e("div",{className:"margen-titulo",children:"Usuarios"}),e("div",{})]}),l("table",{id:"tabla",className:"w-full bg-white border tabla ",children:[e("thead",{className:"cabecera-tabla ",style:{backgroundColor:"#00a1c9"},children:l("tr",{className:"bg-paginador text-white uppercase leading-normal",children:[e("th",{children:"Acciones"}),e("th",{children:"# Documento"}),e("th",{children:"Nombre"}),e("th",{children:"País"}),e("th",{children:"Ciudad"}),e("th",{children:"Dirección"}),e("th",{children:"indicativo"}),e("th",{children:"Celular"}),e("th",{children:"teléfono fijo"}),e("th",{children:"Email"}),e("th",{children:"Plan"}),e("th",{children:"Creacion"}),e("th",{children:"Final Plan"}),e("th",{children:"Estado"}),e("th",{children:"Como se entero de Licitaciones"}),e("th",{children:"NIT"}),e("th",{children:"Empresa"}),e("th",{children:"País empresa"}),e("th",{children:"Ciudad empresa"}),e("th",{children:"Dirección empresa"}),e("th",{children:"Indicativo empresa"}),e("th",{children:"Celular empresa"}),e("th",{children:"Telefono fijo empresa"}),e("th",{children:"Email empresa"}),e("th",{children:"Actividad economica"})]})}),e("tbody",{children:L.map(t=>l("tr",{className:"tr-users",children:[e("td",{className:"border border-gray-200 text-left px-4 ",children:l("div",{className:"iconos-horizontal",children:[l("div",{className:"estilos-boton-eliminar",children:[e("button",{type:"button",className:"btn btn-danger btn-sm usuarios","data-bs-toggle":"modal","data-bs-target":"#deleteModal"+t.id,onClick:()=>{C(t)},children:e("span",{className:"material-symbols-outlined text-white iconos-tamano-margen align-middle",children:"delete"})}),h&&y==t.id&&e(Q,{usuario:t,openDeleteModal:h,handleSearch:w})]}),e("div",{className:"estilos-boton-editar",children:e("a",{href:route("usuarios.update",t.uuid)+"/edit",children:e("span",{className:"material-symbols-outlined",children:"edit"})})}),e("div",{className:"estilos-boton-email",children:e("span",{className:"material-symbols-outlined",children:"mail"})})]})}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.identificacion}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.nombre_completo}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.pais}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.ciudad}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.direccion}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.indicativo}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.celular}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.telefono_fijo}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.email}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.idplan}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.created_at.substr(0,10)}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.fecha_vencimiento}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.estado}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.origen}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.nit_empresa}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.nombre_empresa}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.pais_empresa}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.ciudad_empresa}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.direccion_empresa}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.indicativo_empresa}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.celular_empresa}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.telefono_fijo_empresa}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.email_facturacion_empresa}),e("td",{className:"border border-gray-200 text-left margen-textos",children:t.descripcion_actividad_economica})]},t.id))})]}),e(G,{nextHandler:A,prevHandler:E,currentPage:f,itemsPagina:g,totalElementos:p,totalPaginas:i})]})]})]})};export{ce as default};
