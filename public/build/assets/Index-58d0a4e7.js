import{a as e,j as s,u as T,r as i,H}from"./app-2c91d48a.js";import{A as z}from"./AuthenticatedLayout-c8a6ecd8.js";import{A as F}from"./MenuOpciones-a9a2ba0e.js";import{$ as l,P as O}from"./jquery-37a6d2e7.js";/* empty css              *//* empty css                      */import"./estilos-capa-autentificacion-12a9a56c.js";import"./ApplicationLogoLici-9ef46864.js";import"./transition-e66cc5a0.js";const G=t=>{const{handleSearch:r}=t,o=()=>{fetch("/usuarios/"+t.usuario.uuid+"/delete").then(d=>d.json()).then(d=>{d=="Success"?(console.log("Sucess"),r(),location.reload()):console.log("Error")})};return e("div",{className:"modal fade show",id:"deleteModal"+t.usuario.id,tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"},children:e("div",{className:"modal-dialog",children:s("div",{className:"modal-content",children:[s("div",{className:"modal-header",id:"modal-header-delete-user",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Eliminar Usuario"}),e("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:r})]}),e("div",{className:"modal-body",children:e("div",{className:"row",children:e("div",{className:"col-12",children:s("h6",{className:"color-negro",children:["¿Quieres eliminar el usuario ",t.usuario.nombre_completo," ?"]})})})}),s("div",{className:"modal-footer",children:[e("button",{onClick:o,className:"btn btn-danger",children:"Eliminar"}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:r,children:"Cerrar"})]})]})})})};l("th").click(function(){var t=l(this).parents("table").eq(0),r=t.find("tr:gt(0)").toArray().sort(Q(l(this).index()));this.asc=!this.asc,this.asc||(r=r.reverse());for(var o=0;o<r.length;o++)t.append(r[o]);V(l(this),this.asc)});function Q(t){return function(r,o){var d=u(r,t),c=u(o,t);return l.isNumeric(d)&&l.isNumeric(c)?d-c:d.localeCompare(c)}}function u(t,r){return l(t).children("td").eq(r).html()}function V(t,r){l("th").each(function(o){l(this).removeClass("sorting"),l(this).removeClass("asc"),l(this).removeClass("desc")}),t.addClass("sorting"),r?t.addClass("asc"):t.addClass("desc")}const ie=({auth:t,usuarios:r,totalUsuarios:o,pagina:d,numElementosPagina:c,totalElemetosPaginados:y,usuariosTotales:N})=>{const{data:$,setData:J,post:K,get:m,processing:R,reset:W,errors:X}=T({}),[h,p]=i.exports.useState(!1),[f,v]=i.exports.useState(0),C=a=>{p(!0),v(a.id)},_=a=>{p(!1)};var S=r[r.length-1].id;const w=r[0].id;r[0].id;const g=30,b=o,A=parseInt(b/g)+1,E=()=>{d>=A||(console.log(r),m("/usuarios/"+S+"/"+d+"/next"))},P=()=>{d!=1&&m("/usuarios/"+w+"/"+d+"/prev")},[D,x]=i.exports.useState([]),[U,L]=i.exports.useState([]),[Z,M]=i.exports.useState(""),j=()=>{x(r),L(N)},k=a=>{M(a.target.value),q(a.target.value)},q=a=>{var I=U.filter(n=>{var B=document.getElementsByClassName("tr-users").length;if(n.name.toString().toLowerCase().includes(a.toLowerCase())||n.email.toString().toLowerCase().includes(a.toLowerCase())||n.celular.toString().includes(a.toLowerCase())||n.identificacion.toString().toLowerCase().includes(a.toLowerCase()))return a==""?(document.querySelectorAll("span.font-black.numero-elementos-pagina")[0].style.color="#6b7280",document.querySelectorAll("span.guion-paginador")[0].style.color="#6b7280",document.querySelectorAll("#TotalPaginasPaginador")[0].textContent=30,n):(document.querySelectorAll("span.font-black.numero-elementos-pagina")[0].style.color="white",document.querySelectorAll("span.guion-paginador")[0].style.color="white",document.querySelectorAll("#TotalPaginasPaginador")[0].textContent=B,n)});x(I)};return i.exports.useEffect(()=>{j()},[]),s(z,{auth:t,className:"testindexusers",children:[e(H,{title:"Usuarios"}),s("div",{className:"contenedor-usuarios",children:[e("div",{className:"contenedor-opciones-usuarios",children:e(F,{})}),s("div",{className:"contenedor-informacion-usuarios bg-white",children:[s("div",{className:"usuarios",children:[s("div",{className:"contenedor-botones",children:[s("div",{className:"",children:[e("input",{className:"buscador_rapido",id:"buscar",type:"text",placeholder:"Búsqueda rápida",onChange:k}),e("span",{className:"material-symbols-outlined posicion-lupa-color",children:"search"})]}),e("a",{className:"autorenew",href:"javascript:location.reload()",children:e("span",{className:"material-symbols-outlined actualizar-color",children:"autorenew"})}),e("a",{className:"add_circle",href:route("usuarios.create"),children:e("span",{className:"material-symbols-outlined material-symbols-outlined-color",children:"add_circle"})})]}),e("div",{className:"margen-titulo",children:"Usuarios"}),e("div",{})]}),e("div",{className:"tabla-ubicacion-usuarios",children:s("table",{id:"tabla",className:"",children:[e("thead",{className:"cabecera-tabla ",style:{backgroundColor:"#00a1c9"},children:s("tr",{className:"bg-paginador text-white uppercase leading-normal",children:[e("th",{style:{padding:"0px 35px"},children:"Acciones"}),e("th",{style:{padding:"0px 10px"},children:"Documento"}),e("th",{style:{padding:"0px 35px"},children:"Nombre"}),e("th",{style:{padding:"0px 10px"},children:"País"}),e("th",{style:{padding:"0px 10px"},children:"Ciudad"}),e("th",{style:{padding:"0px 35px"},children:"Dirección"}),e("th",{style:{padding:"0px 35px"},children:"indicativo"}),e("th",{style:{padding:"0px 35px"},children:"Celular"}),e("th",{style:{padding:"0px 35px"},children:"teléfono fijo"}),e("th",{style:{padding:"0px 35px"},children:"Email"}),e("th",{style:{padding:"0px 0px"},children:"Plan"}),e("th",{style:{padding:"0px 35px"},children:"Creacion"}),e("th",{style:{padding:"0px 35px"},children:"Final Plan"}),e("th",{style:{padding:"0px 10px"},children:"Estado"}),e("th",{style:{padding:"0px 35px"},children:"Como se entero de Licitaciones"}),e("th",{style:{padding:"0px 35px"},children:"NIT"}),e("th",{style:{padding:"0px 35px"},children:"Empresa"}),e("th",{style:{padding:"0px 35px"},children:"País empresa"}),e("th",{style:{padding:"0px 35px"},children:"Ciudad empresa"}),e("th",{style:{padding:"0px 35px"},children:"Dirección empresa"}),e("th",{style:{padding:"0px 10px"},children:"Indicativo empresa"}),e("th",{style:{padding:"0px 10px"},children:"Celular empresa"}),e("th",{style:{padding:"0px 35px"},children:"Telefono fijo empresa"}),e("th",{style:{padding:"0px 35px"},children:"Email empresa"}),e("th",{style:{padding:"0px 35px"},children:"Actividad economica"})]})}),e("tbody",{children:D.map(a=>s("tr",{className:"tr-users",children:[e("td",{className:"border border-gray-200 px-4 ",children:s("div",{className:"iconos-horizontal",children:[s("div",{className:"estilos-boton-eliminar",children:[e("button",{type:"button",className:"btn btn-danger btn-sm usuarios","data-bs-toggle":"modal","data-bs-target":"#deleteModal"+a.id,onClick:()=>{C(a)},children:e("span",{className:"material-symbols-outlined text-white iconos-tamano-margen align-middle",children:"delete"})}),h&&f==a.id&&e(G,{usuario:a,openDeleteModal:h,handleSearch:_})]}),e("div",{className:"estilos-boton-editar",children:e("a",{href:route("usuarios.update",a.uuid)+"/edit",children:e("span",{className:"material-symbols-outlined",children:"edit"})})}),e("div",{className:"estilos-boton-email",children:e("span",{className:"material-symbols-outlined",children:"mail"})})]})}),e("td",{className:"border border-gray-200 margen-textos",children:a.identificacion}),e("td",{className:"border border-gray-200 margen-textos",children:a.nombre_completo}),e("td",{className:"border border-gray-200 margen-textos",children:a.pais}),e("td",{className:"border border-gray-200 margen-textos",children:a.ciudad}),e("td",{className:"border border-gray-200 margen-textos",children:a.direccion}),e("td",{className:"border border-gray-200 margen-textos",children:a.indicativo}),e("td",{className:"border border-gray-200 margen-textos",children:a.celular}),e("td",{className:"border border-gray-200 margen-textos",children:a.telefono_fijo}),e("td",{className:"border border-gray-200 margen-textos",children:a.email}),e("td",{className:"border border-gray-200 margen-textos",children:a.idplan}),e("td",{className:"border border-gray-200 margen-textos",children:a.created_at.substr(0,10)}),e("td",{className:"border border-gray-200 margen-textos",children:a.fecha_vencimiento}),e("td",{className:"border border-gray-200 margen-textos",children:a.estado}),e("td",{className:"border border-gray-200 margen-textos",children:a.origen}),e("td",{className:"border border-gray-200 margen-textos",children:a.nit_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.nombre_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.pais_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.ciudad_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.direccion_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.indicativo_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.celular_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.telefono_fijo_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.email_facturacion_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.descripcion_actividad_economica})]},a.id))})]})}),e(O,{nextHandler:E,prevHandler:P,currentPage:y,itemsPagina:g,totalElementos:b,totalPaginas:c})]})]})]})};export{ie as default};
