import{u as f,a as e,F as b,j as a,L as v,r as p,H as D}from"./app-a0d1ae00.js";import{A as w}from"./AuthenticatedLayout-391fb81b.js";import{A as M}from"./MenuOpciones-15b9d99a.js";import{I as i}from"./InputError-fcedd8ba.js";/* empty css                      */import"./estilos-capa-autentificacion-65952e1b.js";import"./ApplicationLogoLici-c0a4aecd.js";import"./transition-062303d8.js";const _=l=>{console.log(l);const{handleSearch:n}=l,{data:o,setData:c,patch:m,processing:u,reset:N,errors:d}=f({id:l.planData.id,nombre:l.planData.nombre,valor:l.planData.valor,dias:l.planData.dias,tiempo:l.planData.tiempo,periodo:l.planData.periodo,valor_cuenta_adicional:l.planData.valor_cuenta_adicional,descripcion:l.planData.descripcion,estado:l.planData.estado}),s=r=>{c({...o,[r.target.name]:r.target.value})},h=r=>{r.preventDefault(),m(route("planes.update",o.id),{onSuccess:()=>n()})};return e(b,{children:l.openUpdateModal&&a(b,{children:[e("div",{class:"fade modal-backdrop show"}),e("div",{className:"modal fade show",id:"updateModal"+o.id,tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"},children:e("div",{className:"modal-dialog",children:e("div",{className:"modal-content",children:a("form",{className:"form",onSubmit:h,children:[a("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Editar Plan"}),e("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:n})]}),a("div",{className:"modal-body",children:[a("div",{className:"row",children:[e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Nombre Plan:"}),e("input",{type:"text",id:"nombre",name:"nombre",value:o.nombre,className:"form-control",placeholder:"Nombre",onChange:s}),e(i,{message:d.nombre,className:"text-left mb-2"})]})}),e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Valor:"}),e("input",{type:"number",id:"valor",name:"valor",value:o.valor,className:"form-control",placeholder:"Valor",onChange:s}),e(i,{message:d.valor,className:"text-left mb-2"})]})})]}),a("div",{className:"row",children:[e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Días:"}),e("input",{type:"number",id:"dias",name:"dias",value:o.dias,className:"form-control",placeholder:"Días",onChange:s}),e(i,{message:d.dias,className:"text-left mb-2"})]})}),e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Valor cuenta adicional:"}),e("input",{type:"number",id:"valor_cuenta_adicional",name:"valor_cuenta_adicional",value:o.valor_cuenta_adicional,className:"form-control",placeholder:"Valor",onChange:s}),e(i,{message:d.valor_cuenta_adicional,className:"text-left mb-2"})]})})]}),a("div",{className:"d-flex mb-1",children:[e("p",{className:"text-left",children:"Tiempo de plan:"}),e("p",{className:"text-left px-2",children:"Días:"}),e("input",{type:"radio",name:"periodo",value:"dias",onChange:s,checked:o.periodo==="dias"}),e("p",{className:"text-left px-2",children:"Meses:"}),e("input",{type:"radio",name:"periodo",value:"meses",onChange:s,checked:o.periodo==="meses"}),e(i,{message:d.periodo,className:"text-left mb-2"})]}),e("div",{className:"row",children:a("div",{className:"form-group",children:[e("input",{type:"number",id:"tiempo",name:"tiempo",value:o.tiempo,className:"form-control",onChange:s}),e(i,{message:d.tiempo,className:"text-left mb-2"})]})}),e("div",{className:"row",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Descripción:"}),e("input",{type:"textarea",id:"descripcion",name:"descripcion",value:o.descripcion,className:"form-control",placeholder:"Descripción",onChange:s})]})})]}),a("div",{className:"modal-footer",children:[e("input",{type:"submit",value:"Actualizar",className:"btn btn-info"}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:n,children:"Cerrar"})]})]})})})})]})})},k=l=>{console.log(l.openCreateModal),console.log(l);const{handleSearch:n}=l,{data:o,setData:c,post:m,processing:u,reset:N,errors:d}=f({nombre:null,valor:null,dias:null,tiempo:null,descripcion:null,periodo:null,valor_cuenta_adicional:null,estado:null}),s=r=>{c({...o,[r.target.name]:r.target.value})},h=r=>{r.preventDefault(),m(route("planes.store"),{onSuccess:()=>n()})};return e(b,{children:l.openCreateModal&&a(b,{children:[e("div",{class:"fade modal-backdrop show"}),e("div",{className:"modal fade show",id:"modalCreate",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"},children:e("div",{className:"modal-dialog",children:e("div",{className:"modal-content",children:a("form",{className:"form",onSubmit:h,children:[a("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Crear Plan"}),e("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:n})]}),a("div",{className:"modal-body",children:[a("div",{className:"row",children:[e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Nombre Plan:"}),e("input",{type:"text",id:"nombre",name:"nombre",className:"form-control",placeholder:"Nombre",onChange:s})]})}),e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Valor:"}),e("input",{type:"number",id:"valor",name:"valor",className:"form-control",placeholder:"Valor",onChange:s}),e(i,{message:d.valor,className:"text-left mb-2"})]})})]}),a("div",{className:"row",children:[e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Días:"}),e("input",{type:"number",id:"dias",name:"dias",className:"form-control",placeholder:"Días",onChange:s}),e(i,{message:d.dias,className:"text-left mb-2"})]})}),e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Valor cuenta adicional:"}),e("input",{type:"number",id:"valor_cuenta_adicional",name:"valor_cuenta_adicional",className:"form-control",placeholder:"Valor",onChange:s}),e(i,{message:d.valor_cuenta_adicional,className:"text-left mb-2"})]})})]}),a("div",{className:"d-flex mb-1",children:[e("p",{className:"text-left",children:"Tiempo de plan:"}),e("p",{className:"text-left px-2",children:"Días:"}),e("input",{type:"radio",name:"periodo",value:"dias",onChange:s}),e("p",{className:"text-left px-2",children:"Meses:"}),e("input",{type:"radio",name:"periodo",value:"meses",onChange:s}),e(i,{message:d.periodo,className:"text-left mb-2"})]}),e("div",{className:"row",children:a("div",{className:"form-group",children:[e("input",{type:"number",id:"tiempo",name:"tiempo",className:"form-control",onChange:s}),e(i,{message:d.tiempo,className:"text-left mb-2"})]})}),e("div",{className:"row",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Descripción:"}),e("input",{type:"textarea",id:"descripcion",name:"descripcion",className:"form-control",placeholder:"Descripción",onChange:s})]})})]}),a("div",{className:"modal-footer",children:[e("input",{type:"submit",value:"Crear",className:"btn btn-info"}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:n,children:"Cerrar"})]})]})})})})]})})},I=l=>{const{handleSearch:n}=l;return a(b,{children:[e("div",{class:"fade modal-backdrop show"}),e("div",{className:"modal fade show",id:"deleteModal"+l.planData.id,tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"},children:e("div",{className:"modal-dialog",children:a("div",{className:"modal-content",children:[a("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Eliminar Plan"}),e("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:n})]}),e("div",{className:"modal-body",children:e("div",{className:"row",children:e("div",{className:"col-12",children:a("h6",{children:["¿Quieres eliminar el plan ",l.planData.nombre," ?"]})})})}),a("div",{className:"modal-footer",children:[e(v,{href:route("planes.destroy",l.planData),method:"delete",as:"button",className:"btn btn-danger",children:"Eliminar"}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:n,children:"Cerrar"})]})]})})})]})},j=({auth:l,planes:n})=>{f({planes:n});const[o,c]=p.exports.useState(!1),[m,u]=p.exports.useState(!1),[N,d]=p.exports.useState(0),[s,h]=p.exports.useState(!1),[r,x]=p.exports.useState(0),y=t=>{u(!0),d(t.id)},C=t=>{h(!0),x(t.id)},g=t=>{c(!1),u(!1),h(!1)};return a(w,{auth:l,children:[e(D,{title:"Planes"}),a("div",{className:"contenedor-planes",children:[e("div",{className:"posicion-opciones-planes",children:e(M,{})}),a("div",{className:"bg-white overflow-auto w-full text-center margen-superior",children:[e("h2",{className:"name_section_app",children:"Planes"}),e("div",{className:"planes",children:a("div",{className:"contenedor-botones",children:[e("a",{className:"autorenew",href:"javascript:location.reload()",children:e("span",{className:"material-symbols-outlined",children:"autorenew"})}),e("a",{className:"add_circle",onClick:()=>{c(!0)},children:e("span",{className:"material-symbols-outlined material-symbols-outlined-color cursor-pointer",children:"add_circle"})})]})}),o&&e(k,{openCreateModal:o,handleSearch:g}),a("table",{className:"w-full bg-white border tabla ",children:[e("thead",{className:"cabecera-tabla ",style:{backgroundColor:"#00a1c9"},children:a("tr",{className:"bg-paginador text-white uppercase leading-normal",children:[e("th",{children:"IdPlan"}),e("th",{children:"Nombre"}),e("th",{children:"Días"}),e("th",{children:"Tiempo"}),e("th",{children:"Valor"}),e("th",{children:"Descripción"}),e("th",{children:"Estado"}),e("th",{children:"Activar/Inactivar"}),e("th",{children:"Editar"}),e("th",{children:"Eliminar"})]})}),e("tbody",{children:n.map(t=>a("tr",{children:[e("td",{className:"border border-gray-200 margen-textos",children:t.id}),e("td",{className:"border border-gray-200 margen-textos",children:t.nombre}),e("td",{className:"border border-gray-200 margen-textos",children:t.dias}),e("td",{className:"border border-gray-200 margen-textos",children:t.tiempo}),e("td",{className:"border border-gray-200 margen-textos",children:t.valor}),e("td",{className:"border border-gray-200 margen-textos",children:t.descripcion}),e("td",{className:"border border-gray-200 margen-textos",children:t.estado}),e("td",{className:"border border-gray-200 margen-textos",children:t.estado=="Activo"?e(v,{href:route("planes.status",t.id),className:"btn btn-danger btn-sm",children:e("span",{className:"text-white iconos-tamano-margen align-middle",children:"cancel"})}):e(v,{href:route("planes.status",t.id),className:"btn btn-success btn-sm",children:e("span",{className:"text-white material-symbols-outlined iconos-tamano-margen align-middle",children:"check"})})}),a("td",{className:"border border-gray-200 margen-textos",children:[e("button",{type:"button",className:"btn btn-info btn-sm","data-bs-toggle":"modal","data-bs-target":"#updateModal"+t.id,onClick:()=>{y(t)},children:e("span",{className:"text-white material-symbols-outlined iconos-tamano-margen align-middle",children:"edit"})}),m&&N==t.id&&e(_,{planData:t,openUpdateModal:m,handleSearch:g})]}),a("td",{className:"border border-gray-200 margen-textos",children:[e("button",{type:"button",className:"btn btn-danger btn-sm","data-bs-toggle":"modal","data-bs-target":"#deleteModal"+t.id,onClick:()=>{C(t)},children:e("span",{className:"text-white material-symbols-outlined iconos-tamano-margen align-middle",children:"delete"})}),s&&r==t.id&&e(I,{planData:t,openDeleteModal:s,handleSearch:g})]})]},t.id))})]})]})]})]})};export{j as default};
