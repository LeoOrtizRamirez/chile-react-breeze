import{u as v,a as e,F as g,j as a,L as N,r as m,H as C}from"./app-050b8a03.js";import{A as D}from"./AuthenticatedLayout-c52da710.js";import{A as M}from"./estilos-contratos-index-a4725aca.js";/* empty css                               */import"./estilos-capa-autentificacion-fbf7374d.js";import"./transition-b56858b0.js";const w=l=>{console.log(l);const{handleSearch:o}=l,{data:n,setData:r,patch:i,processing:h,reset:p,errors:b}=v({id:l.planData.id,nombre:l.planData.nombre,valor:l.planData.valor,dias:l.planData.dias,tiempo:l.planData.tiempo,periodo:l.planData.periodo,valor_cuenta_adicional:l.planData.valor_cuenta_adicional,descripcion:l.planData.descripcion,estado:l.planData.estado}),d=s=>{r({...n,[s.target.name]:s.target.value})},c=s=>{s.preventDefault(),i(route("planes.update",n.id),{onSuccess:()=>l.openUpdateModal==!1}),o()};return e(g,{children:l.openUpdateModal&&e("div",{className:"modal fade show",id:"updateModal"+n.id,tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"},children:e("div",{className:"modal-dialog",children:e("div",{className:"modal-content",children:a("form",{className:"form",onSubmit:c,children:[a("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Editar Plan"}),e("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:o})]}),a("div",{className:"modal-body",children:[a("div",{className:"row",children:[e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Nombre Plan:"}),e("input",{type:"text",id:"nombre",name:"nombre",value:n.nombre,className:"form-control mb-3",placeholder:"Nombre",onChange:d})]})}),e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Valor:"}),e("input",{type:"text",id:"valor",name:"valor",value:n.valor,className:"form-control mb-3",placeholder:"Valor",onChange:d})]})})]}),a("div",{className:"row",children:[e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Días:"}),e("input",{type:"text",id:"dias",name:"dias",value:n.dias,className:"form-control mb-3",placeholder:"Días",onChange:d})]})}),e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Valor cuenta adicional:"}),e("input",{type:"text",id:"valor_cuenta_adicional",name:"valor_cuenta_adicional",value:n.valor_cuenta_adicional,className:"form-control mb-3",placeholder:"Valor",onChange:d})]})})]}),a("div",{className:"d-flex mb-1",children:[e("p",{className:"text-left",children:"Tiempo de plan:"}),e("p",{className:"text-left px-2",children:"Días:"}),e("input",{type:"radio",name:"periodo",value:"dias",onChange:d,checked:n.periodo==="dias"}),e("p",{className:"text-left px-2",children:"Meses:"}),e("input",{type:"radio",name:"periodo",value:"meses",onChange:d,checked:n.periodo==="meses"})]}),e("div",{className:"row",children:e("div",{className:"form-group",children:e("input",{type:"number",id:"cantidad_tiempo",name:"cantidad_tiempo",value:n.cantidad_tiempo,className:"form-control mb-3",onChange:d})})}),e("div",{className:"row",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Descripción:"}),e("input",{type:"textarea",id:"descripcion",name:"descripcion",value:n.descripcion,className:"form-control mb-3",placeholder:"Descripción",onChange:d})]})})]}),a("div",{className:"modal-footer",children:[e("input",{type:"submit",value:"Actualizar",className:"btn btn-info"}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:o,children:"Cerrar"})]})]})})})})})},_=l=>{console.log(l.openCreateModal),console.log(l);const{handleSearch:o}=l,{data:n,setData:r,post:i,processing:h,reset:p,errors:b}=v({nombre:null,valor:null,dias:null,tiempo:null,descripcion:null,periodo:null,valor_cuenta_adicional:null,estado:null}),d=s=>{r({...n,[s.target.name]:s.target.value})},c=s=>{s.preventDefault(),i(route("planes.store"),{onSuccess:()=>p()}),o()};return e(g,{children:l.openCreateModal&&e("div",{className:"modal fade show",id:"modalCreate",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"},children:e("div",{className:"modal-dialog",children:e("div",{className:"modal-content",children:a("form",{className:"form",onSubmit:c,children:[a("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Crear Plan"}),e("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:o})]}),a("div",{className:"modal-body",children:[a("div",{className:"row",children:[e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Nombre Plan:"}),e("input",{type:"text",id:"nombre",name:"nombre",className:"form-control mb-3",placeholder:"Nombre",onChange:d})]})}),e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Valor:"}),e("input",{type:"text",id:"valor",name:"valor",className:"form-control mb-3",placeholder:"Valor",onChange:d})]})})]}),a("div",{className:"row",children:[e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Días:"}),e("input",{type:"text",id:"dias",name:"dias",className:"form-control mb-3",placeholder:"Días",onChange:d})]})}),e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Valor cuenta adicional:"}),e("input",{type:"text",id:"valor_cuenta_adicional",name:"valor_cuenta_adicional",className:"form-control mb-3",placeholder:"Valor",onChange:d})]})})]}),a("div",{className:"d-flex mb-1",children:[e("p",{className:"text-left",children:"Tiempo de plan:"}),e("p",{className:"text-left px-2",children:"Días:"}),e("input",{type:"radio",name:"periodo",value:"dias",onChange:d}),e("p",{className:"text-left px-2",children:"Meses:"}),e("input",{type:"radio",name:"periodo",value:"meses",onChange:d})]}),e("div",{className:"row",children:e("div",{className:"form-group",children:e("input",{type:"number",id:"tiempo",name:"tiempo",className:"form-control mb-3",onChange:d})})}),e("div",{className:"row",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Descripción:"}),e("input",{type:"textarea",id:"descripcion",name:"descripcion",className:"form-control mb-3",placeholder:"Descripción",onChange:d})]})})]}),a("div",{className:"modal-footer",children:[e("input",{type:"submit",value:"Crear",className:"btn btn-info"}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:o,children:"Cerrar"})]})]})})})})})},k=l=>{const{handleSearch:o}=l;return e("div",{className:"modal fade show",id:"deleteModal"+l.planData.id,tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"},children:e("div",{className:"modal-dialog",children:a("div",{className:"modal-content",children:[a("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Eliminar Plan"}),e("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:o})]}),e("div",{className:"modal-body",children:e("div",{className:"row",children:e("div",{className:"col-12",children:a("h6",{children:["¿Quieres eliminar el plan ",l.planData.nombre," ?"]})})})}),a("div",{className:"modal-footer",children:[e(N,{href:route("planes.destroy",l.planData),method:"delete",as:"button",className:"btn btn-danger",children:"Eliminar"}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:o,children:"Cerrar"})]})]})})})};const U=({auth:l,planes:o})=>{v({planes:o});const[n,r]=m.exports.useState(!1),[i,h]=m.exports.useState(!1),[p,b]=m.exports.useState(0),[d,c]=m.exports.useState(!1),[s,f]=m.exports.useState(0),x=t=>{h(!0),b(t.id)},y=t=>{c(!0),f(t.id)},u=t=>{r(!1),h(!1),c(!1)};return a(D,{auth:l,children:[e(C,{title:"Planes"}),a("div",{className:"contenedor-contratos",children:[e("div",{className:"posicion-opciones-planes",children:e(M,{})}),a("div",{className:"bg-white overflow-auto w-full text-center",children:[e("h2",{class:"name_section_app",children:"Planes"}),e("div",{className:"usuarios",children:a("div",{className:"contenedor-botones",children:[e("a",{className:"autorenew",href:"javascript:location.reload()",children:e("span",{className:"material-symbols-outlined",children:"autorenew"})}),e("a",{className:"add_circle",onClick:()=>{r(!0)},children:e("span",{className:"material-symbols-outlined material-symbols-outlined-color cursor-pointer",children:"add_circle"})}),n&&e(_,{openCreateModal:n,handleSearch:u})]})}),a("table",{className:"w-full bg-white border tabla ",children:[e("thead",{className:"cabecera-tabla ",style:{backgroundColor:"#00a1c9"},children:a("tr",{className:"bg-paginador text-white uppercase leading-normal",children:[e("th",{children:"IdPlan"}),e("th",{children:"Nombre"}),e("th",{children:"Días"}),e("th",{children:"Tiempo"}),e("th",{children:"Valor"}),e("th",{children:"Descripción"}),e("th",{children:"Estado"}),e("th",{children:"Activar/Inactivar"}),e("th",{children:"Editar"}),e("th",{children:"Eliminar"})]})}),e("tbody",{children:o.map(t=>a("tr",{children:[e("td",{className:"border border-gray-200 margen-textos",children:t.id}),e("td",{className:"border border-gray-200 margen-textos",children:t.nombre}),e("td",{className:"border border-gray-200 margen-textos",children:t.dias}),e("td",{className:"border border-gray-200 margen-textos",children:t.tiempo}),e("td",{className:"border border-gray-200 margen-textos",children:t.valor}),e("td",{className:"border border-gray-200 margen-textos",children:t.descripcion}),e("td",{className:"border border-gray-200 margen-textos",children:t.estado}),e("td",{className:"border border-gray-200 margen-textos",children:t.estado=="Activo"?e(N,{href:route("planes.status",t.id),className:"btn btn-danger btn-sm",children:e("span",{className:"material-symbols-outlined text-white iconos-tamano-margen align-middle",children:"cancel"})}):e(N,{href:route("planes.status",t.id),className:"btn btn-success btn-sm",children:e("span",{className:"material-symbols-outlined text-white iconos-tamano-margen align-middle",children:"check"})})}),a("td",{className:"border border-gray-200 margen-textos",children:[e("button",{type:"button",className:"btn btn-info btn-sm","data-bs-toggle":"modal","data-bs-target":"#updateModal"+t.id,onClick:()=>{x(t)},children:e("span",{className:"material-symbols-outlined text-white iconos-tamano-margen align-middle",children:"edit"})}),i&&p==t.id&&e(w,{planData:t,openUpdateModal:i,handleSearch:u})]}),a("td",{className:"border border-gray-200 margen-textos",children:[e("button",{type:"button",className:"btn btn-danger btn-sm","data-bs-toggle":"modal","data-bs-target":"#deleteModal"+t.id,onClick:()=>{y(t)},children:e("span",{className:"material-symbols-outlined text-white iconos-tamano-margen align-middle",children:"delete"})}),d&&s==t.id&&e(k,{planData:t,openDeleteModal:d,handleSearch:u})]})]},t.id))})]})]})]})]})};export{U as default};
