import{r as c,a as e,F as n,j as i}from"./app-92efdb12.js";import{A as $e,T as De}from"./AuthenticatedLayout-0dd4f7cd.js";import{A as j}from"./ActividadEconomica-d9159fc6.js";import"./HeaderLite-cc80e22a.js";import{M as p}from"./Nav-83ecfea9.js";import{R as Te}from"./ResumenPerfil-5e847760.js";import{C as Fe}from"./Calendar-97387e70.js";/* empty css              */import"./InputError-ff2d8199.js";import"./hasClass-3d549b43.js";import"./mergeOptionsWithPopperConfig-3e4c2323.js";import"./module-46a34e7e.js";import"./Button-d599734f.js";/* empty css                      *//* empty css                 */import"./ApplicationLogoLici-303a68fe.js";import"./ModalLoginSesion-e95fdb1c.js";import"./Collapse-83694ed6.js";import"./TextInput-71268562.js";/* empty css              */import"./Accordion-650b8f5d.js";const ai=({auth:X,actividades_economicas:Y,tiposcompras:k,localizaciones:x})=>{const[q,He]=c.exports.useState(Y),[g,I]=c.exports.useState([]),[w,L]=c.exports.useState([]),[S,W]=c.exports.useState([]),P=(a,l)=>{switch(l){case"ActividadEconomica":a.length>0?I(a):I([]);break;case"Localizaciones":a.length>0?L(a):L([]);break;case"TiposCompras":a.length>0?W(a):W([]);break}},[s,Z]=c.exports.useState(1),[u,ee]=c.exports.useState([]),r=a=>{g.length==0?z.current.show({severity:"error",summary:"Debes seleccionar mínimo una actividad económica.",life:3e3}):(Z(a),ee([...u,a]))},B=c.exports.useRef(""),[y,E]=c.exports.useState(""),[R,ie]=c.exports.useState("$0"),[ae,M]=c.exports.useState(!1),[b,se]=c.exports.useState(!0),O=(a,l)=>{var m=a.target.value;m=le(m),l=="desde"?(ce(m),ie("$"+new Intl.NumberFormat().format(m))):m==0?(E(""),B.current.setAttribute("placeholder","Sin limite superior")):E("$"+new Intl.NumberFormat().format(m))},ce=a=>{a==0?M(!1):M(!0)},le=a=>(a=a.replace(" ",""),a=a.replace("$",""),a=a.replace(",",""),a=a.replace(".",""),a==""&&(a=0),parseInt(a)),[V,ne]=c.exports.useState(!0),[_,re]=c.exports.useState(!0),A=c.exports.useRef(""),$=c.exports.useRef(""),te=(a,l)=>(a.setDate(a.getDate()-l),a),oe=a=>{a.target.checked?($.current.style.display="block",A.current.classList.remove("disabled"),T(C.toISOString().split("T")[0])):($.current.style.display="none",A.current.classList.add("disabled"),T("Sin Historico"))},[v,de]=c.exports.useState(""),[D,me]=c.exports.useState(""),[N,T]=c.exports.useState(""),pe=a=>{var l=document.querySelector("#inputNombrePerfil");a.target.value==""?l==null||l.classList.add("is-invalid"):l==null||l.classList.remove("is-invalid"),de(a.target.value)},ue=()=>{if(v==""){var a=document.querySelector("#inputNombrePerfil");a==null||a.classList.add("is-invalid"),z.current.show({severity:"error",summary:"Debes ingresar un nombre para el perfil.",life:3e3});return}Q(!0);var l={actividades_economicas:g,tipos_compras:S,localizaciones:w,limite_inferior_cuantia:R,limite_superior_cuantia:y,nombre_filtro:v,descripcion_filtro:D,sin_presupuesto:b,historico_contratacion:N,envio_alertas:_,imagen_filtro:H},m=document.querySelector('meta[name="csrf-token"]');axios.post("/grupo-filtro-usuarios/store",{data:l},{headers:{Authorization:`Bearer ${m.content}`}}).then(h=>{Q(!1),console.log(h),window.location.href="/cliente/grupo?create=success"}).catch(h=>{console.log(h.response.data)})},[he,G]=c.exports.useState(!1),U=()=>G(!1),fe=()=>G(!0),[C,ge]=c.exports.useState(te(new Date,91));c.exports.useEffect(()=>{T(C.toISOString().split("T")[0])},[C]);const[be,J]=c.exports.useState(!1),F=()=>J(!1),_e=()=>J(!0),[o,ve]=c.exports.useState("Por defecto"),[Ne,Ce]=c.exports.useState(""),[H,ke]=c.exports.useState("/public/images/perfil-invisible.svg"),d=(a,l)=>{ve(a),Ce(l)},xe=()=>{ke(Ne),F()},[we,K]=c.exports.useState(!1),[Se,Pe]=c.exports.useState([]),ye=()=>{const a=q.filter(function(t){return g.some(function(f){return t.id===f})}).map(function(t){return t.nombre}),l=k.filter(function(t){return S.some(function(f){return t.id===f})}).map(function(t){return t.nombre}),m=x.filter(function(t){return w.some(function(f){return t.id===f})}).map(function(t){return t.nombre});var h={actividades_economicas:a,tiposcompras:l,localizaciones:m,total_tiposcompras:k.length,total_localizaciones:x.length,perfil:{limite_inferior_cuantia:R,limite_superior_cuantia:y,nombre_filtro:v,descripcion_filtro:D,sin_presupuesto:b,historico_contratacion:N,envio_alertas:_,imagen_filtro:H}};Pe(h),K(!0)},Re=()=>{K(!1)},z=c.exports.useRef(null),[Ae,Q]=c.exports.useState(!1);return e(n,{children:i($e,{auth:X,page:"perfiles",globalLoading:Ae,children:[i("div",{className:"content_blank_interno margin_left_layout",children:[e("div",{class:"col",children:e("h2",{class:"name_seccion_app",children:"Crear perfil de negocio"})}),i("div",{id:"container-grupo",children:[i("div",{id:"perfil-user",children:[e("a",{href:"/cliente/grupo",id:"btn-cancelar-global-perfiles",class:"btn btn-new-danger btnRadius",children:"Cancelar"}),e("div",{className:"perfil-guias",children:i("ul",{children:[e("li",{children:i("div",{className:`perfil-guias__indicador ${s==1?"perfil-guias__indicador--activo":""}`,onClick:()=>r(1),children:[e("i",{id:"icon1",className:`icon-Paso-1-click ${s==1?"c-activo-iconos":""}`,children:" "})," ",e("span",{id:"span1",className:`${s==1?"c-activo-texto-iconos":""}`,children:"Actividad económica"})]})}),u.includes(2)&&e("li",{children:i("div",{className:`perfil-guias__indicador ${s==2?"perfil-guias__indicador--activo":""}`,onClick:()=>r(2),children:[e("i",{id:"icon2",className:`icon-Paso-2-click ${s==2?"c-activo-iconos":""}`})," ",e("span",{id:"span2",className:`${s==2?"c-activo-texto-iconos":""}`,children:"Modalidad"})]})}),u.includes(3)&&e("li",{children:i("div",{className:`perfil-guias__indicador ${s==3?"perfil-guias__indicador--activo":""}`,onClick:()=>r(3),children:[e("i",{id:"icon3",className:`icon-Paso-3-click ${s==3?"c-activo-iconos":""}`})," ",e("span",{id:"span3",className:`${s==3?"c-activo-texto-iconos":""}`,children:"Localizaciones"})]})}),u.includes(4)&&e("li",{children:i("div",{className:`perfil-guias__indicador ${s==4?"perfil-guias__indicador--activo":""}`,onClick:()=>r(4),children:[e("i",{id:"icon4",className:`icon-Paso-4-click ${s==4?"c-activo-iconos":""}`})," ",e("span",{id:"span4",className:`${s==4?"c-activo-texto-iconos":""}`,children:"Rango de Cuantía"})]})}),u.includes(5)&&e("li",{children:i("div",{className:`perfil-guias__indicador ${s==5?"perfil-guias__indicador--activo":""}`,onClick:()=>r(5),children:[e("i",{id:"icon5",className:`icon-Paso-5-click ${s==5?"c-activo-iconos":""}`})," ",e("span",{id:"span5",className:`${s==5?"c-activo-texto-iconos":""}`,children:"Preferencias"})]})})]})}),e("div",{className:"perfil-contenido",children:i("div",{className:"tree_categorias tree_1",children:[e(n,{children:s==1&&e(j,{subcategorias:q,nameBuscador:"Busca por actividad económica o UNSPSC",onHandleSectores:P,tipo:"ActividadEconomica",checkeds:g,checkAllText:""})}),i(n,{children:[" ",s==2&&e(j,{subcategorias:k,nameBuscador:"Buscar Modalidad",onHandleSectores:P,tipo:"TiposCompras",checkeds:S,checkAllText:"Seleccionar todas las modalidades"})]}),e(n,{children:s==3&&e(j,{subcategorias:x,nameBuscador:"Buscar Localización",onHandleSectores:P,tipo:"Localizaciones",checkeds:w,checkAllText:"Todo el país - Colombia"})}),e(n,{children:s==4&&i("div",{className:"perfil-cuantias",children:[i("div",{id:"campos-cuantias",className:"justify-content-center pt-2 pb-5 py-md-5 row",children:[e("div",{className:"col-10 col-sm-8 col-lg-4 col-md-5",children:i("div",{className:"form-group mb-5 mb-md-1 campos-cuantias__form",children:[i("span",{className:"icon-Cuantia campos-cuantias__icon",children:[e("span",{className:"path1"}),e("span",{className:"path2"}),e("span",{className:"path3"}),e("span",{className:"path4"})]}),e("label",{children:"Cuantía desde:"}),e("input",{value:R,onChange:a=>O(a,"desde"),type:"text",id:"cuantia_desde",name:"cuantia_desde",placeholder:"$",className:"form-control inputs_form"})]})}),e("div",{className:"col-10 col-sm-8 col-lg-4 col-md-5",children:i("div",{className:"form-group campos-cuantias__form",children:[i("span",{className:"icon-Cuantia-2 campos-cuantias__icon",children:[e("span",{className:"path1"}),e("span",{className:"path2"}),e("span",{className:"path3"}),e("span",{className:"path4"})]}),e("label",{id:"descripcion",children:"Cuantía hasta:"}),e("input",{ref:B,value:y,onChange:a=>O(a,"hasta"),type:"text",id:"cuantia_hasta",name:"cuantia_hasta",placeholder:"Sin limite superior",className:"form-control inputs_form"})]})})]}),ae&&i("div",{className:"align-items-center col-11 col-lg-8 col-md-9 col-sm-10 justify-content-between campos-cuantias__block row",children:[e("div",{className:"col-8 p-0",children:i("p",{children:["¿Deseas incluir contratos"," ",e("span",{className:"text_color",children:"sin presupuesto asignado"})," ","o con cuantía de"," ",e("span",{className:"text_color",children:"$0"})," ","en este perfil?"]})}),e("div",{className:"col-3 text-center",children:i("label",{className:"switch",children:[e("input",{type:"checkbox",checked:b,onClick:()=>se(!b)}),e("span",{className:"slider round"})]})})]})]})}),i(n,{children:[" ",s==5&&e("div",{className:"perfil-preferencia",children:i("div",{className:"row pt-3 justify-content-center pb-lg-4",children:[i("div",{className:"col-xs-12 col-sm-12 col-xl-6 px-4 contenedor-general row",children:[e("div",{className:"col-3 col-md-3 col-xl-3",children:i("div",{className:"imagen",children:[e("img",{src:H,alt:"Avatar",className:"imagen__avatar"}),e("button",{className:"imagen__cambiar-avatar-button",onClick:_e,children:e("span",{className:"icon-Editar"})})]})}),e("div",{className:"col-9 col-md-9 col-xl-9",children:i("div",{className:"perfil-preferencia__form1",children:[e("label",{id:"nombre",className:"perfil-preferencia__labels",children:"Dale un nombre a tu perfil:"}),e("input",{id:"inputNombrePerfil",value:v,onChange:pe,type:"text",name:"nombre",className:"form-control inputs_form padd-peq mb-0",required:!0}),e("div",{className:"invalid-feedback",children:"El campo nombre perfil es obligatorio."}),e("label",{id:"descripcion",className:"perfil-preferencia__labels mt-3",children:"Descripción del perfil (opcional):"}),e("textarea",{value:D,onChange:a=>me(a.target.value),type:"text",name:"descripcion",rows:"3",className:"form-control inputs_form"})]})})]}),i("div",{className:"col-xs-12 col-sm-12 col-xl-6 px-4 contenedor-general__derecha",children:[i("div",{className:"perfil-preferencia__historico pb-4 pb-lg-0 px-3 px-md-0",children:[i("div",{className:"align-items-center d-flex justify-content-between perfil-preferencia__historico-row mb-3",children:[i("div",{className:"perfil-preferencia__historico-row__icon d-flex",children:[e("img",{src:"/public/images/Web/icon-Historico.svg",alt:"",width:30}),e("label",{children:"Histórico de procesos de contratación:"})]}),e("div",{className:"perfil-preferencia__historico-row__toggleb",children:i("label",{className:"switch",children:[e("input",{type:"checkbox",checked:V,onClick:()=>ne(!V),onChange:oe}),e("span",{className:"slider round"})]})})]}),i("div",{className:"align-items-center d-flex perfil-preferencia__historico-row mb-3",children:[e("div",{className:"perfil-preferencia__historico-row__span",children:e("span",{className:"perfil-preferencia__fecha-historico from-label",children:"Desde: "})}),i("div",{className:"perfil-preferencia__historico-row__input d-flex",children:[e("input",{disabled:!0,ref:A,value:N,name:"fecha_historico",className:"perfil-preferencia__fecha-historico_input"}),i("button",{ref:$,className:"btn btnRadius btn-new-blue button_change_date",onClick:fe,children:[e("img",{src:"/public/images/Web/icon-Cambiar.svg",alt:"icon-Cambiar",className:"margin-right-5"})," Cambiar fecha"]})]})]})]}),i("div",{className:"perfil-preferencia__form1",children:[i("div",{className:"align-items-center d-flex justify-content-between perfil-preferencia__historico-row mb-3",children:[i("div",{className:"perfil-preferencia__historico-row__icon d-flex",children:[e("img",{src:"/public/images/Web/icon-Email-noti.svg",alt:"",width:30}),e("label",{children:"Notificaciones a tu email:"})]}),e("div",{className:"perfil-preferencia__historico-row__toggleb",children:i("label",{className:"switch",children:[e("input",{className:"Activado",type:"checkbox",checked:_,onClick:()=>re(!_)}),e("span",{className:"slider round"})]})})]}),e("div",{className:"alineamiento-label d-flex pb-3 pb-lg-0 px-3 px-md-0",children:i("p",{className:"mr5 text-justify",children:["Te notificaríamos en tu ",e("span",{className:"text_color",children:"correo"})," cuando encontremos una oportunidad que coincida con este perfil."]})})]})]})]})})]})]})}),i("div",{className:"perfil-bottons-footer position-relative text-center mt-4",children:[e(n,{children:s==2&&e("a",{onClick:()=>r(1),className:"btn btnRadius btn-new-gray",id:"btn-return-tc",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Atrás"})})}),e(n,{children:s==3&&e("a",{onClick:()=>r(2),className:"btn btnRadius btn-new-gray",id:"btn-return-lc",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Atrás"})})}),e(n,{children:s==4&&e("a",{onClick:()=>r(3),className:"btn btnRadius btn-new-gray",id:"btn-return-cu",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Atrás"})})}),e(n,{children:s==5&&e("a",{onClick:()=>r(4),className:"btn btnRadius btn-new-gray",id:"btn-return-te",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Atrás"})})}),e(n,{children:s==1&&e("a",{onClick:()=>r(2),className:"btn btnRadius btn-new-blue",id:"btn-next-ac",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Siguiente"})})}),e(n,{children:s==2&&e("a",{onClick:()=>r(3),className:"btn btnRadius btn-new-blue",id:"btn-next-tc",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Siguiente"})})}),e(n,{children:s==3&&e("a",{onClick:()=>r(4),className:"btn btnRadius btn-new-blue",id:"btn-next-lc",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Siguiente"})})}),e(n,{children:s==4&&e("a",{onClick:()=>r(5),className:"btn btnRadius btn-new-blue",id:"btn-next-cu",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Siguiente"})})}),e(n,{children:s==5&&i(n,{children:[e("a",{onClick:ue,className:"btn btnRadius btn-new-green",id:"btn-next-cu",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Crear perfil de negocio"})}),i("button",{type:"button",class:"btn btnRadius btn-new-blue",onClick:ye,children:[e("i",{class:"icon-Resumen"})," Ver resumen"]})]})})]})]}),i(p,{show:he,onHide:U,backdrop:"static",keyboard:!1,size:"lg",id:"calendar",children:[e(p.Header,{closeButton:!0,children:e(p.Title,{id:"modal-calendar-title",children:"Selecciona la fecha de inicio para el histórico"})}),i(p.Body,{children:[e(Fe,{onChange:ge,value:C,selectRange:!1,maxDate:new Date}),e("div",{id:"resultados",className:"row",children:i("div",{className:"col text-center",children:[e("span",{children:"Desde :"})," ",e("span",{children:N})]})}),e("div",{className:"mt-5 text-center",children:e("button",{type:"button",className:"btn-new-green btnRadius text-center bg-transparent px-5",onClick:U,children:"Filtrar"})})]}),e(p.Footer,{})]}),i(p,{show:be,onHide:F,backdrop:"static",keyboard:!1,size:"lg",id:"filter",children:[e(p.Header,{closeButton:!0,children:e(p.Title,{id:"modal-filter-title",children:"Selecciona la imagen de tu perfil de negocio"})}),e(p.Body,{children:i("div",{className:"justify-content-center row",children:[e("div",{className:"perfil-imagenes__element-img",children:i("div",{className:"perfil-imagenes__img position-relative",onClick:()=>d("Por defecto","/public/images/perfiles/perfil-invisible.svg"),children:[e("img",{src:"/public/images/perfiles/perfil-invisible.svg",alt:"Por defecto img"}),o=="Por defecto"&&e("img",{src:"/public/images/Web/icon-Check.svg",alt:"icon-Check",className:"icon-Check"})]})}),e("div",{className:"perfil-imagenes__element-img",children:i("div",{className:"perfil-imagenes__img position-relative",onClick:()=>d("Perfil amarillo","/public/images/perfiles/perfil-amarillo.svg"),children:[e("img",{src:"/public/images/perfiles/perfil-amarillo.svg",alt:"Perfil amarillo img"}),o=="Perfil amarillo"&&e("img",{src:"/public/images/Web/icon-Check.svg",alt:"icon-Check",className:"icon-Check"})]})}),e("div",{className:"perfil-imagenes__element-img",children:i("div",{className:"perfil-imagenes__img position-relative",onClick:()=>d("Perfil azul","/public/images/perfiles/perfil-azul.svg"),children:[e("img",{src:"/public/images/perfiles/perfil-azul.svg",alt:"Perfil azul img"}),o=="Perfil azul"&&e("img",{src:"/public/images/Web/icon-Check.svg",alt:"icon-Check",className:"icon-Check"})]})}),e("div",{className:"perfil-imagenes__element-img",children:i("div",{className:"perfil-imagenes__img position-relative",onClick:()=>d("Perfil gris","/public/images/perfiles/perfil-gris.svg"),children:[e("img",{src:"/public/images/perfiles/perfil-gris.svg",alt:"Perfil gris img"}),o=="Perfil gris"&&e("img",{src:"/public/images/Web/icon-Check.svg",alt:"icon-Check",className:"icon-Check"})]})}),e("div",{className:"perfil-imagenes__element-img",children:i("div",{className:"perfil-imagenes__img position-relative",onClick:()=>d("Perfil morado","/public/images/perfiles/perfil-morado.svg"),children:[e("img",{src:"/public/images/perfiles/perfil-morado.svg",alt:"Perfil morado img"}),o=="Perfil morado"&&e("img",{src:"/public/images/Web/icon-Check.svg",alt:"icon-Check",className:"icon-Check"})]})}),e("div",{className:"perfil-imagenes__element-img",children:i("div",{className:"perfil-imagenes__img position-relative",onClick:()=>d("Perfil negro","/public/images/perfiles/perfil-negro.svg"),children:[e("img",{src:"/public/images/perfiles/perfil-negro.svg",alt:"Perfil negro img"}),o=="Perfil negro"&&e("img",{src:"/public/images/Web/icon-Check.svg",alt:"icon-Check",className:"icon-Check"})]})}),e("div",{className:"perfil-imagenes__element-img",children:i("div",{className:"perfil-imagenes__img position-relative",onClick:()=>d("Perfil rojo","/public/images/perfiles/perfil-rojo.svg"),children:[e("img",{src:"/public/images/perfiles/perfil-rojo.svg",alt:"Perfil rojo img"}),o=="Perfil rojo"&&e("img",{src:"/public/images/Web/icon-Check.svg",alt:"icon-Check",className:"icon-Check"})]})}),e("div",{className:"perfil-imagenes__element-img",children:i("div",{className:"perfil-imagenes__img position-relative",onClick:()=>d("Perfil rosado","/public/images/perfiles/perfil-rosado.svg"),children:[e("img",{src:"/public/images/perfiles/perfil-rosado.svg",alt:"Perfil rosado img"}),o=="Perfil rosado"&&e("img",{src:"/public/images/Web/icon-Check.svg",alt:"icon-Check",className:"icon-Check"})]})}),e("div",{className:"perfil-imagenes__element-img",children:i("div",{className:"perfil-imagenes__img position-relative",onClick:()=>d("Perfil verde","/public/images/perfiles/perfil-verde.svg"),children:[e("img",{src:"/public/images/perfiles/perfil-verde.svg",alt:"Perfil verde img"}),o=="Perfil verde"&&e("img",{src:"/public/images/Web/icon-Check.svg",alt:"icon-Check",className:"icon-Check"})]})}),e("div",{className:"perfil-imagenes__element-img",children:i("div",{className:"perfil-imagenes__img position-relative",onClick:()=>d("Perfil violeta","/public/images/perfiles/perfil-violeta.svg"),children:[e("img",{src:"/public/images/perfiles/perfil-violeta.svg",alt:"Perfil violeta img"}),o=="Perfil violeta"&&e("img",{src:"/public/images/Web/icon-Check.svg",alt:"icon-Check",className:"icon-Check"})]})})]})}),i(p.Footer,{class:"modal-footer buttons-footer",children:[e("button",{class:"btnRadius btn-new-gray",onClick:F,children:"Atrás"}),e("button",{class:"btnRadius btn-new-green",onClick:xe,children:"Seleccionar"})]})]}),e(Te,{showModal:we,handleCloseModal:Re,data:Se})]})]}),e(De,{ref:z,position:"bottom-left"})]})})};export{ai as default};
