import{r as t,j as n,F as u,a as e}from"./app-aaf90054.js";/* empty css                      */import{T as qe,a as Fe}from"./estilos-toast-d80762b1.js";/* empty css                      *//* empty css                 */import{N as w}from"./Nav-19082c78.js";import{N as Y,C as Ge,M as je}from"./ModalLoginSesion-268856fc.js";import{A as Me}from"./ApplicationLogoLici-ae19551d.js";import"./createWithBsPrefix-3725888c.js";import"./CloseButton-c9ee8f0f.js";import"./hook-a94dcc91.js";import"./Modal-5834253e.js";import"./hasClass-34322397.js";import"./useIsomorphicEffect-feefd84b.js";import"./TextInput-9ec9eb2c.js";const ue=({subcategorias:Z,id:ee,nameBuscador:ae,onHandleSectores:se,tipo:A,checkeds:K})=>{const[p,be]=t.exports.useState(Z),[C,ie]=t.exports.useState(Z),[S,z]=t.exports.useState([]),[N,V]=t.exports.useState([]),[me,U]=t.exports.useState([]);t.exports.useEffect(()=>{var s=[];p.forEach(a=>{if(a.childs.length>0){var i=[],o=[];a.id_padre_sub_categoria==null&&(a.childs.forEach(c=>{i.push(c.id);var l=p.filter(d=>d.id==c.id)[0];l.childs.length>0&&l.childs.forEach(d=>{o.push(d.id)})}),s[a.id]=["sectores"],s[a.id].segmentos=i,s[a.id].actividades_economicas=o)}}),U(s)},[]);const[k,I]=t.exports.useState(K),[R,$]=t.exports.useState([]),[B,q]=t.exports.useState([]),F=s=>{var a=document.getElementById("sector_"+s);a.classList.toggle("expanded"),S.includes(s)?z(S.filter(c=>c!=s)):z([...S,s]);const i=new RegExp(s,"i");C.filter(function(c){if(i.test(c.id_padre_sub_categoria))return c}).forEach(c=>{if(!R.includes(c))R.push(c);else{const l=R.filter(d=>d.id_padre_sub_categoria!=s);$(l)}})},ce=s=>{var a=document.getElementById("segmento_"+s);a.classList.toggle("expanded"),N.includes(s)?V(N.filter(c=>c!=s)):V([...N,s]);const i=new RegExp(s,"i");C.filter(function(c){if(i.test(c.id_padre_sub_categoria))return c}).forEach(c=>{if(!B.includes(c))B.push(c);else{const l=B.filter(d=>d.id_padre_sub_categoria!=s);q(l)}})},L=s=>{var a=[];k.forEach(c=>{a.push(c)});var i=p.filter(c=>c.id_padre_sub_categoria==s.id&&c.id_abuelo_sub_categoria==null);if(i.length>0)a.includes(s.id)?(a=_(a,s.id),a=g(a,i,"segmento","remove")):(a.push(s.id),a=g(a,i,"segmento","remove"),a=g(a,i,"segmento","add"));else{var o=p.filter(c=>c.id_padre_sub_categoria==s.id);o.length>0?a.includes(s.id)?(a=_(a,s.id),a=g(a,o,"actividad_economica","remove")):(a.push(s.id),a=g(a,o,"actividades_economicas","remove"),a=g(a,o,"actividad_economica","add")):a.includes(s.id)?a=_(a,s.id):a.push(s.id)}a=[...new Set(a)],I(a),te(a,s)},te=(s,a)=>{if(b(a.id,"actividades_economicas")){var i=J(s,"actividades_economicas"),o=Q(i,a,"actividades_economicas"),c=o[0],l=o[1],d=!0,f=0,r=E(a,"actividades_economicas");r.forEach(x=>{i.includes(x)?f+=1:d=!1}),d?(s.push(a.id_padre_sub_categoria),h("segmento_check_"+a.id_padre_sub_categoria,"remove")):(s=_(s,a.id_padre_sub_categoria),s=_(s,a.id_abuelo_sub_categoria),I(s),f>0?h("segmento_check_"+a.id_padre_sub_categoria,"add"):h("segmento_check_"+a.id_padre_sub_categoria,"remove"),l>0?h("sector_check_"+a.id_abuelo_sub_categoria,"add"):h("sector_check_"+a.id_abuelo_sub_categoria,"remove")),c&&s.push(a.id_abuelo_sub_categoria)}if(b(a.id,"segmentos")){var P=J(s,"segmentos"),o=Q(P,a,"segmentos"),c=o[0],l=o[1];c?s.push(a.id_padre_sub_categoria):(s=_(s,a.id_padre_sub_categoria),I(s),l>0?h("sector_check_"+a.id_padre_sub_categoria,"add"):(h("sector_check_"+a.id_padre_sub_categoria,"remove"),h("segmento_check_"+a.id,"remove")))}if(b(a.id,"sector")){h("sector_check_"+a.id,"remove");var v=E(a,"segmentos");v.forEach(x=>{h("segmento_check_"+x,"remove")})}},E=(s,a)=>{var i=[];return p.forEach(o=>{switch(a){case"actividades_economicas":o.id_padre_sub_categoria==s.id_padre_sub_categoria&&i.push(o.id);break;case"segmentos":o.id_padre_sub_categoria==s.id&&i.push(o.id);break}}),i},J=(s,a)=>{var i=[];return s.forEach(o=>{b(o,a)&&i.push(o)}),i},b=(s,a)=>{var i=p.filter(o=>o.id==s)[0];switch(a){case"actividades_economicas":return i.id_abuelo_sub_categoria!=null&&i.id_padre_sub_categoria!=null?i:!1;case"segmentos":return i.id_abuelo_sub_categoria==null&&i.id_padre_sub_categoria!=null?i:!1;case"sector":return i.id_abuelo_sub_categoria==null&&i.id_padre_sub_categoria==null?i:!1}},Q=(s,a,i)=>{var o=!0,c=0;if(s.length>0){var l=p.filter(f=>f.id==a.id)[0],d=0;switch(i){case"actividades_economicas":d=l.id_abuelo_sub_categoria;break;case"segmentos":d=l.id_padre_sub_categoria;break;case"sector":d=l.id;break}me[d][i].forEach(f=>{s.includes(f)?c+=1:o=!1})}else o=!1;return[o,c]},h=(s,a)=>{var i=document.getElementById(s);a=="add"?i.classList.add("check-minus"):i.classList.remove("check-minus")},_=(s,a)=>{const i=s.indexOf(a);return i>-1&&s.splice(i,1),s},g=(s,a,i=null,o)=>(a.forEach(c=>{switch(o){case"add":s.push(c.id),i=="segmento"&&p.filter(d=>d.id_padre_sub_categoria==c.id).forEach(d=>{s.push(d.id)});break;case"remove":s=_(s,c.id),i=="segmento"&&p.filter(d=>d.id_padre_sub_categoria==c.id).forEach(d=>{s=_(s,d.id)});break}}),s),oe=s=>{if(s.target.value==""){ie(p),$([]),q([]),z([]),V([]);return}if(s.key==="Enter"){const d=new RegExp(s.target.value,"i"),f=p.filter(function(r){if(d.test(r.nombre)||s.target.value==r.id)return r});var a=[],i=[],o=[],c=[],l=[];f.forEach(r=>{if(r.id_abuelo_sub_categoria!=null&&r.id_padre_sub_categoria!=null){o.push(r);var P=p.filter(x=>x.id==r.id_padre_sub_categoria)[0];i.includes(P)||i.push(P),c.includes(r.id_padre_sub_categoria)||c.push(r.id_padre_sub_categoria);var v=p.filter(x=>x.id==r.id_abuelo_sub_categoria)[0];a.includes(v)||a.push(v),l.includes(r.id_abuelo_sub_categoria)||l.push(r.id_abuelo_sub_categoria)}if(r.id_abuelo_sub_categoria==null&&r.id_padre_sub_categoria!=null){i.includes(r)||i.push(r),c.includes(r.id)||c.push(r.id);var v=p.filter(T=>T.id==r.id_padre_sub_categoria)[0];a.includes(v)||a.push(v),l.includes(r.id_padre_sub_categoria)||l.push(r.id_padre_sub_categoria)}r.id_abuelo_sub_categoria==null&&r.id_padre_sub_categoria==null&&(a.includes(r)||a.push(r),l.includes(r.id)||l.push(r.id))}),ie(a),$(i),q(o),z(l),V(c)}};return t.exports.useEffect(()=>{se(k,A)},[k]),n(u,{children:[n("div",{className:"mx-60 mt-30 d-flex",children:[e("button",{button:!0,type:"button",className:"icon-Buscar-click"}),e("input",{type:"text",placeholder:ae,autoComplete:"off",className:"form-control busqueda-input",onKeyDown:oe}),n("h2",{className:"perfiles-titulos d-flex",children:[" ","Pais de contratación",e("img",{className:"bandera",src:"/public/images/banderas/listado_nombres/CHL.svg",alt:"Bandera Chile"})]})]}),e("br",{}),e("ul",{className:`tree-root ${A}`,id:ee,children:C.map(s=>e(u,{children:s.id_padre_sub_categoria==null&&n("li",{className:`tree-node has-child draggable ${S.includes(s.id)?"expanded":""}`,id:"sector_"+s.id,children:[n("div",{id:s.id,className:"tree-content mt-3 sector",children:[e("i",{className:`tree-arrow has-child ${s.childs.length>0?"bi bi-chevron-down":""}`}),e("input",{id:"sector_check_"+s.id,type:"checkbox",name:"actividad_economica",onChange:()=>L(s),checked:k.includes(s.id)?"checked":""}),e("span",{className:"tree-anchor",children:e("span",{className:"tree-division tree-division1",onClick:()=>F(s.id),children:e("span",{className:"tree-division__title my-auto",children:s.nombre})})})]},s.id),S.includes(s.id)&&e("ul",{className:`tree-children ${A}`,children:R.map((a,i)=>e(u,{children:s.id==a.id_padre_sub_categoria&&n("li",{className:`tree-node has-child draggable segmento ${N.includes(a.id)?"expanded":""}`,id:"segmento_"+a.id,children:[n("div",{className:"tree-content segmento",children:[e("i",{className:"tree-arrow expanded has-child ltr"}),e("input",{id:"segmento_check_"+a.id,type:"checkbox",name:"actividad_economica",onChange:()=>L(a),checked:k.includes(a.id)?"checked":""}),e("span",{className:"tree-anchor",children:e("span",{className:"tree-division tree-division1",onClick:()=>ce(a.id),children:e(u,{children:i%2==0?e("span",{className:"tree-division__title my-auto",children:a.nombre}):e("span",{className:"tree-division__title-gray my-auto",children:a.nombre})})})})]}),N.includes(a.id)&&e("ul",{className:"tree-children actividad-economica",children:B.map((o,c)=>e(u,{children:a.id==o.id_padre_sub_categoria&&e("li",{className:"tree-node draggable",children:n("div",{className:"tree-content actividad-economica",onClick:()=>L(o),children:[e("input",{type:"checkbox",name:"actividad_economica",onChange:()=>L(o),checked:k.includes(o.id)?"checked":""}),e("span",{className:"tree-anchor children",children:e("span",{className:"tree-division tree-division1",children:e(u,{children:e("span",{className:"tree-division__title my-auto",children:o.nombre})})})})]})})}))})]})}))})]})}))})]})},ia=({auth:Z,actividades_economicas:ee,tiposcompras:ae,localizaciones:se})=>{const[A,K]=t.exports.useState(!1),[p,be]=t.exports.useState(""),[C,ie]=t.exports.useState(""),[S,z]=t.exports.useState(ee);let[N,V]=t.exports.useState([]);t.exports.useState([]),t.exports.useState([]);let[me,U]=t.exports.useState([]);const[k,I]=t.exports.useState([]),[R,$]=t.exports.useState([]),[B,q]=t.exports.useState([]),F=(m,D)=>{switch(console.log("inputs que llegaron al componente padre",m),D){case"ActividadEconomica":m.length>0&&I(m);break;case"Localizaciones":m.length>0&&$(m);break;case"TiposCompras":m.length>0&&q(m);break}},[ce,L]=t.exports.useState(!0),[te,E]=t.exports.useState(!1),[J,b]=t.exports.useState(!1),[Q,h]=t.exports.useState(!1),[_,g]=t.exports.useState(!1),[oe,s]=t.exports.useState(!1),[a,i]=t.exports.useState(!1),[o,c]=t.exports.useState(!1),[l,d]=t.exports.useState(!1),[f,r]=t.exports.useState(!1),[P,v]=t.exports.useState(!0),[x,T]=t.exports.useState(!1),[ge,W]=t.exports.useState(!1),[xe,X]=t.exports.useState(!1),ne=t.exports.useRef(),re=t.exports.useRef(),G=t.exports.useRef(),j=t.exports.useRef(),M=t.exports.useRef(),H=t.exports.useRef(),O=t.exports.useRef(),y=t.exports.useRef(),de=t.exports.useRef(),le=t.exports.useRef(),Ne=()=>{U(N[0]),ne.current.classList.remove("c-activo-iconos"),re.current.classList.remove("c-activo-texto-iconos"),G.current.classList.add("c-activo-iconos"),j.current.classList.add("c-activo-texto-iconos"),L(!1),E(!0),s(!0),v(!1),T(!0)},ke=()=>{U(N[0]),ne.current.classList.add("c-activo-iconos"),re.current.classList.add("c-activo-texto-iconos"),G.current.classList.remove("c-activo-iconos"),j.current.classList.remove("c-activo-texto-iconos"),E(!1),L(!0),s(!1),T(!1),v(!0)},Ce=()=>{G.current.classList.remove("c-activo-iconos"),j.current.classList.remove("c-activo-texto-iconos"),M.current.classList.add("c-activo-iconos"),H.current.classList.add("c-activo-texto-iconos"),T(!1),W(!0),E(!1),b(!0),s(!1),i(!0)},Se=()=>{G.current.classList.add("c-activo-iconos"),j.current.classList.add("c-activo-texto-iconos"),M.current.classList.remove("c-activo-iconos"),H.current.classList.remove("c-activo-texto-iconos"),T(!0),W(!1),E(!0),b(!1),s(!0),i(!1)},Le=()=>{O.current.classList.add("c-activo-iconos"),y.current.classList.add("c-activo-texto-iconos"),M.current.classList.remove("c-activo-iconos"),H.current.classList.remove("c-activo-texto-iconos"),W(!1),i(!1),b(!1),h(!0),c(!0),X(!0)},Ee=()=>{O.current.classList.remove("c-activo-iconos"),y.current.classList.remove("c-activo-texto-iconos"),M.current.classList.add("c-activo-iconos"),H.current.classList.add("c-activo-texto-iconos"),c(!1),h(!1),W(!0),i(!0),b(!0),X(!1)},we=()=>{de.current.classList.add("c-activo-iconos"),le.current.classList.add("c-activo-texto-iconos"),O.current.classList.remove("c-activo-iconos"),y.current.classList.remove("c-activo-texto-iconos"),X(!1),c(!1),h(!1),g(!0),r(!0),d(!0)},Re=()=>{de.current.classList.remove("c-activo-iconos"),le.current.classList.remove("c-activo-texto-iconos"),O.current.classList.add("c-activo-iconos"),y.current.classList.add("c-activo-texto-iconos"),X(!0),c(!0),h(!0),g(!1),r(!1),d(!1)},Be=()=>{alert("Guardando...")},[pe,Pe]=t.exports.useState(0),[Te,he]=t.exports.useState(!1),[_e,Ae]=t.exports.useState(!0),fe=m=>{var D=m.target.value;D=ze(D),Pe("$ "+new Intl.NumberFormat().format(D))},ze=m=>(m=m.replace(" ",""),m=m.replace("$",""),m=m.replace(",",""),m=m.replace(".",""),m==""?(m=0,he(!1)):he(!0),parseInt(m)),[Ve,ve]=t.exports.useState(!1),Ie=()=>ve(!1),$e=()=>ve(!0);return n(u,{children:[n(u,{children:[" ",e("div",{className:"contenido_headerLite--margin-top",children:e(Y,{collapseOnSelect:!0,expand:"lg",bg:"white",variant:"dark",className:"container-headerPublica",children:n(Ge,{children:[e(Y.Brand,{href:"#home",children:e("a",{href:"/",className:"flex items-center",children:e(Me,{})})}),e(Y.Toggle,{"aria-controls":"responsive-navbar-nav"}),n(Y.Collapse,{id:"responsive-navbar-nav",children:[n(w,{className:"me-auto",children:[e(w.Link,{className:"menu-header"}),e(w.Link,{className:"menu-header"}),e(w.Link,{className:"menu-header"}),e(w.Link,{className:"menu-header"})]}),e(w,{children:e("ul",{className:"mb-2 mt-2 flex flex-col gap-2 lg:mb-0 lg:mt-0 lg:flex-row lg:items-center lg:gap-6 ",children:n(u,{children:[n("li",{children:[n("a",{className:"flex  items-center ml-4 text-iniciar",onClick:$e,children:[e("span",{className:"mr-2 icon-login"}),"Iniciar sesión"]}),e(je,{showLS:Ve,handleCloseLS:Ie})]}),e("hr",{className:"division-header header-lite"}),n(w.Link,{href:"/contacto",className:"flex  items-center ml-4 text-contactanos",children:[e("span",{className:"mr-2 icon-contacto"}),"Contáctanos"]})]})})})]})]})})})]}),e(qe,{position:"bottom-start",children:e(Fe,{onClose:()=>K(!1),show:A,delay:3e3,autohide:!0,children:n("div",{className:`notification-toast ${C=="icon-error"?"error":"success"}`,children:[e("span",{className:`toast-icon ${C=="icon-error"?"toast-danger":"toast-success"}`,children:e("span",{className:C})}),e("p",{className:"title",children:p}),e("button",{type:"button",className:"icon-close m-auto",onClick:()=>K(!1)})]})})}),e("div",{className:"contenedor-planes",children:n("div",{className:"bg-white overflow-auto w-full text-center margen-superior custom-scroll",children:[n("h2",{className:"perfiles-titulos crear",children:[e("span",{className:"c-verde",children:"Crea"})," tu primer perfil de negocio"]}),e("div",{className:"container mt-4",children:e("div",{className:"tree_categorias tree_1",children:n("div",{className:"tree_categorias__busqueda mb-3 mb-md-4",children:[n("div",{className:"iconos-perfiles",children:[e("i",{ref:ne,className:"icon-Paso-1-click c-activo-iconos",children:" "})," ",e("span",{ref:re,className:"c-activo-texto-iconos",children:"Actividad económica"}),e("i",{ref:G,className:"icon-Paso-2-click",id:"pleft2"})," ",e("span",{ref:j,className:"",children:"Tipo de compra"}),e("i",{ref:M,className:"icon-Paso-3-click",id:"pleft2"})," ",e("span",{ref:H,className:"",children:"Localizaciones"}),e("i",{ref:O,className:"icon-Paso-4-click",id:"pleft2"})," ",e("span",{ref:y,className:"",children:"Rango de Cuantía"}),e("i",{ref:de,className:"icon-Paso-5-click",id:"pleft2"})," ",e("span",{ref:le,className:"",children:"Paso 5"})]}),e("div",{className:"mx-60 mt-30 d-flex"}),e("br",{}),e(u,{children:ce&&e(ue,{subcategorias:S,nameBuscador:"Busca por actividad económica o UNSPSC",onHandleSectores:F,tipo:"ActividadEconomica",checkeds:k})}),n(u,{children:[" ",te&&e(ue,{subcategorias:ae,nameBuscador:"Buscar Tipo de Compra",onHandleSectores:F,tipo:"TiposCompras",checkeds:B})]}),e(u,{children:J&&e(ue,{subcategorias:se,nameBuscador:"Buscar Localización",onHandleSectores:F,tipo:"Localizaciones",checkeds:R})}),e(u,{children:Q&&n("div",{className:"perfil-cuantias",children:[n("div",{id:"campos-cuantias",className:"justify-content-center pt-2 pb-5 py-md-5 row",children:[e("div",{className:"col-10 col-sm-8 col-lg-4 col-md-5",children:n("div",{className:"form-group mb-5 mb-md-1 campos-cuantias__form",children:[n("span",{className:"icon-Cuantia campos-cuantias__icon",children:[e("span",{className:"path1"}),e("span",{className:"path2"}),e("span",{className:"path3"}),e("span",{className:"path4"})]}),e("label",{children:"Cuantía desde:"}),e("input",{value:pe,onChange:fe,type:"text",id:"cuantia_desde",name:"cuantia_desde",placeholder:"$",className:"form-control inputs_form"})]})}),e("div",{className:"col-10 col-sm-8 col-lg-4 col-md-5",children:n("div",{className:"form-group campos-cuantias__form",children:[n("span",{className:"icon-Cuantia-2 campos-cuantias__icon",children:[e("span",{className:"path1"}),e("span",{className:"path2"}),e("span",{className:"path3"}),e("span",{className:"path4"})]}),e("label",{id:"descripcion",children:"Cuantía hasta:"}),e("input",{value:pe,onChange:fe,type:"text",id:"cuantia_hasta",name:"cuantia_hasta",placeholder:"Sin limite superior",className:"form-control inputs_form"})]})})]}),Te&&n("div",{class:"align-items-center col-11 col-lg-8 col-md-9 col-sm-10 justify-content-between campos-cuantias__block row",children:[e("div",{class:"col-8 p-0",children:n("p",{children:["¿Deseas incluir contratos"," ",e("span",{class:"text_color",children:"sin presupuesto asignado"})," ","o con cuantía de"," ",e("span",{class:"text_color",children:"$0"})," ","en este perfil?"]})}),e("div",{class:"col-3 text-center",children:n("label",{class:"switch",children:[e("input",{type:"checkbox",checked:_e,onClick:()=>Ae(!_e)}),e("span",{class:"slider round"})]})})]})]})}),n(u,{children:[" ",_&&e("p",{children:"Paso 5"})]})]})})}),n("div",{className:"perfil-bottons-footer position-relative text-center mt-4",children:[e(u,{children:P&&e("a",{onClick:Ne,className:"btn btnRadius btn-new-blue",id:"btn-next-ac",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Siguiente"})})}),e(u,{children:x&&e("a",{onClick:Ce,className:"btn btnRadius btn-new-blue",id:"btn-next-tc",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Siguiente"})})}),e(u,{children:ge&&e("a",{onClick:Le,className:"btn btnRadius btn-new-blue",id:"btn-next-lc",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Siguiente"})})}),e(u,{children:f&&e("a",{onClick:Be,className:"btn btnRadius btn-new-blue",id:"btn-next-cu",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Guardar"})})}),e(u,{children:xe&&e("a",{onClick:we,className:"btn btnRadius btn-new-blue",id:"btn-next-cu",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Siguiente"})})}),e(u,{children:oe&&e("a",{onClick:ke,className:"btn btnRadius btn-new-blue",id:"btn-return-tc",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Volver"})})}),e(u,{children:a&&e("a",{onClick:Se,className:"btn btnRadius btn-new-blue",id:"btn-return-lc",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Volver"})})}),e(u,{children:o&&e("a",{onClick:Ee,className:"btn btnRadius btn-new-blue",id:"btn-return-cu",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Volver"})})}),e(u,{children:l&&e("a",{onClick:Re,className:"btn btnRadius btn-new-blue",id:"btn-return-te",children:e("span",{className:"bloque__info-header-cuenta-text--modifier",children:"Volver"})})})]})]})})]})};export{ia as default};
