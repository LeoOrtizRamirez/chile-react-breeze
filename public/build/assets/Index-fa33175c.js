import{r as o,j as t,a as e,F as f}from"./app-19006a78.js";import{u as ka,a as qt,b as Oe,c as jt,O as We,Z as ne,P as oe,d as Mt,D as ze,e as wa,f as At,l as Rt,R as Tt,F as M,A as Lt,C as Pt,g as $t,h as Bt,i as Dt,T as Ft,N as Ea,j as ie}from"./AuthenticatedLayout-31a75302.js";/* empty css                 */import{D as Ht,C as A,B as _e}from"./column.esm-879be56b.js";import{A as Ve}from"./ActividadEconomica-3ae4d03e.js";import{L as Ot}from"./Loader-66f7c035.js";import{M as xe,f as Ia}from"./Nav-3166b4b8.js";import"./InputError-bcb6347e.js";import"./hasClass-db1f9471.js";import"./mergeOptionsWithPopperConfig-04fa505e.js";import"./module-b9583cce.js";import"./Button-63669090.js";/* empty css                      */function Ue(){return Ue=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var c=arguments[m];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(p[d]=c[d])}return p},Ue.apply(this,arguments)}function zt(p){if(Array.isArray(p))return p}function Vt(p,m){var c=p==null?null:typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(c!=null){var d,H,E,P,l=[],S=!0,u=!1;try{if(E=(c=c.call(p)).next,m===0){if(Object(c)!==c)return;S=!1}else for(;!(S=(d=E.call(c)).done)&&(l.push(d.value),l.length!==m);S=!0);}catch(C){u=!0,H=C}finally{try{if(!S&&c.return!=null&&(P=c.return(),Object(P)!==P))return}finally{if(u)throw H}}return l}}function qa(p,m){(m==null||m>p.length)&&(m=p.length);for(var c=0,d=new Array(m);c<m;c++)d[c]=p[c];return d}function Wt(p,m){if(p){if(typeof p=="string")return qa(p,m);var c=Object.prototype.toString.call(p).slice(8,-1);if(c==="Object"&&p.constructor&&(c=p.constructor.name),c==="Map"||c==="Set")return Array.from(p);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return qa(p,m)}}function Ut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Se(p,m){return zt(p)||Vt(p,m)||Wt(p,m)||Ut()}var ye={defaultProps:{__TYPE:"Sidebar",id:null,style:null,className:null,maskStyle:null,maskClassName:null,visible:!1,position:"left",fullScreen:!1,blockScroll:!1,baseZIndex:0,dismissable:!0,showCloseIcon:!0,ariaCloseLabel:null,closeOnEscape:!0,icons:null,modal:!0,appendTo:null,transitionOptions:null,onShow:null,onHide:null,children:void 0},getProps:function(m){return We.getMergedProps(m,ye.defaultProps)},getOtherProps:function(m){return We.getDiffProps(m,ye.defaultProps)}},ja=o.exports.forwardRef(function(p,m){var c=ye.getProps(p),d=o.exports.useState(!1),H=Se(d,2),E=H[0],P=H[1],l=o.exports.useState(!1),S=Se(l,2),u=S[0],C=S[1],j=o.exports.useRef(null),I=o.exports.useRef(null),Z=o.exports.useRef(null),ce=ka({type:"keydown",listener:function(g){g.which===27&&ne.get(I.current)===ne.getCurrent("modal",oe.autoZIndex)&&K(g)}}),O=Se(ce,2),re=O[0],R=O[1],le=ka({type:"click",listener:function(g){g.which!==2&&Ge(g)&&K(g)}}),J=Se(le,2),Ce=J[0],de=J[1],Ge=function(g){return j&&j.current&&!j.current.contains(g.target)},ke=function(){var g=["left","right","top","bottom"],D=g.find(function(b){return b===c.position});return D?"p-sidebar-".concat(D):""},Ze=function(){var g=document.activeElement,D=g&&j&&j.current.contains(g);!D&&c.showCloseIcon&&Z.current.focus()},we=function(g){c.dismissable&&c.modal&&I.current===g.target&&K(g)},K=function(g){c.onHide(),g.preventDefault()},Ee=function(){c.onShow&&c.onShow(),Ze(),B()},me=function(){c.modal&&ze.addClass(I.current,"p-component-overlay-leave")},U=function(){ne.clear(I.current),P(!1),pe()},B=function(){c.closeOnEscape&&re(),c.dismissable&&!c.modal&&Ce(),c.blockScroll&&ze.addClass(document.body,"p-overflow-hidden")},pe=function(){R(),de(),c.blockScroll&&ze.removeClass(document.body,"p-overflow-hidden")};o.exports.useImperativeHandle(m,function(){return{props:c,getElement:function(){return j.current},gteMask:function(){return I.current},getCloseIcon:function(){return Z.current}}}),qt(function(){c.visible&&P(!0)}),Oe(function(){c.visible&&!E&&P(!0),c.visible!==u&&E&&C(c.visible)}),Oe(function(){E&&(ne.set("modal",I.current,oe.autoZIndex,c.baseZIndex||oe.zIndex.modal),C(!0))},[E]),Oe(function(){u&&(de(),c.dismissable&&!c.modal&&Ce())},[c.dismissable,c.modal,u]),jt(function(){pe(),I.current&&ne.clear(I.current)});var ue=function(){if(c.showCloseIcon){var g=c.ariaCloseLabel||Rt("close");return o.exports.createElement("button",{type:"button",ref:Z,className:"p-sidebar-close p-sidebar-icon p-link",onClick:K,"aria-label":g},o.exports.createElement("span",{className:"p-sidebar-close-icon pi pi-times","aria-hidden":"true"}),o.exports.createElement(Tt,null))}return null},Ie=function(){return c.icons?We.getJSXElement(c.icons,c):null},qe=function(){var g=ye.getOtherProps(c),D=wa("p-sidebar p-component",c.className,{"p-input-filled":oe.inputStyle==="filled","p-ripple-disabled":oe.ripple===!1}),b=wa("p-sidebar-mask",{"p-component-overlay p-component-overlay-enter":c.modal,"p-sidebar-mask-scrollblocker":c.blockScroll,"p-sidebar-visible":E,"p-sidebar-full":c.fullScreen},ke(),c.maskClassName),$=ue(),Me=Ie(),Je={enter:c.fullScreen?150:300,exit:c.fullScreen?150:300};return o.exports.createElement("div",{ref:I,style:c.maskStyle,className:b,onMouseDown:we},o.exports.createElement(At,{nodeRef:j,classNames:"p-sidebar",in:u,timeout:Je,options:c.transitionOptions,unmountOnExit:!0,onEntered:Ee,onExiting:me,onExited:U},o.exports.createElement("div",Ue({ref:j,id:c.id,className:D,style:c.style},g,{role:"complementary"}),o.exports.createElement("div",{className:"p-sidebar-header"},Me,$),o.exports.createElement("div",{className:"p-sidebar-content"},c.children))))},je=function(){var g=qe();return o.exports.createElement(Mt,{element:g,appendTo:c.appendTo,visible:!0})};return E&&je()});ja.displayName="Sidebar";const cs=({auth:p,contratos:m,nombre_carpeta:c,zona:d,carpetas:H,grupos:E,filter_notas:P,carpeta_actual:l,perfiles:S})=>{console.log(d);const[u,C]=o.exports.useState(m),[j,I]=o.exports.useState(u.last_page+1),[Z,ce]=o.exports.useState(0),O=a=>{console.log("selectedContratos",b),U(!0);let s=a+re();axios.get(s).then(n=>{C(n.data),ce(n.data.current_page-1),I(u.last_page+1),U(!1)}).catch(n=>{console.log(n)}),console.log("selectedContratos current",b)},re=()=>{var ha,fa,ga,Na,va,ba,_a,xa,Sa,ya,Ca;let a="";switch(d){case"C":a="carpeta";break}let s=(ha=document.querySelector('input[name="rapida"]'))==null?void 0:ha.value,n=(fa=document.querySelector('input[name="fuente.alias_portal"]'))==null?void 0:fa.value,i=(ga=document.querySelector('input[name="entidad_contratante"]'))==null?void 0:ga.value,r=(Na=document.querySelector('input[name="objeto"]'))==null?void 0:Na.value,h=(va=document.querySelector('input[name="valor"]'))==null?void 0:va.value,N=(ba=document.querySelector('input[name="modalidad"]'))==null?void 0:ba.value,w=(_a=document.querySelector('input[name="codigo_proceso"]'))==null?void 0:_a.value,x=(xa=document.querySelector('input[name="estado_proceso"]'))==null?void 0:xa.value,q=(Sa=document.querySelector('input[name="fecha_publicacion"]'))==null?void 0:Sa.value,se=(ya=document.querySelector('input[name="ubicacion"]'))==null?void 0:ya.value,W=(Ca=document.querySelector('input[name="actividad_economica"]'))==null?void 0:Ca.value;return`&${a}=${l==null?void 0:l.id}&type=fetch&rapida=${s}&portal=${n}&entidad_contratante=${i}&objeto=${r}&valor=${h}&modalidad=${N}&codigo_proceso=${w}&estado_proceso=${x}&fecha_publicacion=${q}&ubicacion=${se}&actividad_economica=${W}`};o.exports.useState(""),o.exports.useState(m.data),o.exports.useState(!0);const[R,le]=o.exports.useState([]),J=(a,s)=>{switch(s){case"add":R.includes(a)||le([...R,a]);break;case"delete":R.includes(a)&&le(R.filter(n=>n!=a));break}};o.exports.useEffect(()=>{u.data.forEach(a=>{let s=document.querySelector(`.row-${a.id}`);s&&(s.style.display="contents")}),R.forEach(a=>{let s=document.querySelector(`.row-${a}`);s&&(s.style.display="none")})},[R]);const[Ce,de]=o.exports.useState(0),[Ge,ke]=o.exports.useState(0);o.exports.useEffect(()=>{document.getElementById("div1");var a=document.getElementById("tabla");document.getElementById("wrapper1");var s=document.getElementById("scroll-table");a&&de(a.offsetWidth),s&&ke(s.offsetWidth);var n=document.getElementById("wrapper1"),i=document.querySelector("#scroll-table");n&&(n.onscroll=function(){i.scrollLeft=n.scrollLeft}),i&&(i.onscroll=function(){n.scrollLeft=i.scrollLeft})}),o.exports.useState(m.to),o.exports.useState(m.from),o.exports.useState(m.total),o.exports.useState(m.next_page_url),o.exports.useState(m.prev_page_url);const[Ze,we]=o.exports.useState(""),[K,Ee]=o.exports.useState("");o.exports.useState(10),m.data.length,o.exports.useRef(0),o.exports.useEffect(()=>{const a=window.location.search,s=new URLSearchParams(a),n=s.get("fecha_publicacion");n!=null&&Ee(n);const i=s.get("buscador_rapido");i!=null&&we(i)},[]);const[me,U]=o.exports.useState(!1);o.exports.useState(!1);const B=o.exports.useRef(null),pe=()=>{B.current&&B.current.reset()};o.exports.useState(m.data);const[ue,Ie]=o.exports.useState({global:{value:null,matchMode:M.CONTAINS},"fuente.alias_portal":{value:null,matchMode:M.STARTS_WITH},entidad_contratante:{value:null,matchMode:M.STARTS_WITH},objeto:{value:null,matchMode:M.STARTS_WITH},valor:{value:null,matchMode:M.STARTS_WITH},modalidad:{value:null,matchMode:M.STARTS_WITH},codigo_proceso:{value:null,matchMode:M.STARTS_WITH},estado_proceso:{value:null,matchMode:M.STARTS_WITH},fecha_publicacion:{value:null,matchMode:M.STARTS_WITH},ubicacion:{value:null,matchMode:M.STARTS_WITH},actividad_economica:{value:null,matchMode:M.STARTS_WITH}});o.exports.useState(["No","Si"]);const qe=a=>e(f,{children:e("div",{className:"VueTables__selecciones-filter-wrapper",children:e("span",{children:e("div",{className:"selecciones-nuevo-diseno",children:t("button",{id:"limpiar",type:"button",className:"icon-Limpiar-click borrador-grid",onClick:pe,children:[e("span",{className:"path1"}),e("span",{className:"path2"}),e("span",{className:"path3"}),e("span",{className:"path4"}),e("span",{className:"path5"}),e("span",{className:"path6"}),e("span",{className:"path7"}),e("span",{className:"path8"})]})})})})}),[je,v]=o.exports.useState(null);o.exports.useRef(null);const g=()=>{let a={};u.data.forEach(s=>{a[`${s.id}`]=!0}),v(a)};o.exports.useEffect(()=>{g()},[u]);const D=a=>t(f,{children:[R.includes(a.id)&&t("div",{className:"proceso__detail",children:[e("div",{className:"proceso__detail_infoentidad",children:t("div",{className:"proceso__detail_infoentidad_principal",children:[e("span",{className:"body_checkbox",children:e("input",{type:"checkbox",id:"checkboxPerfil0",className:"input_perfil_val",value:"256058"})}),e("span",{className:"icon_tipo_secop",children:e("i",{id:"iconFuente-8125395",className:"icono_fuente__list",style:{background:"rgb(0, 61, 201)"},children:"MP"})}),e("span",{className:"proceso_detail_infoentidad__entidad",children:a.entidad_contratante}),e("i",{children:"No leído"})]})}),e("div",{className:"proceso__detail_infofull position-relative",children:t("div",{className:"row",children:[t("div",{className:"col-6",children:[t("div",{className:"d-flex text-left",children:[e("strong",{children:"Objeto:"}),e("p",{children:a.objeto})]}),t("div",{className:"d-flex valor_range--estandar text-left",children:[e("strong",{children:"Cuantía:"}),t("p",{children:[e("i",{className:"valor_range__moneda",children:"$"}),a.valor]})]}),t("div",{className:"d-flex text-left",children:[e("strong",{children:"Modalidad:"}),e("p",{children:a.modalidad})]}),t("div",{className:"d-flex text-left",children:[e("strong",{children:"Número:"}),e("p",{children:a.codigo_proceso})]})]}),t("div",{className:"col-6",children:[t("div",{className:"d-flex text-left",children:[e("strong",{children:"Estado:"}),e("p",{className:"estado-contrato",style:{color:"rgb(115, 201, 20) !important"},children:a.estado_proceso})]}),t("div",{className:"d-flex text-left",children:[e("strong",{children:"F. publicación:"}),e("p",{children:a.fecha_publicacion})]}),t("div",{className:"d-flex text-left",children:[e("strong",{children:"Ubicación:"}),t("p",{children:[e("i",{className:"icon-Ubicacin-grid"}),a.ubicacion]})]}),t("div",{className:"d-flex text-left",children:[t("strong",{children:["Actividad",e("br",{}),"económica:"]}),e("p",{children:"Litografía e Impresión a gran formato, -Impresiones, fotocopiado y alquiler de fotocopiadoras,-Encuadernación, empastado y argollado"})]}),t("div",{className:"d-flex text-left",children:[e("strong",{children:"Contratista(s):"}),e("div",{className:"columna_contratista_expand__sin-ganador",children:e("p",{children:"Proceso aun sin adjudicar"})})]})]})]})})]}),t("span",{className:"div_iconos_functions_grid",children:[t("a",{className:"btnVerDocumentos d-inline-flex align-items-center",children:[e("i",{className:"icon-Ver-documentos"}),e("span",{children:"Ver documentos"}),e("i",{className:"icon-Siguiente1"})]}),t("div",{className:"iconos_functions_grid iconos_acciones_contratos",children:[a.favorito?e("div",{className:"custom-tooltip yellow","data-tooltip":"Eliminar De Favoritos",children:e("button",{id:`favorito_${a.id}`,type:"button",className:"icon-Favorito-click btn_contratos_favoritos favorito_active",onClick:()=>z("modal_confirm_delete",a,!0)})}):e("div",{className:"custom-tooltip yellow","data-tooltip":"Agregar A Favoritos",children:e("button",{id:`favorito_${a.id}`,type:"button",className:"icon-Favorito-click btn_contratos_favoritos",onClick:()=>Ka(a.id)})}),e("div",{className:"custom-tooltip green","data-tooltip":"Agregar A Seguimientos",children:t("button",{type:"button",className:"btn_contratos_seguimientos icon-Seguimientos",children:[e("span",{className:"path1"}),e("span",{className:"path2"}),e("span",{className:"path3"})]})}),e("div",{className:"custom-tooltip blue","data-tooltip":"Agregar A Carpeta(S)",onClick:()=>z("modal_seleccion_carpeta",a),children:t("button",{type:"button",className:"icon-Mis-carpetas btn_contratos_carpeta d-inline-flex",children:[e("span",{className:"path1"}),e("span",{className:"path2"})]})}),e("div",{className:"custom-tooltip dark","data-tooltip":"Ir A La Fuente",children:e("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"icon-Ir-a-la-fuente-click btn_contratos_external"})}),e("div",{className:"custom-tooltip purple","data-tooltip":"Compartir",children:e("button",{className:"icon-Compartir-click btn_contratos_compartir"})}),a.notas?e("div",{className:"custom-tooltip yellow with-notes","data-tooltip":"Ver Notas",children:e("button",{className:"btn_contratos_notas custom-tooltip yellow",children:e("img",{src:"/public/images/notas/nota.svg",alt:"Nota",onClick:()=>ca(a)})})}):e("div",{className:"custom-tooltip gray","data-tooltip":"Crear Primer Nota",children:e("button",{className:"btn_contratos_notas custom-tooltip gray",children:e("img",{src:"/public/images/notas/nota.svg",alt:"Nota",className:"without-notes",onClick:()=>ca(a)})})})]}),R.includes(a.id)&&t("button",{type:"button",className:"btnRadius ver-menos-detalle",onClick:()=>J(a.id,"delete"),children:["Ver menos",e("i",{className:"icon-Desplegar-click"})]}),a.carpetas.length>0&&t(f,{children:[e("span",{className:"separator_docs"}),e("span",{className:"tags_carpetas",children:t("div",{className:"scroll_carpetas",children:[a.carpetas.map((s,n)=>e(f,{children:n<=1&&t("div",{className:"d-inline-flex",children:[t("span",{className:"icon-Mis-carpetas mr-2",style:{color:s.color},children:[e("span",{className:"path1"}),e("span",{className:"path2"})]}),e("p",{className:"p-0 m-0 d-inline-block",children:s.nombre_carpeta}),e("button",{type:"button",className:"icon-Cancelar",onClick:()=>Le(s.id,a.id)})]})})),a.carpetas.length>2&&t("div",{className:"ver_mas_carpetas",onClick:()=>z("modal_seleccion_carpeta",a),children:[t("span",{className:"icon-Mis-carpetas mr-2",style:{color:"rgb(0, 61, 201)"},children:[e("span",{className:"path1"}),e("span",{className:"path2"})]}),"Ver más carpetas ",e("button",{type:"button",className:"icon-Siguiente1"})]})]})})]})]})]}),[b,$]=o.exports.useState([]),[Me,Je]=o.exports.useState(!1),Ma=a=>e(f,{children:e("span",{className:"icon_tipo_secop",children:e("i",{className:"icono_fuente__list",children:a.fuente.alias_portal})})}),Aa=a=>e("div",{className:"content_ver_mas_grid entidad_grid",children:e("p",{className:"span_grid",children:a.entidad_contratante})}),Ra=a=>e("div",{className:"content_ver_mas_grid objeto_grid",children:e("p",{className:"objeto_grid_p",children:t("span",{className:"objeto_grid_span",children:[e("span",{className:"tt-uppercase",children:a.objeto}),t("a",{className:"vermas text-right mr-0 mt-0",onClick:()=>J(a.id,"add"),children:["Ver más",e("i",{className:"icon-Desplegar"})]})]})})}),Ta=a=>t("span",{className:"valor_range--estandar d-flex justify-content-center",children:[e("i",{className:"valor_range__moneda sin-min-width",children:"$"}),a.valor]}),La=a=>e("span",{style:{fontFamily:"Nexa-bold",color:"rgb(115, 201, 20)"},children:a.estado_proceso}),Pa=a=>e("div",{className:"content_ver_mas_grid ubicaciones_grid",children:e("p",{className:"scroll_fit",children:e("span",{children:e("span",{children:a.ubicacion})})})}),T=a=>e(f,{children:a.field=="modalidad"||a.field=="ubicacion"||a.field=="actividad_economica"?e("input",{type:"text",className:"p-inputtext p-component p-column-filter",placeholder:"Seleccionar",name:a.field,onClick:()=>z(a.field),onInput:s=>{B.current.filter(s.target.value,a.field,"contains")}}):e("input",{type:"text",className:"p-inputtext p-component p-column-filter",placeholder:"Buscar",name:a.field,onChange:s=>na(s,a.field),onInput:s=>{B.current.filter(s.target.value,a.field,"contains")}})}),[Ke,X]=o.exports.useState(!1),[y,Xe]=o.exports.useState(""),[$a,Ye]=o.exports.useState(""),[_,Qe]=o.exports.useState([]),ea=()=>X(!1),z=(a,s=null,n=!1)=>{if(a=="actividad_economica"||a=="modalidad"||a=="ubicacion"?(Ye("modal_actividades"),Xe(a)):(Ye(a),Xe(a),Qe(s)),a=="modal_confirm_delete"){var i=[];b.forEach(r=>{i.push(parseInt(r.id))}),He(i),Xa(n)}X(!0)},[Ba,Da]=o.exports.useState([]),[Fa,Ha]=o.exports.useState([]),[Oa,za]=o.exports.useState([]),[Va,aa]=o.exports.useState([]),[Wa,ta]=o.exports.useState([]),[Ua,sa]=o.exports.useState([]);o.exports.useEffect(()=>{async function a(){try{const r=await(await fetch("/actividades-economicas/json")).json();Da(r)}catch(i){console.log("Solicitud fallida",i)}}a();async function s(){try{const r=await(await fetch("/localizacion/json")).json();za(r)}catch(i){console.log("Solicitud fallida",i)}}s();async function n(){try{const r=await(await fetch("/tiposcompras/json")).json();Ha(r)}catch(i){console.log("Solicitud fallida",i)}}n()},[]);const Ae=(a,s)=>{switch(s){case"ActividadEconomica":a.length>0?aa(a):aa([]);break;case"Localizaciones":a.length>0?ta(a):ta([]);break;case"TiposCompras":a.length>0?sa(a):sa([]);break}},[Ga,Za]=o.exports.useState(""),na=(a,s)=>{if(s=="global"){const i=a.target.value;let r={...ue};r[s].value=i,Ie(r),Za(i)}let n=`${u.path}?page=${u.current_page}`+re();axios.get(n).then(i=>{C(i.data),ce(i.data.current_page-1),I(u.last_page+1)}).catch(i=>{console.log(i)})},Ja=(()=>{var a,s;return e("div",{className:"m-0 w-100",children:t("div",{className:"text-left reloadTable row",style:{margin:0+"px"},children:[e("div",{id:"top-botones",className:"mb-2 mb-lg-0",children:t("div",{className:"franja-busqueda-rapida",children:[t("div",{className:"input-busqueda-rapida",children:[e("input",{value:Ga,onChange:n=>na(n,"global"),type:"text",name:"rapida",placeholder:"Búsqueda rápida",className:"form-control"}),e("button",{type:"button",className:"submit-busqueda-rapida icon-Buscar-click"})]}),e("div",{className:"select-busqueda-rapida ml-4",children:e(Ia,{id:"dropdown-filtro-nuevos",children:t(Ea,{id:"dropdown-filtro",className:"nav-link pl-0",title:e(f,{children:t("span",{className:"ver-filtros",children:[e("span",{className:"mr-2 visualizar",children:"Visualizar:"}),t("span",{className:"text-ver-filtros d-inline-flex pl-3 bg-white",children:[d=="ALL"&&t(f,{children:[e("span",{className:"align-self-center d-inline-flex iconOrdenamientoGrid",children:e("span",{className:"icon-Todos"})}),e("span",{className:"text-ver-filtros__text text-left",children:"Todos"})]}),d=="No leidos"&&t(f,{children:[e("span",{className:"align-self-center d-inline-flex iconOrdenamientoGrid",children:e("span",{className:"icon-No-leidos"})}),e("span",{className:"text-ver-filtros__text text-left",children:"No leidos"})]}),d=="Vistos recientemente"&&t(f,{children:[e("span",{className:"align-self-center d-inline-flex iconOrdenamientoGrid",children:e("span",{className:"icon-Vistos-recientemente"})}),e("span",{className:"text-ver-filtros__text text-left",children:"Vistos recientemente"})]}),d=="Notas"&&t(f,{children:[e("span",{className:"align-self-center d-inline-flex iconOrdenamientoGrid",children:e("span",{className:"icon-Contratos"})}),e("span",{className:"text-ver-filtros__text text-left",children:"Notas creadas"})]})]})]})}),children:[d!="ALL"&&t(ie.Item,{href:"/cliente/contratos?filtrar_nuevos=0",className:"dropdown-item",children:[e("span",{className:"icon-options-order",children:e("span",{className:"icon-Todos"})}),e("span",{className:"text-options-order",children:"Todos"})]}),d!="No leidos"&&t(ie.Item,{href:"/cliente/contratos?filtrar_nuevos=1",className:"dropdown-item",children:[e("span",{className:"icon-options-order",children:e("span",{className:"icon-No-leidos"})}),e("span",{className:"text-options-order",children:"No leidos"})]}),d!="Vistos recientemente"&&t(ie.Item,{href:"/cliente/contratos?filtrar_nuevos=2",className:"dropdown-item",children:[e("span",{className:"icon-options-order",children:e("span",{className:"icon-Vistos-recientemente"})}),e("span",{className:"text-options-order",children:"Vistos recientemente"})]}),d!="Notas"&&t(ie.Item,{href:"/cliente/contratos?filtrar_nuevos=4",className:"dropdown-item",children:[e("span",{className:"icon-options-order",children:e("span",{className:"icon-Contratos"})}),e("span",{className:"text-options-order",children:"Notas creadas"})]})]})})}),d=="F"&&e("div",{className:"d-inline-block seccion-estas-en",children:t("p",{className:"my-1",children:["Estás en: ",e("span",{className:"mx-1 icon-Favorito-click"}),e("span",{className:"texto-estas-en",children:"mis favoritos"})]})}),d=="P"&&e("div",{className:"d-inline-block seccion-estas-en",children:t("p",{className:"my-1",children:["Estás en: ",e("span",{className:"mx-1 icon-Eliminar"}),e("span",{className:"texto-estas-en",children:l==null?void 0:l.nombre_carpeta})]})}),d=="C"&&e("div",{className:"d-inline-block seccion-estas-en",children:t("p",{className:"my-1",children:["Estás en:",e("img",{src:"https://col.licitaciones.info/img/listado/carpeta_azul_claro.svg",width:"14",alt:"icon-carpeta",className:"mx-1"}),e("span",{className:"texto-estas-en",children:l==null?void 0:l.nombre_carpeta})]})}),d=="MP"&&e(f,{children:S.length==1?e("div",{className:"d-inline-block seccion-estas-en",children:t("p",{className:"my-1",children:["Estás en:",e("img",{src:(a=S[0])==null?void 0:a.imagen_filtro,className:"mx-1"}),e("span",{className:"texto-estas-en",children:(s=S[0])==null?void 0:s.nombre_filtro})]})}):e(Ia,{id:"dropdown-filtros",className:"ml-4",children:e(Ea,{id:"dropdown-filtro",className:"nav-link pl-0",title:e(f,{children:t("span",{className:"ver-filtros",children:[e("span",{className:"mr-2 visualizar",children:"Estás en:"}),e("span",{className:"text-ver-filtros d-inline-flex pl-3 bg-white",children:S.length==E.length?t(f,{children:[e("span",{className:"align-self-center d-inline-flex iconOrdenamientoGrid",children:e("img",{src:"https://col.licitaciones.info/storage/banco-imagenes/artistas/Licitaciones/todos_los_perfiles.svg"})}),e("span",{className:"text-ver-filtros__text text-left",children:"Todos los Perfiles"})]}):t(f,{children:[e("span",{className:"align-self-center d-inline-flex iconOrdenamientoGrid",children:e("img",{src:"https://col.licitaciones.info/storage/banco-imagenes/artistas/Licitaciones/sin_imagen_perfil.svg"})}),t("span",{className:"text-ver-filtros__text text-left",children:[S.length," Perfiles de negocio"]})]})})]})}),children:S.map((n,i)=>t(ie.Item,{href:"#",className:"dropdown-item",children:[e("span",{className:"icon-options-order",children:e("img",{src:n.imagen_filtro})}),e("span",{className:"text-options-order",children:n.nombre_filtro})]}))})})})]})}),e("div",{className:"col-12 col-lg-7 col-xl-6 p-0 paginacion_grid text-right text-lg-right ",children:e("span",{className:"paginator",children:u.total<=30?t("span",{className:"p-paginator-current",children:[u.data.length," registros"]}):e(f,{children:P?t("span",{className:"p-paginator-current",children:[u.data.length," registros"]}):t(f,{children:[e(_e,{disabled:u.prev_page_url===null,icon:"pi pi-angle-double-left",onClick:()=>O(u.first_page_url)}),e(_e,{disabled:u.prev_page_url===null,icon:"pi pi-angle-left",onClick:()=>O(u.prev_page_url)}),e(_e,{disabled:u.next_page_url===null,icon:"pi pi-angle-right",onClick:()=>O(u.next_page_url)}),e(_e,{disabled:u.next_page_url===null,icon:"pi pi-angle-double-right",onClick:()=>O(u.last_page_url)}),e("span",{className:"p-paginator-current",children:`${u.from} - ${u.to} de ${u.total}`})]})})})})]})})})(),Ka=a=>{U(!0);var s=document.querySelector('meta[name="csrf-token"]');axios.post("/cliente/contratos/add_favorito",{contrato:a},{Authorization:`Bearer ${s}`}).then(n=>{C(i=>{const r=i.data.findIndex(h=>h.id===a);if(r===-1)return{...i};{let h=[...i.data];return h[r]={...h[r],favorito:!0},{...i,data:h}}}),U(!1),console.log(L.current),L.current.show({severity:"success",summary:"Has agregado el proceso de contratación a tus favoritos.",life:3e3})}).catch(n=>{console.log(n)})},[he,Xa]=o.exports.useState(!1),Ya=a=>{k(!0);var s=[];a.length==null?s=[a]:s=a.filter(i=>te.includes(i.id));var n=document.querySelector('meta[name="csrf-token"]');axios.post("/cliente/contratos/delete_favorito",{contratos:s},{Authorization:`Bearer ${n}`}).then(i=>{i.data.status==1&&($([]),C(r=>{var h=[...r.data];return s.forEach(N=>{const w=r.data.findIndex(x=>x.id===N.id);d=="F"?h=h.filter(x=>x.id!=N.id):h[w]={...h[w],favorito:!1}}),{...r,data:h}})),k(!1),X(!1),L.current.show({severity:"success",summary:"Has eliminado el proceso de tus favoritos",life:3e3})}).catch(i=>{console.log(i)})},F=(a,s,n,i,r=!0,h=!0)=>e("div",{id:a,className:"container-fluid content_blank_interno",children:t("div",{className:"row  align-items-end",children:[e("div",{className:"col-md-4 offset-md-1",children:e("img",{src:s,alt:"",className:"img-fluid"})}),e("div",{className:"col-md-6 offset-md-1",children:t("div",{className:"estructura-mensaje-personalizado",children:[e("h4",{className:"text-center titulo-personalizado",dangerouslySetInnerHTML:{__html:n}}),t("div",{className:"position-relative",children:[r&&e("span",{className:"icon-Bombillo mensaje-icono "}),e("p",{className:"mensaje-personalizado text-justify d-block",dangerouslySetInnerHTML:{__html:i}})]}),h&&e("a",{href:"/cliente/carpeta/administrar-carpetas",className:"btn-new-gray btnRadius d-inline-block text-center btn-volver-carpetas",children:"Regresar a carpetas"})]})})]})}),Qa=()=>t(f,{children:[(l==null?void 0:l.nombre_carpeta)===""&&e("p",{children:"No se encontraron registros"}),d==="P"&&F("mensajes-personalizado-papelera","/public/images/mensajes-personalizados/sin-papelera.png",'¡Nada por aqui! no tienes procesos de contratacion en <b class="text-rojo">papelera</b>',"Recuerda que aquí se ponen los procesos que has eliminado, si deseas puedes restaurarlos desde esta sección."),d=="F"&&F("mensajes-personalizado-favoritos","/public/images/mensajes-personalizados/sin-favoritos.png",'No has agregado procesos de contratación <b class="text-naranja">favoritos</b> a esta sección','Recuerda que aquí puedes almacenar los procesos que más te interesen. Sólo debes ir al icono de favoritos &nbsp;<span class="icon-Favorito-click" id="icono-mensaje"></span>&nbsp; que se encuentra en la parte inferior de cada proceso y listo, podrás visualisarlos y administrarlos en esta seccion.'),d=="C"&&F("mensajes-personalizado-sin-contratos-carpeta","/public/images/mensajes-personalizados/sin-procesos.png",'No tienes procesos de contratación en esta <b class="texto-personalizado-azul">carpeta</b>.',"Recuerda que aquí se pueden agregar lo procesos de contratacíon de forma organizada y en un solo lugar.",!1),d=="MP"&&F("mensajes-personalizado-perfil","/public/images/mensajes-personalizados/sin-resultados-busqueda.png","Aún no tienes procesos de contratación.","Es posible que esto se deba a que no hay contratos nuevos que coincidan con los parámetros de tu perfil de negocio o porque no has activado la opción de incluir históricos de contratación.",!0,!1),d=="ALL"&&F("mensajes-personalizado-perfil","/public/images/mensajes-personalizados/sin-resultados-busqueda.png","Aún no tienes procesos de contratación.","Es posible que esto se deba a que no hay contratos nuevos que coincidan con los parámetros de tu perfil de negocio o porque no has activado la opción de incluir históricos de contratación.",!0,!1),d=="Notas"&&F("mensajes-personalizado-perfil","/public/images/mensajes-personalizados/sin-resultados-busqueda.png","No se encontró el resultado.","Prueba cambiando tus opciones de búsqueda e intentalo nuevamente.",!0,!1),d=="No leidos"&&F("mensajes-personalizado-sin-leer","/public/images/mensajes-personalizados/no-leidos.png",'¡Estás al día! <b class="text-verde">has leído</b> todas las oportunidades seleccionadas para ti.',"Recuerda que aquí se filtran tus procesos de contratación correspondientes sin leer.",!0,!1),d=="Vistos recientemente"&&F("mensajes-personalizado-visto-reciente","/public/images/mensajes-personalizados/vistos-recientemente.png",'Parece que aún <b class="text-naranja">no has visto</b> procesos de contratación de tu interés.',"Recuerda que este es tu historial de procesos vistos recientemente.",!0,!1)]}),[Y,et]=o.exports.useState(H),[at,Re]=o.exports.useState(!1),tt=()=>{Re(!0)},st=()=>{it(null),Re(!1)},nt=a=>{k(a)},[ot,it]=o.exports.useState([]),ct=a=>{et(a),Re(!1)},[G,Te]=o.exports.useState([]),oa=(a,s)=>{if(a.target.checked)G.includes(s)||Te([...G,s]);else{const n=G.filter(i=>i!==s);Te(n)}},rt=()=>{k(!0);var a=document.querySelector('meta[name="csrf-token"]'),s=[];_.length==null?s=[_]:s=_,axios.post("/cliente/carpeta/add-contrato",{contratos:s,carpetas:G},{Authorization:`Bearer ${a}`}).then(n=>{n.data.status==1&&($([]),C(i=>{const r=[...i.data];return s.forEach(h=>{const N=i.data.findIndex(w=>w.id===h.id);if(N===-1)return{...i};{const w=r[N].carpetas_ids,x=r[N].carpetas;G.forEach(q=>{if(w.includes(q)||w.push(q),!x.includes(q)){const se=Y.filter(W=>W.id==q)[0];x.push(se)}}),r[N]={...r[N],carpetas_ids:w},r[N]={...r[N],carpetas:x}}}),{...i,data:r}})),k(!1),X(!1),L.current.show({severity:"success",summary:"Has agregado el proceso de contratación a tus carpetas.",life:3e3})}).catch(n=>{console.log(n)})},Le=(a,s)=>{k(!0);var n=[];s.length==null?n=[s]:s.forEach(r=>{n.push(r.id)});var i=document.querySelector('meta[name="csrf-token"]');axios.post("/cliente/carpeta/delete-contrato",{contratos:n,carpeta:a},{Authorization:`Bearer ${i}`}).then(r=>{r.data.status==1&&($([]),C(h=>{var N=[...h.data];return n.forEach(w=>{const x=h.data.findIndex(q=>q.id===w);if(x===-1)return{...h};if(d=="C"&&(l==null?void 0:l.id)==a)N=N.filter(q=>q.id!=w);else{const q=N[x].carpetas_ids.filter(W=>W!=a),se=N[x].carpetas.filter(W=>W.id!=a);N[x]={...N[x],carpetas_ids:q},N[x]={...N[x],carpetas:se}}}),{...h,data:N}})),k(!1),X(!1),L.current.show({severity:"success",summary:"Has eliminado el proceso de contratación de tus carpetas",life:3e3})}).catch(r=>{console.log(r)})};o.exports.useEffect(()=>{Te([])},[Ke]);const lt=a=>`row-${a.id}`,[Pe,V]=o.exports.useState([]),[dt,ia]=o.exports.useState(!1),[mt,fe]=o.exports.useState(!1),[pt,$e]=o.exports.useState(!1),[ge,Q]=o.exports.useState(!1),[Ne,Be]=o.exports.useState(null),[ut,ht]=o.exports.useState(!1),ft=()=>{Be(!1),ee(""),ae("")},ca=a=>{ia(!1),V([]),Qe(a),fe(!0);var s=document.querySelector('meta[name="csrf-token"]');axios.get("/cliente/notas/get-notes?idContrato="+a.id,{headers:{Authorization:`Bearer ${s}`}}).then(n=>{V(n.data),fe(!1)}).catch(n=>{console.error("Request failed:",n.response.status,n.response.data)}),$e(!0)},ve=o.exports.useRef(),be=o.exports.useRef(),[ra,ee]=o.exports.useState(""),[la,ae]=o.exports.useState(""),[gt,Nt]=o.exports.useState({}),vt=a=>{if(Be(a.id),JSON.stringify(a)===JSON.stringify(gt)){if(ut)return}else Nt(a),ee(a.text),ae(a.title)},bt=()=>{ht(!0),ee(""),ae("")},_t=()=>{ve.current.value="",be.current.value=""},[De,da]=o.exports.useState(""),ma=(a,s=!1)=>{if((a==null?void 0:a.key)==="Enter"||s){s&&da(""),fe(!0);let n=document.querySelector('meta[name="csrf-token"]'),i=s?"":De;axios.get("/cliente/notas/get-notes?idContrato="+_.id+"&search="+i,{headers:{Authorization:`Bearer ${n}`}}).then(r=>{ia(!0),V(r.data),fe(!1)}).catch(r=>{console.error("Request failed:",r.response.status,r.response.data)})}},xt=()=>{k(!0);var a=document.querySelector('meta[name="csrf-token"]');axios.post("/cliente/notas/admin-note",{idContrato:_.id,pinned:0,text:ve.current.value,title:be.current.value,zona:d},{Authorization:`Bearer ${a}`}).then(s=>{V(s.data),Q(!1),ve.current.value="",be.current.value="",C(n=>{const i=n.data.findIndex(r=>r.id===_.id);if(i===-1)return n;{let r=n.data[i];return r.notas=!0,n.data[i]=r,n}}),k(!1),L.current.show({severity:"success",summary:"Nota creada con éxito",life:3e3})}).catch(s=>{console.log(s),L.current.show({severity:"error",summary:s,life:1e4})})},St=a=>{k(!0);var s=document.querySelector('meta[name="csrf-token"]');axios.post("/cliente/notas/actualizar",{id:a,idContrato:_.id,pinned:0,text:ra,title:la,zona:d},{Authorization:`Bearer ${s}`}).then(n=>{V(n.data),Be(!1),ee(""),ae(""),k(!1),L.current.show({severity:"success",summary:"La nota ha sido actualizada",life:3e3})}).catch(n=>{console.log(n)})},pa=a=>{k(!0);var s=document.querySelector('meta[name="csrf-token"]');axios.post("/cliente/notas/eliminar",{idContrato:_.id,id:a},{Authorization:`Bearer ${s}`}).then(n=>{V(n.data),n.data.length==0&&C(i=>{const r=i.data.findIndex(h=>h.id===_.id);if(r===-1)return i;{let h=i.data[r];return h.notas=!1,i.data[r]=h,i}}),k(!1),L.current.show({severity:"error",summary:"La nota ha sido eliminada",life:3e3})}).catch(n=>{console.log(n)})},ua=(a,s,n)=>{const i=[...a],[r]=i.splice(s,1);return i.splice(n,0,r),i},Fe=(a=new Date)=>{const s=new Date(a).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).replace(/^(\d{1}):/,"0$1:").replace(/(\s+)([aApP][mM])$/,"$1$2"),n=new Date().toLocaleDateString("en-US");return new Date(a).toLocaleDateString("en-US")===n?`Hoy ${s}`:new Date(a).toLocaleDateString("en-US")},[te,He]=o.exports.useState([]),yt=a=>{if(!te.includes(parseInt(a.target.value)))He([...te,parseInt(a.target.value)]);else{let s=te.filter(n=>n!=a.target.value);He(s)}},[Ct,k]=o.exports.useState(!1),kt=()=>{B.current.exportCSV({selectionOnly:!0})},wt=a=>{$(s=>[...s,a.data])},Et=a=>{$(s=>s.filter(n=>n!==a.data))},It=a=>{if(a.type=="all"){const s=b.filter(n=>!a.value.includes(n));if(a.value.length==0){const n=[...s];u.data.forEach(i=>{if(n.includes(i)){const r=n.indexOf(i);n.splice(r,1)}else n.push(i)}),$(n)}else $([...s,...a.value])}},L=o.exports.useRef(null);return t(Lt,{auth:p,page:"contratos",carpetas:Y,grupos:E,carpeta_actual:l,perfiles:S,zona:d,globalLoading:Ct,children:[e("div",{className:"content_not_blank_interno",children:t("div",{id:"bodycontenido",className:"col contratos_row px-0",children:[e(Ot,{loading:me}),t(Ht,{id:"datatableContratos",ref:B,value:u.data,rows:j,dataKey:"id",filters:ue,filterDisplay:"row",loading:me,globalFilterFields:["fuente.alias_portal","entidad_contratante","objeto","valor","modalidad","codigo_proceso","estado_proceso","fecha_publicacion","ubicacion","actividad_economica"],emptyMessage:Qa(),expandedRows:je,rowExpansionTemplate:D,header:Ja,selectionMode:Me?null:"checkbox",selection:b,first:Z*j,rowClassName:lt,onRowSelect:wt,onRowUnselect:Et,onSelectionChange:It,children:[e(A,{selectionMode:"multiple",className:"columna_seleccion columna_pequena",filter:!0,filterElement:qe}),e(A,{field:"fuente.alias_portal",header:"Portal",filter:!0,filterPlaceholder:"Todos",className:"rounded_left columna_tipo_secop",body:Ma,filterElement:T}),e(A,{field:"entidad_contratante",header:"Entidad",filter:!0,filterPlaceholder:"Buscar",className:"columna_entidad columna_120",body:Aa,filterElement:T}),e(A,{field:"objeto",header:"Obejto",filter:!0,filterPlaceholder:"Buscar",className:"objeto_columna",body:Ra,filterElement:T}),e(A,{field:"valor",header:"Cuantía",filter:!0,filterPlaceholder:"Buscar",className:"rangedropdown columna_120 columna_cuantia",body:Ta,filterElement:T}),e(A,{field:"modalidad",header:"Modalidad",filter:!0,filterPlaceholder:"Seleccionar",className:"columna_100 columna_modalidad",filterElement:T}),e(A,{field:"codigo_proceso",header:"Número",filter:!0,filterPlaceholder:"Buscar",className:"columna_numero",filterElement:T}),e(A,{field:"estado_proceso",header:"Estado",filter:!0,filterPlaceholder:"Buscar",className:"columna_estado",body:La,filterElement:T}),e(A,{field:"fecha_publicacion",header:"Publicada",filter:!0,filterPlaceholder:"Buscar",className:"columna_fecha",filterElement:T}),e(A,{field:"ubicacion",header:"Ubicación",filter:!0,filterPlaceholder:"Seleccionar",className:"columna_ubicacion",body:Pa,filterElement:T}),e(A,{field:"actividad_economica",header:"Actividad Económica",filter:!0,filterElement:T})]})]})}),b.length>0&&e("div",{id:"accionesSeleccionGrid",className:"acciones-seleccion-grid",children:e("div",{id:"pruebaFixed",className:"pruebafixed",children:e("div",{className:"menu-flotante",children:t("div",{id:"contenedorAcciones",className:"container-acciones",children:[t("div",{children:[e("span",{id:"contadorSeleccion",className:"contador-selecciones",children:b.length}),e("p",{className:"nombre-especifico tlpCount-texto",children:"Proceso seleccionado"})]}),e("span",{className:"separador-busqueda-rapida marg_first_separador icon-Separador-1"}),b.length<=30?t("div",{className:"",onClick:kt,children:[e("span",{id:"tlpExcel",className:"accion-tooltip",children:e("img",{width:"20px",src:"https://col.licitaciones.info/img/listado/excel_click.svg",alt:"Descarga a Excel"})}),t("p",{className:"nombre-especifico tlpExcel-texto",children:["Exportar ",b.length," registros"]})]}):t("div",{className:"deshabilitar",children:[e("span",{id:"tlpExcel",className:"accion-tooltip",children:e("img",{width:"20px",src:"https://col.licitaciones.info/img/listado/excel_click.svg",alt:"Descarga a Excel"})}),t("p",{className:"nombre-especifico tlpExcel-texto",children:["Exportar ",b.length," registros"]})]}),e("span",{className:"separador-busqueda-rapida marg_first_separador icon-Separador-1"}),t("div",{onClick:()=>z("modal_seleccion_carpeta",b),children:[e("span",{id:"tlpMoverContrato",className:"accion-tooltip",children:e("img",{width:"20px",src:"https://col.licitaciones.info/img/listado/carpeta_blue.svg",alt:"Carpeta"})}),e("p",{className:"nombre-especifico tlpMoverContrato-texto",children:"Mover proceso a"})]}),(l==null?void 0:l.nombre_carpeta)=="Seguimientos"&&t(f,{children:[e("span",{className:"separador-busqueda-rapida marg_first_separador icon-Separador-1"}),t("div",{children:[e("span",{id:"tlpEliminarSeguimiento",className:"accion-tooltip",children:e("img",{src:"https://col.licitaciones.info/img/listado/eliminar-seguimientos.svg",alt:"Eliminar Seguimiento"})}),e("p",{className:"nombre-especifico tlpEliminarSeguimiento-texto",children:"Eliminar de mis seguimientos"})]})]}),(l==null?void 0:l.nombre_carpeta)=="Seguimientos"&&t(f,{children:[e("span",{className:"separador-busqueda-rapida marg_first_separador icon-Separador-1"}),t("div",{children:[e("span",{id:"tlpMarcarNoLeido",className:"svg-icon accion-tooltip",children:e("img",{width:"24px",src:"https://col.licitaciones.info/img/listado/no_leidos_click.svg",alt:"No Leidos"})}),e("p",{className:"nombre-especifico tlpMarcarNoLeido-texto",children:"Marcar como no leidos"})]})]}),d=="C"&&t(f,{children:[e("span",{className:"separador-busqueda-rapida marg_first_separador icon-Separador-1"}),t("div",{onClick:()=>z("modal_confirm_delete",b),children:[e("span",{id:"tlpEliminar",className:"icon-Eliminar accion-tooltip"}),e("p",{className:"nombre-especifico tlpEliminar-texto",children:"Eliminar de la carpeta"})]})]}),d=="F"&&t(f,{children:[e("span",{className:"separador-busqueda-rapida marg_first_separador icon-Separador-1"}),t("div",{onClick:()=>z("modal_confirm_delete",b,!0),children:[e("span",{id:"tlpRestaurar",className:"svg-icon accion-tooltip",children:e("img",{width:"24px",src:"https://col.licitaciones.info/img/listado/quitar_favoritos.svg",alt:"Favoritos"})}),e("p",{className:"nombre-especifico tlpRestaurar-texto",children:"Eliminar de mis favoritos"})]})]})]})})})}),t(xe,{show:Ke,onHide:ea,id:$a,centered:!0,children:[t(xe.Header,{children:[y=="actividad_economica"&&e("h4",{className:"modal-title",children:"Selecciona la(s) actividad(es) económica(s) de tu interés."}),y=="modalidad"&&e("h4",{className:"modal-title",children:"Selecciona la modalidad."}),y=="ubicacion"&&e("h4",{className:"modal-title",children:"Selecciona la ubicación."}),y=="modal_confirm_delete"&&t("h4",{className:"modal-title",children:["¿Deseas ",e("span",{className:"text_color_red",children:"eliminar"})," el/los proceso(s) de tus favoritos?"]}),y=="modal_seleccion_carpeta"&&e(f,{children:Y.length==0?e("h4",{className:"modal-title",children:"Aún no tienes carpetas creadas"}):e("h4",{className:"modal-title",children:"Selecciona carpeta(s) destino"})}),e("button",{type:"button","aria-label":"Close",className:"close icon-Cerrar-modal",onClick:ea})]}),t(xe.Body,{children:[y=="actividad_economica"&&e(Ve,{subcategorias:Ba,nameBuscador:"Busca por actividad económica o UNSPSC",onHandleSectores:Ae,tipo:"ActividadEconomica",checkeds:Va}),y=="modalidad"&&e(Ve,{subcategorias:Fa,nameBuscador:"Buscar Tipo de Compra",onHandleSectores:Ae,tipo:"TiposCompras",checkeds:Ua}),y=="ubicacion"&&e(Ve,{subcategorias:Oa,nameBuscador:"Buscar Localización",onHandleSectores:Ae,tipo:"Localizaciones",checkeds:Wa}),y=="modal_confirm_delete"&&t(f,{children:[e("div",{className:"descripcion_delete",children:e("p",{children:"Al aceptar esto el proceso se eliminará junto con el siguiente contenido:"})}),e("div",{className:"informacion_contratos",children:t("table",{className:"w-100",children:[t("thead",{className:"informacion_contratos--cabeceras",children:[e("th",{className:"columna_informacion",children:e("span",{children:"Información del proceso"})}),e("th",{className:"columna_icono",children:he?e("span",{children:"Favoritos"}):e("span",{children:"Carpeta"})})]}),e("tbody",{children:_.length==null?t("tr",{className:"informacion_contratos--listado",children:[e("td",{className:"informacion_contratos--contrato_info columna_informacion",children:t("div",{children:[e("i",{id:"iconFuente-8119752",className:"icono_fuente__list",style:{background:"rgb(0, 61, 201)"},children:"MP"}),t("div",{className:"informacion_contratos--contrato_nombre",children:[e("b",{children:_.entidad_contratante}),e("br",{}),e("span",{children:_.objeto})]})]})}),e("td",{className:"informacion_contratos--icono columna_icono",children:he?e("img",{src:"https://col.licitaciones.info/img/listado/quitar_favoritos.svg"}):t("span",{children:[t("span",{className:"icon-Mis-carpetas",style:{color:l==null?void 0:l.color},children:[e("span",{className:"path1"}),e("span",{className:"path2"})]}),l==null?void 0:l.nombre_carpeta]})})]}):e(f,{children:b.map((a,s)=>t("tr",{className:"informacion_contratos--listado borde",children:[e("td",{className:"informacion_contratos--contrato_info columna_informacion",children:t("div",{children:[e("div",{className:"checkbox informacion_contratos--contrato_check",children:e("input",{type:"checkbox",id:"checkboxPerfil0",className:"input_perfil_val",value:a.id,checked:!!te.includes(a.id),onChange:yt,name:"remove_favoritos"})}),e("i",{id:"iconFuente-8119752",className:"icono_fuente__list",style:{background:"rgb(0, 61, 201)"},children:"MP"}),t("div",{className:"informacion_contratos--contrato_nombre",children:[e("b",{children:a.entidad_contratante}),e("br",{}),e("span",{children:a.objeto})]})]})}),e("td",{className:"informacion_contratos--icono columna_icono",children:he?e("img",{src:"https://col.licitaciones.info/img/listado/quitar_favoritos.svg"}):t("span",{children:[t("span",{className:"icon-Mis-carpetas",style:{color:l==null?void 0:l.color},children:[e("span",{className:"path1"}),e("span",{className:"path2"})]}),l==null?void 0:l.nombre_carpeta]})})]}))})})]})})]}),y=="modal_seleccion_carpeta"&&e("div",{className:"contenedor_carpetas_seleccion",children:Y.length==0?t("div",{id:"mensajes-sin-carpetas",className:"container content_blank_intern",children:[e("img",{src:"/public/images/mensajes-personalizados/sin-carpetas-modal.svg",alt:"",className:"imagen-sin-carpetas"}),e("p",{children:"Añade tu primer carpeta"})]}):e("div",{className:"carpetas_list_seleccion",children:e("ul",{className:"row scroll_fit",children:Y.map(a=>t("li",{className:"align-items-center col-md-3 col-sm-4 col-xs-12 d-flex selected_carpeta",children:[e("span",{className:"body_checkbox",children:_.length==null?e(f,{children:_.carpetas_ids.includes(a.id)?t("div",{className:"checkbox",style:{margin:0+"px"},onClick:()=>Le(a.id,_.id),children:[e("i",{className:"align-items-center cr-icon d-flex fa fa-times justify-content-center quitar_carpeta"}),t("label",{children:[e("input",{type:"checkbox",name:"carpeta_mover",value:"22101"}),e("span",{className:"cr",children:e("i",{className:"cr-icon fa fa-check"})})]})]}):e("input",{type:"checkbox",id:"carpeta_mover",name:"carpeta_mover",className:"input_perfil_val",value:a.id,onClick:s=>oa(s,a.id)})}):e("input",{type:"checkbox",id:"carpeta_mover",name:"carpeta_mover",className:"input_perfil_val",value:a.id,onClick:s=>oa(s,a.id)})}),t("div",{className:"body_icono_carpeta",children:[t("span",{title:"Carpeta 1",className:"ico-carpeta icon-Mis-carpetas",style:{color:a.color},children:[e("span",{className:"path1"}),e("span",{className:"path2"})]}),e("span",{title:"Carpeta 1",className:"title_icono_carpeta",children:a.nombre_carpeta})]})]},`carpeta_${a.id}`))})})})]}),t(xe.Footer,{children:[y=="modal_confirm_delete"&&e(f,{children:he?e("button",{className:"btnRadius btn-action btn-new-danger",onClick:()=>Ya(_),children:"Eliminar"}):e("button",{className:"btnRadius btn-action btn-new-danger",onClick:()=>Le(l==null?void 0:l.id,_),children:"Eliminar"})}),y=="ubicacion"||y=="modalidad"||y=="actividad_economica"&&e("button",{type:"button",className:"btnRadius btn-new-green",children:"Seleccionar"}),y=="modal_seleccion_carpeta"&&t("div",{className:"actions-buttons-modal buttons-modal-carpetas",children:[e("button",{type:"button",className:"btn-new-green btnRadius text-center",onClick:tt,children:"Crear carpeta"}),e("button",{type:"button",className:"btn-new-blue btnRadius text-center disable_button",disabled:G.length==0,onClick:rt,children:"Guardar en"})]})]})]}),e(Pt,{showModal:at,handleCloseModal:st,carpeta:ot,other_page:!0,handleCarpetas:ct,globalLoading:nt}),e(ja,{id:"sidebar-notes",visible:pt,position:"right",onHide:()=>$e(!1),children:t("div",{className:"b-sidebar-body notes-content",children:[mt&&e("div",{id:"notasCarganos",className:"notasCargando",children:e("img",{src:"https://col.licitaciones.info/img/loading.gif",className:"loader-notas"})}),t("div",{className:"wrapper",children:[e("a",{className:"close-sidebar icon-Flujo",onClick:()=>$e(!1)}),e("div",{className:"notes-content__header",children:e("h4",{children:"Mis notas"})}),t("div",{className:`notes-content__create ${ge?"on-creating":""}`,onClick:()=>Q(!0),children:[t("div",{className:"notes-header",children:[ge&&e("div",{className:"notes-title",children:e("input",{ref:be,onClick:()=>Q(!0),placeholder:"Escribe un título aquí.",type:"text",className:"noteTitle","aria-required":"true","aria-invalid":"true"})}),t("div",{className:`notes-opts ${ge?"on-expand":""}`,children:[e("span",{id:"timeNota",className:"icon-Hora text-fecha",children:e("span",{className:"text-fecha__hora",children:Fe()})}),e("div",{className:"custom-tooltip red","data-tooltip":"Borrar contenido",children:e("a",{id:"tlpBorrarNota",className:"icon-Limpiar-click",onClick:_t})})]})]}),e("div",{className:"textarea-container",children:e("textarea",{ref:ve,onClick:()=>Q(!0),name:"note",id:"note",placeholder:"Crear una nota",className:"mt-2"})}),ge&&e("div",{className:"button-create-container",children:e("button",{className:"button-create btn-new-green btnRadius",onClick:xt,children:"Crear nota"})})]}),Pe.length>0||dt?t("div",{className:"notes-content__zone",children:[e("div",{className:"notes-content__zone-input-search",children:e("div",{className:"form-group",children:t("div",{className:"input-container",children:[e("input",{onClick:()=>Q(!1),onChange:a=>da(a.target.value),onKeyDown:ma,value:De,type:"text",placeholder:"Buscar nota"}),e("span",{onClick:a=>ma(a,!0),className:"icon-Cancelar",style:{display:De==""?"none":"unset"}}),e("span",{className:"icon-Buscar-click"})]})})}),e("div",{className:"notes-content__zone-list-notes",children:e($t,{onDragEnd:a=>{const{source:s,destination:n}=a;if(!n||s.index===n.index&&s.droppableId===n.droppableId)return;V(h=>ua(h,s.index,n.index));let i=ua(Pe,s.index,n.index);var r=document.querySelector('meta[name="csrf-token"]');axios.post("/cliente/notas/ordenar-notas",{notas:i},{Authorization:`Bearer ${r}`}).then(h=>{}).catch(h=>{console.log(h)})},children:e(Bt,{droppableId:"notas",children:a=>t("ul",{...a.droppableProps,ref:a.innerRef,className:"nota-container",children:[e("div",{children:Pe.map((s,n)=>e(Dt,{draggableId:`nota_${s.id}`,index:n,children:i=>t("li",{...i.draggableProps,ref:i.innerRef,...i.dragHandleProps,className:`note ${Ne==s.id?"on-edit":""}`,children:[Ne==s.id&&e("div",{className:"note-header-opts",children:t("div",{className:"controls",children:[e("a",{className:"icon-Limpiar-click",onClick:()=>bt()}),e("a",{className:"hover-icon icon-Eliminar",onClick:()=>pa(s.id)}),e("span",{id:"timeNota",className:"icon-Hora text-fecha",children:e("span",{className:"text-fecha__hora",children:Fe(s.created_at)})})]})}),t("div",{className:"note-data",children:[e("div",{className:"note-icon",children:e("img",{src:"https://col.licitaciones.info/img/notas/note_icon.svg",alt:"Nota icon"})}),e("div",{className:"note-description",onClick:()=>vt(s),children:Ne==s.id?t(f,{children:[e("input",{placeholder:"Agrega un título",type:"text",className:"onEditTitleNote","aria-required":"true","aria-invalid":"false",value:la,onChange:r=>ae(r.target.value)}),e("textarea",{placeholder:"Agrega una descripción",className:"onEditNote",style:{height:26+"px"},value:ra,onChange:r=>ee(r.target.value)})]}):t(f,{children:[t("div",{className:"notes-drag",children:[e("span",{className:"note-description__title",children:s.title}),e("div",{className:"notes-opts",children:e("span",{id:"timeNota",className:"icon-Hora text-fecha",children:e("span",{className:"text-fecha__hora",children:Fe(s.created_at)})})})]}),e("p",{className:"note-descrition__body",children:s.text})]})})]}),Ne==s.id?e("div",{className:"note-actions",children:t("div",{className:"manual-controls",children:[t("a",{className:"btn-new-green btnRadius",draggable:"false",href:"#!",onClick:()=>St(s.id),children:[e("i",{className:"icon-Check"}),e("span",{children:"Guardar"})]}),t("a",{href:"#!",className:"btn-new-danger btnRadius",onClick:()=>ft(),children:[e("i",{className:"icon-Cancelar"})," ",e("span",{children:"Descartar"})]})]})}):e("div",{className:"note-actions",children:e("div",{className:"direct-access-controls",children:e("a",{className:"hover-icon icon-Eliminar",onClick:()=>pa(s.id)})})})]})},s.id))}),a.placeholder,t("div",{className:"infinite-loading-container",children:[e("div",{className:"infinite-status-prompt",style:{color:"rgb(102, 102, 102)",fontSize:14+"px",padding:10+"px 0px",display:"none"},children:e("i",{"data-v-46b20d22":"",className:"loading-default"})}),e("div",{className:"infinite-status-prompt",children:e("div",{className:"infinite--no-data",children:"No hay más notas"})}),e("div",{className:"infinite-status-prompt",style:{display:"none"},children:e("span",{className:"infinite--no-data",children:"No hay más notas"})}),t("div",{className:"infinite-status-prompt",style:{color:"rgb(102, 102, 102)",fontSize:14+"px",padding:10+"px 0px",display:"none"},children:["Opps, something went wrong :(",e("br",{}),e("button",{className:"btn-try-infinite",children:"Retry"})]})]})]})})})})]}):e("div",{children:t("div",{className:"workspace text-center",children:[e("div",{className:"workspace__image",children:e("img",{src:"https://col.licitaciones.info/img/notas/workspace.png",alt:"Nota Workspace"})}),e("p",{className:"workspace__copy",children:"No has creado tu primera nota."})]})})]})]})}),e(Ft,{ref:L,position:"bottom-left"})]})};export{cs as default};
