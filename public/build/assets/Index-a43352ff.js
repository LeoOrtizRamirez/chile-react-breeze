import{j as a,a as e,u as O,r as h,F as D}from"./app-813108b1.js";import{A as H}from"./AuthenticatedLayout-57140c81.js";import{A as M}from"./MenuOpciones-b0626adb.js";import{$ as c,P as R}from"./jquery-0e8024d7.js";/* empty css              */import"./estilos-capa-autentificacion-36be70e9.js";import"./ApplicationLogoLici-8eeddfb7.js";import"./transition-8f8e6ecf.js";function G({type:i="submit",className:r="",processing:o,children:n,onClick:l}){return a("button",{style:{backgroundColor:"#57C700"},type:i,onClick:l,className:`boton items-center px-1 py-1 bg-white rounded-md font-semibold text-xs text-gray-500 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:#00a1c9 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150 ${o&&"opacity-25"} `+r,disabled:o,children:[n,e("i",{className:"bi bi-share text-gray-500 iconos-tamano-margen"})]})}function J({type:i="submit",className:r="",processing:o,children:n,onClick:l}){return a("button",{style:{backgroundColor:"#57C700"},type:i,onClick:l,className:`boton items-center px-1 py-1 bg-white rounded-md font-semibold text-xs text-gray-500 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:#00a1c9 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150 ${o&&"opacity-25"} `+r,disabled:o,children:[n,e("i",{className:"bi bi-folder-minus text-gray-500 iconos-tamano-margen"})]})}const K=i=>e("a",{href:i.url,target:"_blank",children:e("button",{style:{backgroundColor:"#57C700"},className:"boton items-center px-1 py-1 bg-white rounded-md font-semibold text-xs text-gray-500 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:#00a1c9 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150 ",children:e("i",{className:"bi bi-upload text-gray-500 iconos-tamano-margen"})})});function Q({type:i="submit",className:r="",processing:o,children:n,onClick:l}){return a("button",{style:{backgroundColor:"#57C700"},type:i,onClick:l,className:`boton items-center px-1 py-1 bg-white rounded-md font-semibold text-xs text-gray-500 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:#00a1c9 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150 ${o&&"opacity-25"} `+r,disabled:o,children:[n,e("i",{className:"bi bi-star text-gray-500 iconos-tamano-margen"})]})}function T({type:i="submit",className:r="",processing:o,children:n,onClick:l}){return a("button",{style:{backgroundColor:"#57C700"},type:i,onClick:l,className:`boton items-center px-1 py-1 bg-white rounded-md font-semibold text-xs text-gray-500 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:#00a1c9 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150 ${o&&"opacity-25"} `+r,disabled:o,children:[n,e("i",{className:"bi bi-filetype-pdf text-gray-500 iconos-tamano-margen"})]})}function X({type:i="submit",className:r="",processing:o,children:n,onClick:l}){return a("button",{style:{backgroundColor:"#57C700"},type:i,onClick:l,className:`boton items-center px-1 py-1 bg-white rounded-md font-semibold text-xs text-gray-500 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:#00a1c9 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150 ${o&&"opacity-25"} `+r,disabled:o,children:[n,e("i",{className:"bi bi-eye text-gray-500 iconos-tamano-margen"})]})}const be=({auth:i,contratos:r,totalContratos:o,pagina:n,numElementosPagina:l,totalElemetosPaginados:S})=>{const{data:Y,setData:Z,post:ee,get:y,processing:te,reset:ae,errors:re}=O({}),[E,se]=h.exports.useState(!0),[N,v]=h.exports.useState(0);c("th").click(function(){var t=c(this).parents("table").eq(0),s=t.find("tr:gt(0)").toArray().sort($(c(this).index()));this.asc=!this.asc,this.asc||(s=s.reverse());for(var d=0;d<s.length;d++)t.append(s[d]);I(c(this),this.asc)});function $(t){return function(s,d){var m=w(s,t),u=w(d,t);return c.isNumeric(m)&&c.isNumeric(u)?m-u:m.localeCompare(u)}}function w(t,s){return c(t).children("td").eq(s).html()}function I(t,s){c("th").each(function(d){c(this).removeClass("sorting"),c(this).removeClass("asc"),c(this).removeClass("desc")}),t.addClass("sorting"),s?t.addClass("asc"):t.addClass("desc")}var b=0,f=0;r.length>0&&(b=r[r.length-1].id,f=r[0].id);var W=b;const p=30,C=o,L=parseInt(C/p)+1;var g="";r.length>0&&(b=r[r.length-1].id,f=r[0].id);const U=window.location.search,_=new URLSearchParams(U).get("fecha_publicacion");_!=null&&(g="fecha_publicacion="+_);const A=()=>{n>=L||y("/contratos/"+W+"/"+n+"/next?"+g)},B=()=>{n!=1&&y("/contratos/"+f+"/"+n+"/prev?"+g)},j=t=>{const s=t.target.value,d=datos.filter(function(m){return m.entidad_contratante.toUpperCase().indexOf(s.toUpperCase())!==-1||m.objeto.toUpperCase().indexOf(s.toUpperCase())!==-1||m.ubicacion.toUpperCase().indexOf(s.toUpperCase())!==-1});setItems([...d].splice(0,p))},q=t=>{v(t.id)},z=()=>{v(0)},[k,F]=h.exports.useState(0),[P,V]=h.exports.useState(0);return h.exports.useEffect(()=>{var t=document.getElementById("div1"),s=document.getElementById("tabla"),d=document.getElementById("wrapper1"),m=document.getElementById("scroll-table");console.log("fake_contenido_tabla",t.offsetWidth),console.log("contenido_tabla",s.offsetWidth),console.log("fake_contenedor_tabla",d.offsetWidth),console.log("contenedor_tabla",m.offsetWidth),F(s.offsetWidth),V(m.offsetWidth);var u=document.getElementById("wrapper1"),x=document.querySelector("#scroll-table");u.onscroll=function(){x.scrollLeft=u.scrollLeft},x.onscroll=function(){u.scrollLeft=x.scrollLeft}}),a(H,{auth:i,children:[e("link",{rel:"shortcut icon",href:"#"}),a("div",{children:[a("div",{className:"contenedor-filtros",children:[a("div",{className:"",children:[e("input",{className:"buscador_rapido",id:"buscar",type:"text",placeholder:"Búsqueda rápida",onChange:j}),e("span",{className:"material-symbols-outlined posicion-color",children:"search"})]}),e("div",{className:"",children:a("button",{className:"buscador_avanzado mb-3",children:[e("span",{className:"material-symbols-outlined margen-color",children:"list"}),e("span",{className:"color-texto",children:"Búsqueda avanzada"})]})}),a("div",{className:"input-filtro-estado",children:[e("span",{className:"span-visualizar",children:"Visualizar:"}),a("select",{className:"input-visualizar",children:[e("option",{value:"",children:"todos"}),e("option",{value:"",children:"Vistos recientemente"}),e("option",{value:"",children:"No Leidos"})]})]}),e(R,{nextHandler:A,prevHandler:B,currentPage:S,itemsPagina:p,totalElementos:C,totalPaginas:l})]}),a("div",{className:"contenedor-contratos",children:[e("div",{className:"contenedor-opciones-usuarios",children:e(M,{})}),a("div",{className:"alto-tabla bg-white overflow-auto ",id:"scroll-table",children:[e("div",{id:"wrapper1",style:{width:P>0?P:0+"px"},children:e("div",{id:"div1",style:{width:k>0?k:0+"px"}})}),a("table",{id:"tabla",className:"w-full bg-white border tabla table-hover",children:[e("thead",{className:"cabecera-tabla",style:{backgroundColor:"#00a1c9"},children:a("tr",{className:"bg-paginador text-white uppercase leading-normal",children:[e("th",{children:"Acciones"}),e("th",{children:"Portal"}),e("th",{children:"Entidad"}),e("th",{children:"Objeto"}),e("th",{children:"Cuantía"}),e("th",{children:"Modalidad"}),e("th",{children:"Número"}),e("th",{children:"Estado"}),e("th",{children:"Publicada"}),e("th",{children:"Ubicación"}),e("th",{children:"Contratista"}),e("th",{children:"Actividad económica"})]})}),e("tbody",{children:r.map(t=>a("tr",{className:"tr",children:[e("td",{className:"border border-gray-200 text-left mw-90",children:a("div",{className:"iconos-horizontal width-columna-acciones",children:[a("div",{children:[e(T,{}),e(K,{url:t.link}),e(Q,{})]}),a("div",{className:"",children:[e(G,{}),e(J,{}),e(X,{})]})]})}),e("td",{className:"border border-gray-200 text-left margen-textos",children:e("span",{className:"circulo",children:t.fuente.alias_portal})}),e("td",{className:"border border-gray-200 text-left margen-textos",children:e("span",{className:"data-text width-columna-menor",children:t.entidad_contratante})}),a("td",{className:"border border-gray-200 text-left margen-textos mw-200",children:[E&&e(D,{children:N!=t.id&&a("span",{className:"data-text",children:[t.objeto.substr(0,40),"..."," ",e("a",{className:"text-primary",onClick:()=>q(t),children:"Ver más"})]})}),N==t.id&&e("div",{className:"showmore",children:a("span",{className:"data-text",children:[t.objeto,e("a",{className:"text-primary",onClick:()=>z(),children:"Ver menos"})]})})]}),e("td",{className:"border border-gray-200 text-left margen-textos width-columna-menor",children:t.valor>0?"$"+t.valor.toLocaleString("ch-CH"):t.valor_texto}),e("td",{className:"border border-gray-200 text-left margen-textos mw-200",children:e("span",{className:"data-text ",children:t.modalidad})}),e("td",{className:"border border-gray-200 text-left margen-textos ",children:e("span",{className:"data-text ",children:t.codigo_proceso})}),e("td",{className:"border border-gray-200 text-left color-estado margen-textos width-columna-menor",children:e("span",{className:"data-text ",children:t.estado_proceso})}),e("td",{className:"border border-gray-200 text-left margen-textos",children:e("span",{className:"data-text width-columna-menor",children:t.fecha_publicacion})}),e("td",{className:"border border-gray-200 text-left margen-textos width-columna-menor",children:e("span",{className:"data-text ",children:t.ubicacion})}),e("td",{className:"border border-gray-200 text-left margen-textos mw-200",children:e("span",{className:"data-text ",children:t.contratista})}),e("td",{className:"border border-gray-200 text-left margen-textos",children:e("span",{className:"data-text ",children:t.actividad_economica})})]},t.id))})]})]})]})]})]})};export{be as default};
