import{a as e,j as t,r as n,F as Q}from"./app-0d6b3333.js";import{A as K}from"./AuthenticatedLayout-32f69214.js";import{$ as i}from"./Loader-afd61ede.js";/* empty css              *//* empty css                      *//* empty css              */import"./transition-2a85b662.js";import"./Nav-43b4168e.js";import"./useWindow-04a87982.js";import"./mergeOptionsWithPopperConfig-4e193306.js";import"./module-14843ab2.js";import"./Button-7bc3e9ed.js";/* empty css                 */const V=l=>e("div",{className:"",children:t("div",{className:"flex items-center justify-between sm:px-6","data-v-01f1da49":"",children:[t("div",{className:"flex flex-1 justify-between sm:hidden",children:[e("a",{href:"#",className:"relative inline-flex items-center rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Previous"}),e("a",{href:"#",className:"relative ml-3 inline-flex items-center rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Next"})]}),t("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e("div",{children:t("nav",{className:"isolate inline-flex -space-x-px rounded-md","aria-label":"Pagination",children:[e("a",{onClick:l.prevHandler,className:"mx-1 boton-paginador relative z-10 inline-flex items-center px-2 py-2 text-2xl text-gray-500 hover:bg-gray-300 focus:z-90 md:inline-flex",href:"#",children:"«"}),e("a",{onClick:l.nextHandler,className:"mx-1 boton-paginador relative z-10 inline-flex items-center px-2 py-2 text-2xl text-gray-500 hover:bg-gray-300 focus:z-90 md:inline-flex",href:"#",children:"»"})]})}),e("div",{children:t("p",{className:"text-xs text-gray-500 my-0 mx-3 font-black",children:[e("span",{className:"font-black numero-elementos-pagina",children:l.currentPage}),t("span",{className:"guion-paginador",children:[" ","-"," "]}),e("span",{className:"font-black",id:"TotalPaginasPaginador",children:l.totalPaginas})," ","de"," ",e("span",{className:"font-black ",children:l.totalElementos})," "]})})]})]})}),W=()=>e("div",{className:"cargando_tables",children:t("div",{className:"col",children:[e("img",{src:"https://col.licitaciones.info/img/loading.gif",className:"img-col"}),e("p",{children:"Cargando"})]})}),$=l=>{const{handleSearch:o}=l,c=()=>{fetch("/usuarios/"+l.usuario.uuid+"/delete").then(m=>m.json()).then(m=>{m=="Success"?(console.log("Sucess"),o(),location.reload()):console.log("Error")})};return e("div",{className:"modal fade show",id:"deleteModal"+l.usuario.id,tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"},children:e("div",{className:"modal-dialog",children:t("div",{className:"modal-content",children:[t("div",{className:"modal-header",id:"modal-header-delete-user",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Eliminar Usuario"}),e("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:o})]}),e("div",{className:"modal-body",children:e("div",{className:"row",children:e("div",{className:"col-12",children:t("h6",{className:"color-negro",children:["¿Quieres eliminar el usuario ",l.usuario.nombre_completo," ?"]})})})}),t("div",{className:"modal-footer",children:[e("button",{onClick:c,className:"btn btn-danger",children:"Eliminar"}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:o,children:"Cerrar"})]})]})})})};const ie=({auth:l,usuarios:o})=>{const[c,m]=n.exports.useState(o.data);i("th").click(function(){var a=i(this).parents("table").eq(0),r=a.find("tr:gt(0)").toArray().sort(_(i(this).index()));this.asc=!this.asc,this.asc||(r=r.reverse());for(var s=0;s<r.length;s++)a.append(r[s]);C(i(this),this.asc)});function _(a){return function(r,s){var d=g(r,a),h=g(s,a);return i.isNumeric(d)&&i.isNumeric(h)?d-h:d.localeCompare(h)}}function g(a,r){return i(a).children("td").eq(r).html()}function C(a,r){i("th").each(function(s){i(this).removeClass("sorting"),i(this).removeClass("asc"),i(this).removeClass("desc")}),a.addClass("sorting"),r?a.addClass("asc"):a.addClass("desc")}const[b,x]=n.exports.useState(!1),[P,j]=n.exports.useState(0),k=a=>{x(!0),j(a.id)},E=a=>{x(!1)},[S,w]=n.exports.useState(o.to),[q,D]=n.exports.useState(o.from),[U,I]=n.exports.useState(o.total),[z,M]=n.exports.useState(o.next_page_url),[L,A]=n.exports.useState(o.prev_page_url),[F,u]=n.exports.useState(""),[T,R]=n.exports.useState(""),f=()=>{var a=document.getElementById("form_busqueda_rapida");let r=new FormData(a),s={};return r.forEach(function(h,O){s[O]=h}),B(s)},B=a=>{const r=[];for(let s in a)r.push(encodeURIComponent(s)+"="+encodeURIComponent(a[s]));return r.join("&")},y=a=>{if(a==null)return;const r=f();fetch(a+"&"+r).then(s=>s.json()).then(s=>{N(s)})},p=n.exports.useRef(0);n.exports.useEffect(()=>{function a(r){if(console.log("entro"),r.key==="Enter"){r.preventDefault();const s=f();v(!0),fetch("/usuarios/?"+s).then(d=>d.json()).then(d=>{N(d),v(!1)})}}return p.current!=0&&p.current.addEventListener("keypress",a),()=>{p.current.removeEventListener("keypress",a)}},[c]);const N=a=>{m(a.data),w(a.to),D(a.from),I(a.total),M(a.next_page_url),A(a.prev_page_url)};n.exports.useEffect(()=>{const a=window.location.search,r=new URLSearchParams(a),s=r.get("fecha_publicacion");s!=null&&R(s);const d=r.get("buscador_rapido");d!=null&&u(d)},[]);const[H,v]=n.exports.useState(!1);return t(K,{auth:l,className:"testindexusers",children:[e("link",{rel:"shortcut icon",href:"#"}),e("div",{children:e("div",{className:"contenedor-usuarios",children:H?e(W,{}):e(Q,{children:t("div",{className:"contenedor-informacion-usuarios bg-white",children:[t("div",{className:"usuarios",children:[t("div",{className:"contenedor-botones",children:[t("div",{className:"",children:[t("form",{method:"get",name:"form_busqueda_rapida",id:"form_busqueda_rapida",children:[e("input",{ref:p,id:"buscador_rapido",className:"buscador_rapido",name:"buscador_rapido",type:"text",value:F,placeholder:"Búsqueda rápida",onChange:a=>u(a.target.value)}),e("input",{name:"fecha_publicacion",type:"hidden",value:T}),e("input",{name:"type",type:"hidden",value:"fetch"})]}),e("span",{className:"material-symbols-outlined posicion-lupa-color",children:"search"})]}),e("a",{className:"autorenew",href:"javascript:location.reload()",children:e("span",{className:"material-symbols-outlined actualizar-color",children:"autorenew"})}),e("a",{className:"add_circle",href:route("usuarios.create"),children:e("span",{className:"material-symbols-outlined material-symbols-outlined-color",children:"add_circle"})})]}),e("div",{className:"margen-titulo",children:"Usuarios"}),e("div",{})]}),t("div",{className:"tabla-ubicacion-usuarios",children:[t("table",{id:"tabla",className:"",children:[e("thead",{className:"cabecera-tabla ",style:{backgroundColor:"#00a1c9"},children:t("tr",{className:"bg-paginador text-white uppercase leading-normal",children:[e("th",{style:{padding:"0px 35px"},children:"Acciones"}),e("th",{style:{padding:"0px 10px"},children:"Documento"}),e("th",{style:{padding:"0px 35px"},children:"Nombre"}),e("th",{style:{padding:"0px 10px"},children:"País"}),e("th",{style:{padding:"0px 10px"},children:"Ciudad"}),e("th",{style:{padding:"0px 35px"},children:"Dirección"}),e("th",{style:{padding:"0px 35px"},children:"indicativo"}),e("th",{style:{padding:"0px 35px"},children:"Celular"}),e("th",{style:{padding:"0px 35px"},children:"teléfono fijo"}),e("th",{style:{padding:"0px 35px"},children:"Email"}),e("th",{style:{padding:"0px 0px"},children:"Plan"}),e("th",{style:{padding:"0px 35px"},children:"Creacion"}),e("th",{style:{padding:"0px 35px"},children:"Final Plan"}),e("th",{style:{padding:"0px 10px"},children:"Estado"}),e("th",{style:{padding:"0px 35px"},children:"Como se entero de Licitaciones"}),e("th",{style:{padding:"0px 35px"},children:"NIT"}),e("th",{style:{padding:"0px 35px"},children:"Empresa"}),e("th",{style:{padding:"0px 35px"},children:"País empresa"}),e("th",{style:{padding:"0px 35px"},children:"Ciudad empresa"}),e("th",{style:{padding:"0px 35px"},children:"Dirección empresa"}),e("th",{style:{padding:"0px 10px"},children:"Indicativo empresa"}),e("th",{style:{padding:"0px 10px"},children:"Celular empresa"}),e("th",{style:{padding:"0px 35px"},children:"Telefono fijo empresa"}),e("th",{style:{padding:"0px 35px"},children:"Email empresa"}),e("th",{style:{padding:"0px 35px"},children:"Actividad economica"})]})}),e("tbody",{children:c.map(a=>t("tr",{className:"tr-users",children:[e("td",{className:"border border-gray-200 px-4 ",children:t("div",{className:"iconos-horizontal",children:[t("div",{className:"estilos-boton-eliminar",children:[e("button",{type:"button",className:"btn btn-danger btn-sm usuarios","data-bs-toggle":"modal","data-bs-target":"#deleteModal"+a.id,onClick:()=>{k(a)},children:e("span",{className:"material-symbols-outlined text-white iconos-tamano-margen align-middle",children:"delete"})}),b&&P==a.id&&e($,{usuario:a,openDeleteModal:b,handleSearch:E})]}),e("div",{className:"estilos-boton-editar",children:e("a",{href:route("usuarios.update",a.uuid)+"/edit",children:e("span",{className:"material-symbols-outlined",children:"edit"})})}),e("div",{className:"estilos-boton-email",children:e("span",{className:"material-symbols-outlined",children:"mail"})})]})}),e("td",{className:"border border-gray-200 margen-textos",children:a.identificacion}),e("td",{className:"border border-gray-200 margen-textos",children:a.nombre_completo}),e("td",{className:"border border-gray-200 margen-textos",children:a.pais}),e("td",{className:"border border-gray-200 margen-textos",children:a.ciudad}),e("td",{className:"border border-gray-200 margen-textos",children:a.direccion}),e("td",{className:"border border-gray-200 margen-textos",children:a.indicativo}),e("td",{className:"border border-gray-200 margen-textos",children:a.celular}),e("td",{className:"border border-gray-200 margen-textos",children:a.telefono_fijo}),e("td",{className:"border border-gray-200 margen-textos",children:a.email}),e("td",{className:"border border-gray-200 margen-textos",children:a.idplan}),e("td",{className:"border border-gray-200 margen-textos",children:a.created_at.substr(0,10)}),e("td",{className:"border border-gray-200 margen-textos",children:a.fecha_vencimiento}),e("td",{className:"border border-gray-200 margen-textos",children:a.estado}),e("td",{className:"border border-gray-200 margen-textos",children:a.origen}),e("td",{className:"border border-gray-200 margen-textos",children:a.nit_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.nombre_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.pais_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.ciudad_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.direccion_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.indicativo_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.celular_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.telefono_fijo_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.email_facturacion_empresa}),e("td",{className:"border border-gray-200 margen-textos",children:a.descripcion_actividad_economica})]},a.id))})]}),c.length<=0&&e("div",{id:"mensajes-personalizado-busqueda",className:"container-fluid content_blank_interno",children:t("div",{className:"row justify-content-center align-items-center",children:[e("div",{className:"col-md-4 col-sm-4 offset-md-1 offset-sm-1",children:e("img",{src:"https://col.licitaciones.info/img/mensajes-personalisados/sin-resultados-busqueda.png",alt:"",className:"img-fluid mensaje-imagen"})}),e("div",{className:"col-md-5 col-sm-5 offset-sm-1 offset-md-1",children:t("div",{className:"estructura-mensaje-personalizado",children:[t("h4",{className:"text-center titulo-personalizado",children:[e("b",{className:"text-rojo",children:"No se encontró"})," ","el resultado."]}),t("div",{className:"position-relative",children:[e("span",{className:"icon-Bombillo mensaje-icono"}),e("p",{className:"mensaje-personalizado d-block text-left",children:"Prueba cambiando tus opciones de búsqueda e intentalo nuevamente."})]})]})})]})})]}),e("div",{children:e(V,{nextHandler:()=>y(z),prevHandler:()=>y(L),currentPage:q,totalPaginas:S,totalElementos:U})})]})})})})]})};export{ie as default};
