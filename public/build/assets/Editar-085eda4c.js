import{r as o,u as j,j as a,a as e,H as y}from"./app-6c1fe679.js";import{A as k}from"./AuthenticatedLayout-004d5530.js";import{T as q,a as D}from"./estilos-toast-cbe9fbab.js";import"./font-unicolor-d76b3b6f.js";import{F as s}from"./Form-ebd9041b.js";/* empty css                      */import"./ApplicationLogo-6a1f1b0f.js";import"./ApplicationLogoLici-211cd28f.js";import"./transition-0549e6ee.js";import"./createWithBsPrefix-7b5e87a3.js";import"./useTimeout-185fb6af.js";import"./ElementChildren-2b426705.js";const K=({auth:u,tiposcompras:h,solo_sectores:f,ae_actual:i})=>{const[b,c]=o.exports.useState(!1),[g,N]=o.exports.useState(""),{data:n,setData:l,patch:v,processing:G,reset:x,errors:m}=j({id:i.id,nombre:i.nombre,sector:i.parent.id_padre_sub_categoria,segmento:i.id_padre_sub_categoria,tipo_categoria:5,new_id:i.id}),[S,T]=o.exports.useState(!1),_=t=>{const r=t.currentTarget;T(!0),r.checkValidity()===!1?(t.preventDefault(),t.stopPropagation()):(t.preventDefault(),v(route("updateTiposCompras",n.id),{onSuccess:()=>x()}))},[w,R]=o.exports.useState(h);o.exports.useState(f);const[C,E]=o.exports.useState([]),F=t=>{l("sector",t);const r=new RegExp(t,"i"),d=w.filter(function(p){if(r.test(p.id_padre_sub_categoria))return p});E(d)};return o.exports.useEffect(()=>{if(Object.entries(m).length>0){var t=Object.values(m),r="";t.map(d=>r+=d),N(r),c(!0)}},[m]),o.exports.useEffect(()=>{F(n.sector)},[]),a(k,{auth:u,children:[e(y,{title:"Tipos Compras"}),e(q,{position:"bottom-start",children:e(D,{onClose:()=>c(!1),show:b,delay:3e5,autohide:!0,children:a("div",{className:"notification-toast error",children:[e("span",{className:"toast-icon toast-danger",children:e("span",{className:"icon-error"})}),e("p",{className:"title",children:g}),e("button",{type:"button",className:"icon-close m-auto",onClick:()=>c(!1)})]})})}),e("div",{className:"contenedor-planes",children:a("div",{className:"bg-white overflow-auto w-full text-center margen-superior",children:[e("h2",{className:"name_section_app",children:"EdiciÃ³n tipo compra"}),e("div",{className:"container mt-4",children:a(s,{id:"form",name:"form",noValidate:!0,validated:S,onSubmit:_,children:[a(s.Group,{className:"row mt-3",children:[e("div",{className:"col-12 col-sm-4",children:e(s.Label,{htmlFor:"",for:"validationInput",className:"bloque__registro-form-title-label",children:"Tipo entidad"})}),e("div",{className:"col-12 col-sm-8",children:e(s.Select,{name:"segmento",className:"segmento",id:"",onChange:t=>l("segmento",t.target.value),value:n.segmento,children:C.map(t=>e("option",{value:t.id,children:t.nombre},t.id))})})]}),a(s.Group,{className:"row mt-3",children:[e("div",{className:"col-12 col-sm-4",children:e(s.Label,{htmlFor:"",for:"validationInput",className:"bloque__registro-form-title-label",children:"Tipo de compra"})}),e("div",{className:"col-12 col-sm-8",children:e(s.Control,{type:"text",placeholder:"Tipo de compra",value:n.nombre,onChange:t=>l("nombre",t.target.value),className:"actividad-economica",required:!0})})]}),a(s.Group,{className:"mt-4",children:[e("button",{type:"submit",className:"btn btnRadius btn-new-blue mr-2",children:"Editar"}),e("a",{href:route("indexTiposCompras"),className:"btn btnRadius btn-new-red ml-2",children:"Cancelar"})]})]})})]})})]})};export{K as default};
