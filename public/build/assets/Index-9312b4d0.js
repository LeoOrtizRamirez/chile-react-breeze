import{u as v,a as e,F as f,j as a,L as g,r as p,H as D}from"./app-1b105a0c.js";import{A as M}from"./AuthenticatedLayout-39a0ccaf.js";import{A as w}from"./MenuOpciones-4386f785.js";import{I as i}from"./InputError-0e8d7d6e.js";/* empty css                      */import"./ApplicationLogo-5be2c99d.js";import"./ApplicationLogoLici-59638191.js";import"./transition-c4894cb2.js";/* empty css                                     */const _=l=>{console.log(l);const{handleSearch:r}=l,{data:n,setData:c,patch:m,processing:b,reset:u,errors:o}=v({id:l.planData.id,nombre:l.planData.nombre,valor:l.planData.valor,dias:l.planData.dias,tiempo:l.planData.tiempo,periodo:l.planData.periodo,valor_cuenta_adicional:l.planData.valor_cuenta_adicional,descripcion:l.planData.descripcion,estado:l.planData.estado}),s=d=>{c({...n,[d.target.name]:d.target.value})},h=d=>{d.preventDefault(),m(route("planes.update",n.id),{onSuccess:()=>r()})};return e(f,{children:l.openUpdateModal&&e("div",{className:"modal fade show",id:"updateModal"+n.id,tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"},children:e("div",{className:"modal-dialog",children:e("div",{className:"modal-content",children:a("form",{className:"form",onSubmit:h,children:[a("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Editar Plan"}),e("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:r})]}),a("div",{className:"modal-body",children:[a("div",{className:"row",children:[e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Nombre Plan:"}),e("input",{type:"text",id:"nombre",name:"nombre",value:n.nombre,className:"form-control",placeholder:"Nombre",onChange:s}),e(i,{message:o.nombre,className:"text-left mb-2"})]})}),e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Valor:"}),e("input",{type:"number",id:"valor",name:"valor",value:n.valor,className:"form-control",placeholder:"Valor",onChange:s}),e(i,{message:o.valor,className:"text-left mb-2"})]})})]}),a("div",{className:"row",children:[e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Días:"}),e("input",{type:"number",id:"dias",name:"dias",value:n.dias,className:"form-control",placeholder:"Días",onChange:s}),e(i,{message:o.dias,className:"text-left mb-2"})]})}),e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Valor cuenta adicional:"}),e("input",{type:"number",id:"valor_cuenta_adicional",name:"valor_cuenta_adicional",value:n.valor_cuenta_adicional,className:"form-control",placeholder:"Valor",onChange:s}),e(i,{message:o.valor_cuenta_adicional,className:"text-left mb-2"})]})})]}),a("div",{className:"d-flex mb-1",children:[e("p",{className:"text-left",children:"Tiempo de plan:"}),e("p",{className:"text-left px-2",children:"Días:"}),e("input",{type:"radio",name:"periodo",value:"dias",onChange:s,checked:n.periodo==="dias"}),e("p",{className:"text-left px-2",children:"Meses:"}),e("input",{type:"radio",name:"periodo",value:"meses",onChange:s,checked:n.periodo==="meses"}),e(i,{message:o.periodo,className:"text-left mb-2"})]}),e("div",{className:"row",children:a("div",{className:"form-group",children:[e("input",{type:"number",id:"tiempo",name:"tiempo",value:n.tiempo,className:"form-control",onChange:s}),e(i,{message:o.tiempo,className:"text-left mb-2"})]})}),e("div",{className:"row",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Descripción:"}),e("input",{type:"textarea",id:"descripcion",name:"descripcion",value:n.descripcion,className:"form-control",placeholder:"Descripción",onChange:s})]})})]}),a("div",{className:"modal-footer",children:[e("input",{type:"submit",value:"Actualizar",className:"btn btn-info"}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:r,children:"Cerrar"})]})]})})})})})},k=l=>{console.log(l.openCreateModal),console.log(l);const{handleSearch:r}=l,{data:n,setData:c,post:m,processing:b,reset:u,errors:o}=v({nombre:null,valor:null,dias:null,tiempo:null,descripcion:null,periodo:null,valor_cuenta_adicional:null,estado:null}),s=d=>{c({...n,[d.target.name]:d.target.value})},h=d=>{d.preventDefault(),m(route("planes.store"),{onSuccess:()=>r()})};return e(f,{children:l.openCreateModal&&e("div",{className:"modal fade show",id:"modalCreate",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"},children:e("div",{className:"modal-dialog",children:e("div",{className:"modal-content",children:a("form",{className:"form",onSubmit:h,children:[a("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Crear Plan"}),e("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:r})]}),a("div",{className:"modal-body",children:[a("div",{className:"row",children:[e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Nombre Plan:"}),e("input",{type:"text",id:"nombre",name:"nombre",className:"form-control",placeholder:"Nombre",onChange:s})]})}),e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Valor:"}),e("input",{type:"number",id:"valor",name:"valor",className:"form-control",placeholder:"Valor",onChange:s}),e(i,{message:o.valor,className:"text-left mb-2"})]})})]}),a("div",{className:"row",children:[e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Días:"}),e("input",{type:"number",id:"dias",name:"dias",className:"form-control",placeholder:"Días",onChange:s}),e(i,{message:o.dias,className:"text-left mb-2"})]})}),e("div",{className:"col-6",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Valor cuenta adicional:"}),e("input",{type:"number",id:"valor_cuenta_adicional",name:"valor_cuenta_adicional",className:"form-control",placeholder:"Valor",onChange:s}),e(i,{message:o.valor_cuenta_adicional,className:"text-left mb-2"})]})})]}),a("div",{className:"d-flex mb-1",children:[e("p",{className:"text-left",children:"Tiempo de plan:"}),e("p",{className:"text-left px-2",children:"Días:"}),e("input",{type:"radio",name:"periodo",value:"dias",onChange:s}),e("p",{className:"text-left px-2",children:"Meses:"}),e("input",{type:"radio",name:"periodo",value:"meses",onChange:s}),e(i,{message:o.periodo,className:"text-left mb-2"})]}),e("div",{className:"row",children:a("div",{className:"form-group",children:[e("input",{type:"number",id:"tiempo",name:"tiempo",className:"form-control",onChange:s}),e(i,{message:o.tiempo,className:"text-left mb-2"})]})}),e("div",{className:"row",children:a("div",{className:"form-group",children:[e("p",{className:"text-left",children:"Descripción:"}),e("input",{type:"textarea",id:"descripcion",name:"descripcion",className:"form-control",placeholder:"Descripción",onChange:s})]})})]}),a("div",{className:"modal-footer",children:[e("input",{type:"submit",value:"Crear",className:"btn btn-info"}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:r,children:"Cerrar"})]})]})})})})})},I=l=>{const{handleSearch:r}=l;return e("div",{className:"modal fade show",id:"deleteModal"+l.planData.id,tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"},children:e("div",{className:"modal-dialog",children:a("div",{className:"modal-content",children:[a("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Eliminar Plan"}),e("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:r})]}),e("div",{className:"modal-body",children:e("div",{className:"row",children:e("div",{className:"col-12",children:a("h6",{children:["¿Quieres eliminar el plan ",l.planData.nombre," ?"]})})})}),a("div",{className:"modal-footer",children:[e(g,{href:route("planes.destroy",l.planData),method:"delete",as:"button",className:"btn btn-danger",children:"Eliminar"}),e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:r,children:"Cerrar"})]})]})})})},F=({auth:l,planes:r})=>{v({planes:r});const[n,c]=p.exports.useState(!1),[m,b]=p.exports.useState(!1),[u,o]=p.exports.useState(0),[s,h]=p.exports.useState(!1),[d,x]=p.exports.useState(0),y=t=>{b(!0),o(t.id)},C=t=>{h(!0),x(t.id)},N=t=>{c(!1),b(!1),h(!1)};return a(M,{auth:l,children:[e(D,{title:"Planes"}),a("div",{className:"contenedor-planes",children:[e("div",{className:"posicion-opciones-planes",children:e(w,{})}),a("div",{className:"bg-white overflow-auto w-full text-center margen-superior",children:[e("h2",{className:"name_section_app",children:"Planes"}),e("div",{className:"planes",children:a("div",{className:"contenedor-botones",children:[e("a",{className:"autorenew",href:"javascript:location.reload()",children:e("span",{className:"material-symbols-outlined",children:"autorenew"})}),e("a",{className:"add_circle",onClick:()=>{c(!0)},children:e("span",{className:"material-symbols-outlined material-symbols-outlined-color cursor-pointer",children:"add_circle"})}),n&&e(k,{openCreateModal:n,handleSearch:N})]})}),a("table",{className:"w-full bg-white border tabla ",children:[e("thead",{className:"cabecera-tabla ",style:{backgroundColor:"#00a1c9"},children:a("tr",{className:"bg-paginador text-white uppercase leading-normal",children:[e("th",{children:"IdPlan"}),e("th",{children:"Nombre"}),e("th",{children:"Días"}),e("th",{children:"Tiempo"}),e("th",{children:"Valor"}),e("th",{children:"Descripción"}),e("th",{children:"Estado"}),e("th",{children:"Activar/Inactivar"}),e("th",{children:"Editar"}),e("th",{children:"Eliminar"})]})}),e("tbody",{children:r.map(t=>a("tr",{children:[e("td",{className:"border border-gray-200 margen-textos",children:t.id}),e("td",{className:"border border-gray-200 margen-textos",children:t.nombre}),e("td",{className:"border border-gray-200 margen-textos",children:t.dias}),e("td",{className:"border border-gray-200 margen-textos",children:t.tiempo}),e("td",{className:"border border-gray-200 margen-textos",children:t.valor}),e("td",{className:"border border-gray-200 margen-textos",children:t.descripcion}),e("td",{className:"border border-gray-200 margen-textos",children:t.estado}),e("td",{className:"border border-gray-200 margen-textos",children:t.estado=="Activo"?e(g,{href:route("planes.status",t.id),className:"btn btn-danger btn-sm",children:e("span",{className:"text-white iconos-tamano-margen align-middle",children:"cancel"})}):e(g,{href:route("planes.status",t.id),className:"btn btn-success btn-sm",children:e("span",{className:"text-white material-symbols-outlined iconos-tamano-margen align-middle",children:"check"})})}),a("td",{className:"border border-gray-200 margen-textos",children:[e("button",{type:"button",className:"btn btn-info btn-sm","data-bs-toggle":"modal","data-bs-target":"#updateModal"+t.id,onClick:()=>{y(t)},children:e("span",{className:"text-white material-symbols-outlined iconos-tamano-margen align-middle",children:"edit"})}),m&&u==t.id&&e(_,{planData:t,openUpdateModal:m,handleSearch:N})]}),a("td",{className:"border border-gray-200 margen-textos",children:[e("button",{type:"button",className:"btn btn-danger btn-sm","data-bs-toggle":"modal","data-bs-target":"#deleteModal"+t.id,onClick:()=>{C(t)},children:e("span",{className:"text-white material-symbols-outlined iconos-tamano-margen align-middle",children:"delete"})}),s&&d==t.id&&e(I,{planData:t,openDeleteModal:s,handleSearch:N})]})]},t.id))})]})]})]})]})};export{F as default};
