import{r as n,j as t,a as e,F as N,d as oa}from"./app-323e22de.js";import{A as nt,C as ot,N as it,D as ia}from"./AuthenticatedLayout-19d36205.js";/* empty css                 */import{u as ca,a as ct,b as ke,c as lt,O as Ee,Z as V,P as U,d as rt,D as Ce,e as la,C as dt,l as mt,R as pt,F as S,f as ut,g as y,B as te}from"./primeicons-362579be.js";import{A as we}from"./ActividadEconomica-bfc97fc3.js";import{L as ht}from"./Loader-efbf3d16.js";import{M as se,e as ft}from"./Nav-e044688a.js";import"./InputError-c3b9ac92.js";import"./hasClass-93657e98.js";import"./mergeOptionsWithPopperConfig-696f569c.js";import"./module-1ddf8cd9.js";import"./Button-615edd22.js";/* empty css                      */function Ie(){return Ie=Object.assign?Object.assign.bind():function(r){for(var l=1;l<arguments.length;l++){var s=arguments[l];for(var v in s)Object.prototype.hasOwnProperty.call(s,v)&&(r[v]=s[v])}return r},Ie.apply(this,arguments)}function Nt(r){if(Array.isArray(r))return r}function vt(r,l){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var v,T,b,E,j=[],d=!0,f=!1;try{if(b=(s=s.call(r)).next,l===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(v=b.call(s)).done)&&(j.push(v.value),j.length!==l);d=!0);}catch(A){f=!0,T=A}finally{try{if(!d&&s.return!=null&&(E=s.return(),Object(E)!==E))return}finally{if(f)throw T}}return j}}function ra(r,l){(l==null||l>r.length)&&(l=r.length);for(var s=0,v=new Array(l);s<l;s++)v[s]=r[s];return v}function gt(r,l){if(r){if(typeof r=="string")return ra(r,l);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ra(r,l)}}function bt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ne(r,l){return Nt(r)||vt(r,l)||gt(r,l)||bt()}var oe={defaultProps:{__TYPE:"Sidebar",id:null,style:null,className:null,maskStyle:null,maskClassName:null,visible:!1,position:"left",fullScreen:!1,blockScroll:!1,baseZIndex:0,dismissable:!0,showCloseIcon:!0,ariaCloseLabel:null,closeOnEscape:!0,icons:null,modal:!0,appendTo:null,transitionOptions:null,onShow:null,onHide:null,children:void 0},getProps:function(l){return Ee.getMergedProps(l,oe.defaultProps)},getOtherProps:function(l){return Ee.getDiffProps(l,oe.defaultProps)}},da=n.exports.forwardRef(function(r,l){var s=oe.getProps(r),v=n.exports.useState(!1),T=ne(v,2),b=T[0],E=T[1],j=n.exports.useState(!1),d=ne(j,2),f=d[0],A=d[1],_=n.exports.useRef(null),x=n.exports.useRef(null),M=n.exports.useRef(null),P=ca({type:"keydown",listener:function(m){m.which===27&&V.get(x.current)===V.getCurrent("modal",U.autoZIndex)&&q(m)}}),B=ne(P,2),k=B[0],Z=B[1],G=ca({type:"click",listener:function(m){m.which!==2&&le(m)&&q(m)}}),ie=ne(G,2),J=ie[0],ce=ie[1],le=function(m){return _&&_.current&&!_.current.contains(m.target)},Te=function(){var m=["left","right","top","bottom"],I=m.find(function($){return $===s.position});return I?"p-sidebar-".concat(I):""},re=function(){var m=document.activeElement,I=m&&_&&_.current.contains(m);!I&&s.showCloseIcon&&M.current.focus()},je=function(m){s.dismissable&&s.modal&&x.current===m.target&&q(m)},q=function(m){s.onHide(),m.preventDefault()},K=function(){s.onShow&&s.onShow(),re(),de()},X=function(){s.modal&&Ce.addClass(x.current,"p-component-overlay-leave")},R=function(){V.clear(x.current),E(!1),z()},de=function(){s.closeOnEscape&&k(),s.dismissable&&!s.modal&&J(),s.blockScroll&&Ce.addClass(document.body,"p-overflow-hidden")},z=function(){Z(),ce(),s.blockScroll&&Ce.removeClass(document.body,"p-overflow-hidden")};n.exports.useImperativeHandle(l,function(){return{props:s,getElement:function(){return _.current},gteMask:function(){return x.current},getCloseIcon:function(){return M.current}}}),ct(function(){s.visible&&E(!0)}),ke(function(){s.visible&&!b&&E(!0),s.visible!==f&&b&&A(s.visible)}),ke(function(){b&&(V.set("modal",x.current,U.autoZIndex,s.baseZIndex||U.zIndex.modal),A(!0))},[b]),ke(function(){f&&(ce(),s.dismissable&&!s.modal&&J())},[s.dismissable,s.modal,f]),lt(function(){z(),x.current&&V.clear(x.current)});var me=function(){if(s.showCloseIcon){var m=s.ariaCloseLabel||mt("close");return n.exports.createElement("button",{type:"button",ref:M,className:"p-sidebar-close p-sidebar-icon p-link",onClick:q,"aria-label":m},n.exports.createElement("span",{className:"p-sidebar-close-icon pi pi-times","aria-hidden":"true"}),n.exports.createElement(pt,null))}return null},pe=function(){return s.icons?Ee.getJSXElement(s.icons,s):null},ue=function(){var m=oe.getOtherProps(s),I=la("p-sidebar p-component",s.className,{"p-input-filled":U.inputStyle==="filled","p-ripple-disabled":U.ripple===!1}),$=la("p-sidebar-mask",{"p-component-overlay p-component-overlay-enter":s.modal,"p-sidebar-mask-scrollblocker":s.blockScroll,"p-sidebar-visible":b,"p-sidebar-full":s.fullScreen},Te(),s.maskClassName),fe=me(),Ae=pe(),Ne={enter:s.fullScreen?150:300,exit:s.fullScreen?150:300};return n.exports.createElement("div",{ref:x,style:s.maskStyle,className:$,onMouseDown:je},n.exports.createElement(dt,{nodeRef:_,classNames:"p-sidebar",in:f,timeout:Ne,options:s.transitionOptions,unmountOnExit:!0,onEntered:K,onExiting:X,onExited:R},n.exports.createElement("div",Ie({ref:_,id:s.id,className:I,style:s.style},m,{role:"complementary"}),n.exports.createElement("div",{className:"p-sidebar-header"},Ae,fe),n.exports.createElement("div",{className:"p-sidebar-content"},s.children))))},he=function(){var m=ue();return n.exports.createElement(rt,{element:m,appendTo:s.appendTo,visible:!0})};return b&&he()});da.displayName="Sidebar";const Pt=({auth:r,contratos:l,nombre_carpeta:s,total_carpetas:v,carpetas:T,grupos:b,filter_notas:E,filter_total_notas:j})=>{const[d,f]=n.exports.useState(l),[A,_]=n.exports.useState(d.last_page+1),[x,M]=n.exports.useState(0);n.exports.useEffect(()=>{f(l)},[l]);const P=a=>{X(!0);let o=a+B();axios.get(o).then(i=>{f(i.data),M(i.data.current_page-1),_(d.last_page+1),X(!1)}).catch(i=>{console.log(i)})},B=()=>{var Ge,Je,Ke,Xe,Ye,Qe,ea,aa,ta,sa,na;let a=(Ge=document.querySelector('input[name="rapida"]'))==null?void 0:Ge.value,o=(Je=document.querySelector('input[name="fuente.alias_portal"]'))==null?void 0:Je.value,i=(Ke=document.querySelector('input[name="entidad_contratante"]'))==null?void 0:Ke.value,c=(Xe=document.querySelector('input[name="objeto"]'))==null?void 0:Xe.value,p=(Ye=document.querySelector('input[name="valor"]'))==null?void 0:Ye.value,g=(Qe=document.querySelector('input[name="modalidad"]'))==null?void 0:Qe.value,Qa=(ea=document.querySelector('input[name="codigo_proceso"]'))==null?void 0:ea.value,et=(aa=document.querySelector('input[name="estado_proceso"]'))==null?void 0:aa.value,at=(ta=document.querySelector('input[name="fecha_publicacion"]'))==null?void 0:ta.value,tt=(sa=document.querySelector('input[name="ubicacion"]'))==null?void 0:sa.value,st=(na=document.querySelector('input[name="actividad_economica"]'))==null?void 0:na.value;return`&type=fetch&rapida=${a}&portal=${o}&entidad_contratante=${i}&objeto=${c}&valor=${p}&modalidad=${g}&codigo_proceso=${Qa}&estado_proceso=${et}&fecha_publicacion=${at}&ubicacion=${tt}&actividad_economica=${st}`};n.exports.useState(""),n.exports.useState(l.data),n.exports.useState(!0);const[k,Z]=n.exports.useState([]),G=(a,o)=>{switch(o){case"add":k.includes(a)||Z([...k,a]);break;case"delete":k.includes(a)&&Z(k.filter(i=>i!=a));break}};n.exports.useEffect(()=>{d.data.forEach(a=>{let o=document.querySelector(`.row-${a.id}`);o&&(o.style.display="contents")}),k.forEach(a=>{let o=document.querySelector(`.row-${a}`);o&&(o.style.display="none")})},[k]);const[ie,J]=n.exports.useState(0),[ce,le]=n.exports.useState(0);n.exports.useEffect(()=>{document.getElementById("div1");var a=document.getElementById("tabla");document.getElementById("wrapper1");var o=document.getElementById("scroll-table");a&&J(a.offsetWidth),o&&le(o.offsetWidth);var i=document.getElementById("wrapper1"),c=document.querySelector("#scroll-table");i&&(i.onscroll=function(){c.scrollLeft=i.scrollLeft}),c&&(c.onscroll=function(){i.scrollLeft=c.scrollLeft})}),n.exports.useState(l.to),n.exports.useState(l.from),n.exports.useState(l.total),n.exports.useState(l.next_page_url),n.exports.useState(l.prev_page_url);const[Te,re]=n.exports.useState(""),[je,q]=n.exports.useState("");n.exports.useState(10),l.data.length,n.exports.useRef(0),n.exports.useEffect(()=>{const a=window.location.search,o=new URLSearchParams(a),i=o.get("fecha_publicacion");i!=null&&q(i);const c=o.get("buscador_rapido");c!=null&&re(c)},[]);const[K,X]=n.exports.useState(!1);n.exports.useState(!1);const R=n.exports.useRef(null),de=()=>{R.current&&R.current.reset()};n.exports.useState(l.data);const[z,me]=n.exports.useState({global:{value:null,matchMode:S.CONTAINS},"fuente.alias_portal":{value:null,matchMode:S.STARTS_WITH},entidad_contratante:{value:null,matchMode:S.STARTS_WITH},objeto:{value:null,matchMode:S.STARTS_WITH},valor:{value:null,matchMode:S.STARTS_WITH},modalidad:{value:null,matchMode:S.STARTS_WITH},codigo_proceso:{value:null,matchMode:S.STARTS_WITH},estado_proceso:{value:null,matchMode:S.STARTS_WITH},fecha_publicacion:{value:null,matchMode:S.STARTS_WITH},ubicacion:{value:null,matchMode:S.STARTS_WITH},actividad_economica:{value:null,matchMode:S.STARTS_WITH}});n.exports.useState(["No","Si"]);const pe=a=>e(N,{children:e("div",{className:"VueTables__selecciones-filter-wrapper",children:e("span",{children:e("div",{className:"selecciones-nuevo-diseno",children:t("button",{id:"limpiar",type:"button",className:"icon-Limpiar-click borrador-grid",onClick:de,children:[e("span",{className:"path1"}),e("span",{className:"path2"}),e("span",{className:"path3"}),e("span",{className:"path4"}),e("span",{className:"path5"}),e("span",{className:"path6"}),e("span",{className:"path7"}),e("span",{className:"path8"})]})})})})}),[ue,he]=n.exports.useState(null);n.exports.useRef(null);const u=()=>{let a={};d.data.forEach(o=>{a[`${o.id}`]=!0}),he(a)};n.exports.useEffect(()=>{console.log("cambio"),u()},[d]);const m=a=>t(N,{children:[k.includes(a.id)&&t("div",{className:"proceso__detail",children:[e("div",{className:"proceso__detail_infoentidad",children:t("div",{className:"proceso__detail_infoentidad_principal",children:[e("span",{className:"body_checkbox",children:e("input",{type:"checkbox",id:"checkboxPerfil0",className:"input_perfil_val",value:"256058"})}),e("span",{className:"icon_tipo_secop",children:e("i",{id:"iconFuente-8125395",className:"icono_fuente__list",style:{background:"rgb(0, 61, 201)"},children:"MP"})}),e("span",{className:"proceso_detail_infoentidad__entidad",children:a.entidad_contratante}),e("i",{children:"No leído"})]})}),e("div",{className:"proceso__detail_infofull position-relative",children:t("div",{className:"row",children:[t("div",{className:"col-6",children:[t("div",{className:"d-flex text-left",children:[e("strong",{children:"Objeto:"}),e("p",{children:a.objeto})]}),t("div",{className:"d-flex valor_range--estandar text-left",children:[e("strong",{children:"Cuantía:"}),t("p",{children:[e("i",{className:"valor_range__moneda",children:"$"}),a.valor]})]}),t("div",{className:"d-flex text-left",children:[e("strong",{children:"Modalidad:"}),e("p",{children:a.modalidad})]}),t("div",{className:"d-flex text-left",children:[e("strong",{children:"Número:"}),e("p",{children:a.codigo_proceso})]})]}),t("div",{className:"col-6",children:[t("div",{className:"d-flex text-left",children:[e("strong",{children:"Estado:"}),e("p",{className:"estado-contrato",style:{color:"rgb(115, 201, 20) !important"},children:a.estado_proceso})]}),t("div",{className:"d-flex text-left",children:[e("strong",{children:"F. publicación:"}),e("p",{children:a.fecha_publicacion})]}),t("div",{className:"d-flex text-left",children:[e("strong",{children:"Ubicación:"}),t("p",{children:[e("i",{className:"icon-Ubicacin-grid"}),a.ubicacion]})]}),t("div",{className:"d-flex text-left",children:[t("strong",{children:["Actividad",e("br",{}),"económica:"]}),e("p",{children:"Litografía e Impresión a gran formato, -Impresiones, fotocopiado y alquiler de fotocopiadoras,-Encuadernación, empastado y argollado"})]}),t("div",{className:"d-flex text-left",children:[e("strong",{children:"Contratista(s):"}),e("div",{className:"columna_contratista_expand__sin-ganador",children:e("p",{children:"Proceso aun sin adjudicar"})})]})]})]})})]}),t("span",{className:"div_iconos_functions_grid",children:[t("a",{className:"btnVerDocumentos d-inline-flex align-items-center",children:[e("i",{className:"icon-Ver-documentos"}),e("span",{children:"Ver documentos"}),e("i",{className:"icon-Siguiente1"})]}),t("div",{className:"iconos_functions_grid iconos_acciones_contratos",children:[a.favorito?e("div",{className:"custom-tooltip yellow","data-tooltip":"Eliminar De Favoritos",children:e("button",{id:`favorito_${a.id}`,type:"button",className:"icon-Favorito-click btn_contratos_favoritos favorito_active",onClick:()=>Y("modal_confirm_delete",a)})}):e("div",{className:"custom-tooltip yellow","data-tooltip":"Agregar A Favoritos",children:e("button",{id:`favorito_${a.id}`,type:"button",className:"icon-Favorito-click btn_contratos_favoritos",onClick:()=>Ta(a.id)})}),e("div",{className:"custom-tooltip green","data-tooltip":"Agregar A Seguimientos",children:t("button",{type:"button",className:"btn_contratos_seguimientos icon-Seguimientos",children:[e("span",{className:"path1"}),e("span",{className:"path2"}),e("span",{className:"path3"})]})}),e("div",{className:"custom-tooltip blue","data-tooltip":"Agregar A Carpeta(S)",onClick:()=>Y("modal_seleccion_carpeta",a),children:t("button",{type:"button",className:"icon-Mis-carpetas btn_contratos_carpeta d-inline-flex",children:[e("span",{className:"path1"}),e("span",{className:"path2"})]})}),e("div",{className:"custom-tooltip dark","data-tooltip":"Ir A La Fuente",children:e("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"icon-Ir-a-la-fuente-click btn_contratos_external"})}),e("div",{className:"custom-tooltip purple","data-tooltip":"Compartir",children:e("button",{className:"icon-Compartir-click btn_contratos_compartir"})}),a.notas?e("div",{className:"custom-tooltip yellow with-notes","data-tooltip":"Ver Notas",children:e("button",{className:"btn_contratos_notas custom-tooltip yellow",children:e("img",{src:"/public/images/notas/nota.svg",alt:"Nota",onClick:()=>We(a)})})}):e("div",{className:"custom-tooltip gray","data-tooltip":"Crear Primer Nota",children:e("button",{className:"btn_contratos_notas custom-tooltip gray",children:e("img",{src:"/public/images/notas/nota.svg",alt:"Nota",className:"without-notes",onClick:()=>We(a)})})})]}),k.includes(a.id)&&t("button",{type:"button",className:"btnRadius ver-menos-detalle",onClick:()=>G(a.id,"delete"),children:["Ver menos",e("i",{className:"icon-Desplegar-click"})]}),a.carpetas.length>0&&t(N,{children:[e("span",{className:"separator_docs"}),e("span",{className:"tags_carpetas",children:t("div",{className:"scroll_carpetas",children:[a.carpetas.map((o,i)=>e(N,{children:i<=1&&t("div",{className:"d-inline-flex",children:[t("span",{className:"icon-Mis-carpetas mr-2",style:{color:o.color},children:[e("span",{className:"path1"}),e("span",{className:"path2"})]}),e("p",{className:"p-0 m-0 d-inline-block",children:o.nombre_carpeta}),e("button",{type:"button",className:"icon-Cancelar",onClick:()=>He(o.id,a.id)})]})})),a.carpetas.length>2&&t("div",{className:"ver_mas_carpetas",onClick:()=>Y("modal_seleccion_carpeta",a),children:[t("span",{className:"icon-Mis-carpetas mr-2",style:{color:"rgb(0, 61, 201)"},children:[e("span",{className:"path1"}),e("span",{className:"path2"})]}),"Ver más carpetas ",e("button",{type:"button",className:"icon-Siguiente1"})]})]})})]})]})]}),[I,$]=n.exports.useState(null),[fe,Ae]=n.exports.useState(!0),Ne=a=>e(N,{children:e("span",{className:"icon_tipo_secop",children:e("i",{className:"icono_fuente__list",children:a.fuente.alias_portal})})}),ma=a=>e("div",{className:"content_ver_mas_grid entidad_grid",children:e("p",{className:"span_grid",children:a.entidad_contratante})}),pa=a=>e("div",{className:"content_ver_mas_grid objeto_grid",children:e("p",{className:"objeto_grid_p",children:t("span",{className:"objeto_grid_span",children:[e("span",{className:"tt-uppercase",children:a.objeto}),t("a",{className:"vermas text-right mr-0 mt-0",onClick:()=>G(a.id,"add"),children:["Ver más",e("i",{className:"icon-Desplegar"})]})]})})}),ua=a=>t("span",{className:"valor_range--estandar d-flex justify-content-center",children:[e("i",{className:"valor_range__moneda sin-min-width",children:"$"}),a.valor]}),ha=a=>e("span",{style:{fontFamily:"Nexa-bold",color:"rgb(115, 201, 20)"},children:a.estado_proceso}),fa=a=>e("div",{className:"content_ver_mas_grid ubicaciones_grid",children:e("p",{className:"scroll_fit",children:e("span",{children:e("span",{children:a.ubicacion})})})}),C=a=>e(N,{children:a.field=="modalidad"||a.field=="ubicacion"||a.field=="actividad_economica"?e("input",{type:"text",className:"p-inputtext p-component p-column-filter",placeholder:"Seleccionar",name:a.field,onClick:()=>Y(a.field),onInput:o=>{R.current.filter(o.target.value,a.field,"contains")}}):e("input",{type:"text",className:"p-inputtext p-component p-column-filter",placeholder:"Buscar",name:a.field,onChange:o=>Le(o,a.field),onInput:o=>{R.current.filter(o.target.value,a.field,"contains")}})}),[Re,F]=n.exports.useState(!1),[h,Me]=n.exports.useState(""),[Na,Pe]=n.exports.useState(""),[w,qe]=n.exports.useState([]),Be=()=>F(!1),Y=(a,o=null)=>{a=="actividad_economica"||a=="modalidad"||a=="ubicacion"?(Pe("modal_actividades"),Me(a)):(Pe(a),Me(a),qe(o)),F(!0)},[va,ga]=n.exports.useState([]),[ba,_a]=n.exports.useState([]),[xa,Sa]=n.exports.useState([]),[ya,ze]=n.exports.useState([]),[ka,$e]=n.exports.useState([]),[Ca,Fe]=n.exports.useState([]);n.exports.useEffect(()=>{async function a(){try{const p=await(await fetch("/actividades-economicas/json")).json();ga(p)}catch(c){console.log("Solicitud fallida",c)}}a();async function o(){try{const p=await(await fetch("/localizacion/json")).json();Sa(p)}catch(c){console.log("Solicitud fallida",c)}}o();async function i(){try{const p=await(await fetch("/tiposcompras/json")).json();_a(p)}catch(c){console.log("Solicitud fallida",c)}}i()},[]);const ve=(a,o)=>{switch(o){case"ActividadEconomica":a.length>0?ze(a):ze([]);break;case"Localizaciones":a.length>0?$e(a):$e([]);break;case"TiposCompras":a.length>0?Fe(a):Fe([]);break}},[wa,Ea]=n.exports.useState(""),Le=(a,o)=>{if(o=="global"){const c=a.target.value;let p={...z};p[o].value=c,me(p),Ea(c)}let i=`${d.path}?page=${d.current_page}`+B();axios.get(i).then(c=>{console.log("response",c.data),f(c.data),M(c.data.current_page-1),_(d.last_page+1)}).catch(c=>{console.log(c)})},Ia=(()=>e("div",{className:"m-0 w-100",children:t("div",{className:"text-left reloadTable row",style:{margin:0+"px"},children:[e("div",{id:"top-botones",className:"mb-2 mb-lg-0",children:t("div",{className:"franja-busqueda-rapida",children:[t("div",{className:"input-busqueda-rapida",children:[e("input",{value:wa,onChange:a=>Le(a,"global"),type:"text",name:"rapida",placeholder:"Búsqueda rápida",className:"form-control"}),e("button",{type:"button",className:"submit-busqueda-rapida icon-Buscar-click"})]}),e("div",{className:"select-busqueda-rapida ml-4",children:e(ft,{id:"dropdown-filtro-nuevos",children:t(it,{id:"dropdown-filtro",className:"nav-link pl-0",title:e(N,{children:t("span",{className:"ver-filtros",children:[e("span",{className:"mr-2 visualizar",children:"Visualizar:"}),t("span",{className:"text-ver-filtros d-inline-flex pl-3 bg-white",children:[e("span",{className:"align-self-center d-inline-flex iconOrdenamientoGrid",children:e("span",{className:"icon-Todos"})}),e("span",{className:"text-ver-filtros__text text-left",children:"Todos"})]})]})}),children:[t(ia.Item,{href:"#",className:"dropdown-item",children:[e("span",{className:"icon-options-order",children:e("span",{className:"icon-Vistos-recientemente"})}),e("span",{className:"text-options-order",children:"Vistos recientemente"})]}),t(ia.Item,{href:"/cliente/contratos?filtrar_nuevos=4",className:"dropdown-item",children:[e("span",{className:"icon-options-order",children:e("span",{className:"icon-Contratos"})}),e("span",{className:"text-options-order",children:"Notas creadas"})]})]})})}),s=="Favoritos"&&e("div",{className:"d-inline-block seccion-estas-en",children:t("p",{className:"my-1",children:["Estás en: ",e("span",{className:"mx-1 icon-Favorito-click"}),e("span",{className:"texto-estas-en",children:"mis favoritos"})]})}),s=="Papelera"&&e("div",{className:"d-inline-block seccion-estas-en",children:t("p",{className:"my-1",children:["Estás en: ",e("span",{className:"mx-1 icon-Eliminar"}),e("span",{className:"texto-estas-en",children:s})]})}),s!="Favoritos"&&s!="Papelera"&&s!="ALL"&&e("div",{className:"d-inline-block seccion-estas-en",children:t("p",{className:"my-1",children:["Estás en:",e("img",{src:"https://col.licitaciones.info/img/listado/carpeta_azul_claro.svg",width:"14",alt:"icon-carpeta",className:"mx-1"}),e("span",{className:"texto-estas-en",children:s})]})})]})}),e("div",{className:"col-12 col-lg-7 col-xl-6 p-0 paginacion_grid text-right text-lg-right ",children:e("span",{className:"paginator",children:s!="ALL"?t("span",{className:"p-paginator-current",children:[v," registros"]}):e(N,{children:E?t("span",{className:"p-paginator-current",children:[j," registros"]}):t(N,{children:[e(te,{disabled:d.prev_page_url===null,icon:"pi pi-angle-double-left",onClick:()=>P(d.first_page_url)}),e(te,{disabled:d.prev_page_url===null,icon:"pi pi-angle-left",onClick:()=>P(d.prev_page_url)}),e(te,{disabled:d.next_page_url===null,icon:"pi pi-angle-right",onClick:()=>P(d.next_page_url)}),e(te,{disabled:d.next_page_url===null,icon:"pi pi-angle-double-right",onClick:()=>P(d.last_page_url)}),e("span",{className:"p-paginator-current",children:`${d.from} - ${d.to} de ${d.total}`})]})})})})]})}))(),Ta=a=>{var o=document.querySelector('meta[name="csrf-token"]');axios.post("/cliente/contratos/add_favorito",{contrato:a},{Authorization:`Bearer ${o}`}).then(i=>{f(c=>{console.log("prevTabla",c),console.log("id",a);const p=c.data.findIndex(g=>g.id===a);if(console.log("index",p),p===-1)return{...c};{let g=[...c.data];return g[p]={...g[p],favorito:!0},{...c,data:g}}})}).catch(i=>{console.log(i)})},ja=a=>{var o=document.querySelector('meta[name="csrf-token"]');axios.post("/cliente/contratos/delete_favorito",{contrato:a},{Authorization:`Bearer ${o}`}).then(i=>{f(c=>{console.log("prevTabla",c),console.log("id",a);const p=c.data.findIndex(g=>g.id===a);if(console.log("index",p),p===-1)return{...c};{let g=[...c.data];return g[p]={...g[p],favorito:!1},{...c,data:g}}}),F(!1)}).catch(i=>{console.log(i)})},Aa=()=>t(N,{children:[s===""&&e("p",{children:"No se encontraron registros"}),s==="Papelera"&&e("div",{id:"mensajes-personalizado-papelera",className:"container-fluid content_blank_interno",children:t("div",{className:"row  align-items-end",children:[e("div",{className:"col-md-4 offset-md-1",children:e("img",{src:"https://col.licitaciones.info/img/mensajes-personalisados/sin-papelera.png",alt:"",className:"img-fluid"})}),e("div",{className:"col-md-6 offset-md-1",children:t("div",{className:"estructura-mensaje-personalisado",children:[t("h4",{className:"text-center titulo-personalizado",children:["¡Nada por aqui! no tienes procesos de contratacion en ",e("b",{className:"text-rojo",children:"papelera"})]}),t("div",{className:"position-relative",children:[e("span",{className:"icon-Bombillo mensaje-icono "}),e("p",{className:"mensaje-personalizado text-justify d-block",children:"Recuerda que aquí se ponen los procesos que has eliminado, si deseas puedes restaurarlos desde esta sección."})]})," ",e("a",{href:"/cliente/carpeta/administrar-carpetas",className:"btn-new-gray btnRadius d-inline-block text-center btn-volver-carpetas",children:"Regresar a carpetas"})]})})]})}),s=="Favoritos"&&e("div",{id:"mensajes-personalizado-favoritos",className:"container-fluid content_blank_interno",children:t("div",{className:"row  align-items-end",children:[e("div",{className:"col-md-3 offset-md-2",children:e("img",{src:"https://col.licitaciones.info/img/mensajes-personalisados/sin-favoritos.png",alt:"",className:"img-fluid"})}),e("div",{className:"col-md-6 offset-md-1",children:t("div",{className:"estructura-mensaje-personalisado",children:[t("h4",{className:"text-center titulo-personalizado",children:["No has agregado procesos de contratación ",e("b",{className:"text-naranja",children:"favoritos"})," a esta sección"]}),t("div",{className:"position-relative",children:[e("span",{className:"icon-Bombillo  mensaje-icono "}),t("p",{className:"mensaje-personalizado d-block text-justify",children:["Recuerda que aquí puedes almacenar los procesos que más te interesen. Sólo debes ir al icono de favoritos  ",e("span",{className:"icon-Favorito-click",id:"icono-mensaje"}),"  que se encuentra en la parte inferior de cada proceso y listo, podrás visualisarlos y administrarlos en esta seccion."]})]})," ",e("a",{href:"/carpeta/administrar-carpetas",className:"btn btn-new-gray btnRadius mx-auto d-block btn-sin-perfil-crear",children:"Regresar a carpetas"})]})})]})}),s!="Papelera"&&s!="Favoritos"&&s!=""&&e("div",{id:"mensajes-personalizado-sin-contratos-carpeta",className:"container content_blank_interno",children:t("div",{className:"row  align-items-center",children:[e("div",{className:"col-md-4 text-center",children:e("img",{src:"https://col.licitaciones.info/img/mensajes-personalisados/sin-procesos.png",alt:"",className:"img-fluid"})}),t("div",{className:"col-md-6 offset-md-1 margen-mensaje-personalizado",children:[t("h4",{className:"text-center titulo-personalizado",children:["No tienes procesos de contratación en esta ",e("b",{className:"texto-personalisado-azul",children:"carpeta"}),"."]}),e("p",{className:"mensaje-personalizado text-justify",children:"Recuerda que aquí se pueden agregar lo procesos de contratacíon de forma organizada y en un solo lugar."}),e("a",{href:"/cliente/carpeta/administrar-carpetas",className:"btn btn-new-gray btnRadius mx-auto d-block btn-volver-carpetas",children:"Regresar a carpetas"})]})]})})]}),[Q,Ra]=n.exports.useState(T),[Ma,ge]=n.exports.useState(!1),Pa=()=>{ge(!0)},qa=()=>{za(null),ge(!1)},[Ba,za]=n.exports.useState([]),$a=a=>{Ra(a),ge(!1)},[L,be]=n.exports.useState([]),Fa=(a,o)=>{if(a.target.checked)L.includes(o)||be([...L,o]);else{const i=L.filter(c=>c!==o);be(i)}},La=()=>{var a=document.querySelector('meta[name="csrf-token"]');oa.Inertia.post("/cliente/carpeta/add-contrato",{contrato:w.id,carpetas:L},{headers:{Authorization:`Bearer ${a.content}`},onSuccess:o=>{F(!1)}})},He=(a,o)=>{var i=document.querySelector('meta[name="csrf-token"]');oa.Inertia.post("/cliente/carpeta/delete-contrato",{contrato:o,carpeta:a},{headers:{Authorization:`Bearer ${i.content}`},onSuccess:c=>{F(!1)}})};n.exports.useEffect(()=>{be([])},[Re]);const Ha=a=>`row-${a.id}`,[Oe,H]=n.exports.useState([]),[Oa,De]=n.exports.useState(!1),[Da,_e]=n.exports.useState(!1),[ee,O]=n.exports.useState(!1),[ae,xe]=n.exports.useState(null),[Wa,Va]=n.exports.useState(!1),Ua=()=>{xe(!1),D(""),W("")},We=a=>{H([]),qe(a),De(!0);var o=document.querySelector('meta[name="csrf-token"]');axios.get("/cliente/notas/get-notes?idContrato="+a.id,{headers:{Authorization:`Bearer ${o}`}}).then(i=>{console.log("Request successful:",i.data),H(i.data),De(!1)}).catch(i=>{console.error("Request failed:",i.response.status,i.response.data)}),_e(!0)},Se=n.exports.useRef(),ye=n.exports.useRef(),[Ve,D]=n.exports.useState(""),[Ue,W]=n.exports.useState(""),[Za,Ga]=n.exports.useState({}),Ja=a=>{if(xe(a.id),JSON.stringify(a)===JSON.stringify(Za)){if(Wa)return}else Ga(a),D(a.text),W(a.title)},Ka=()=>{Va(!0),D(""),W("")},Xa=()=>{var a=document.querySelector('meta[name="csrf-token"]');axios.post("/cliente/notas/admin-note",{idContrato:w.id,pinned:0,text:Se.current.value,title:ye.current.value,zona:s},{Authorization:`Bearer ${a}`}).then(o=>{H(o.data),O(!1),Se.current.value="",ye.current.value="",f(i=>{const c=i.data.findIndex(p=>p.id===w.id);if(c===-1)return i;{let p=i.data[c];return p.notas=!0,i.data[c]=p,i}})}).catch(o=>{console.log(o)})},Ya=a=>{var o=document.querySelector('meta[name="csrf-token"]');axios.post("/cliente/notas/actualizar",{id:a,idContrato:w.id,pinned:0,text:Ve,title:Ue,zona:s},{Authorization:`Bearer ${o}`}).then(i=>{H(i.data),xe(!1),D(""),W("")}).catch(i=>{console.log(i)})},Ze=a=>{var o=document.querySelector('meta[name="csrf-token"]');axios.post("/cliente/notas/eliminar",{idContrato:w.id,id:a},{Authorization:`Bearer ${o}`}).then(i=>{H(i.data)}).catch(i=>{console.log(i)})};return t(nt,{auth:r,page:"contratos",carpetas:Q,grupos:b,children:[e("div",{className:"content_not_blank_interno",children:t("div",{id:"bodycontenido",className:"col contratos_row px-0",children:[e(ht,{loading:K}),t(ut,{id:"datatableContratos",ref:R,value:d.data,rows:A,dataKey:"id",filters:z,filterDisplay:"row",loading:K,globalFilterFields:["fuente.alias_portal","entidad_contratante","objeto","valor","modalidad","codigo_proceso","estado_proceso","fecha_publicacion","ubicacion","actividad_economica"],emptyMessage:Aa(),expandedRows:ue,rowExpansionTemplate:m,header:Ia,selectionMode:fe?null:"checkbox",selection:I,onSelectionChange:a=>$(a.value),first:x*A,rowClassName:Ha,children:[e(y,{selectionMode:"multiple",className:"columna_seleccion columna_pequena",filter:!0,filterElement:pe}),e(y,{field:"fuente.alias_portal",header:"Portal",filter:!0,filterPlaceholder:"Todos",className:"rounded_left columna_tipo_secop",body:Ne,filterElement:C}),e(y,{field:"entidad_contratante",header:"Entidad",filter:!0,filterPlaceholder:"Buscar",className:"columna_entidad columna_120",body:ma,filterElement:C}),e(y,{field:"objeto",header:"Obejto",filter:!0,filterPlaceholder:"Buscar",className:"objeto_columna",body:pa,filterElement:C}),e(y,{field:"valor",header:"Cuantía",filter:!0,filterPlaceholder:"Buscar",className:"rangedropdown columna_120 columna_cuantia",body:ua,filterElement:C}),e(y,{field:"modalidad",header:"Modalidad",filter:!0,filterPlaceholder:"Seleccionar",className:"columna_100 columna_modalidad",filterElement:C}),e(y,{field:"codigo_proceso",header:"Número",filter:!0,filterPlaceholder:"Buscar",className:"columna_numero",filterElement:C}),e(y,{field:"estado_proceso",header:"Estado",filter:!0,filterPlaceholder:"Buscar",className:"columna_estado",body:ha,filterElement:C}),e(y,{field:"fecha_publicacion",header:"Publicada",filter:!0,filterPlaceholder:"Buscar",className:"columna_fecha",filterElement:C}),e(y,{field:"ubicacion",header:"Ubicación",filter:!0,filterPlaceholder:"Seleccionar",className:"columna_ubicacion",body:fa,filterElement:C}),e(y,{field:"actividad_economica",header:"Actividad Económica",filter:!0,filterElement:C})]})]})}),t(se,{show:Re,onHide:Be,id:Na,centered:!0,children:[t(se.Header,{children:[h=="actividad_economica"&&e("h4",{className:"modal-title",children:"Selecciona la(s) actividad(es) económica(s) de tu interés."}),h=="modalidad"&&e("h4",{className:"modal-title",children:"Selecciona la modalidad."}),h=="ubicacion"&&e("h4",{className:"modal-title",children:"Selecciona la ubicación."}),h=="modal_confirm_delete"&&t("h4",{className:"modal-title",children:["¿Deseas ",e("span",{className:"text_color_red",children:"eliminar"})," el/los proceso(s) de tus favoritos?"]}),h=="modal_seleccion_carpeta"&&e(N,{children:Q.length==0?e("h4",{className:"modal-title",children:"Aún no tienes carpetas creadas"}):e("h4",{className:"modal-title",children:"Selecciona carpeta(s) destino"})}),e("button",{type:"button","aria-label":"Close",className:"close icon-Cerrar-modal",onClick:Be})]}),t(se.Body,{children:[h=="actividad_economica"&&e(we,{subcategorias:va,nameBuscador:"Busca por actividad económica o UNSPSC",onHandleSectores:ve,tipo:"ActividadEconomica",checkeds:ya}),h=="modalidad"&&e(we,{subcategorias:ba,nameBuscador:"Buscar Tipo de Compra",onHandleSectores:ve,tipo:"TiposCompras",checkeds:Ca}),h=="ubicacion"&&e(we,{subcategorias:xa,nameBuscador:"Buscar Localización",onHandleSectores:ve,tipo:"Localizaciones",checkeds:ka}),h=="modal_confirm_delete"&&t(N,{children:[e("div",{className:"descripcion_delete",children:e("p",{children:"Al aceptar esto el proceso se eliminará junto con el siguiente contenido:"})}),e("div",{className:"informacion_contratos",children:t("table",{className:"w-100",children:[t("thead",{className:"informacion_contratos--cabeceras",children:[e("th",{className:"columna_informacion",children:e("span",{children:"Información del proceso"})}),e("th",{className:"columna_icono",children:e("span",{children:"Favoritos"})})]}),e("tbody",{children:t("tr",{className:"informacion_contratos--listado",children:[e("td",{className:"informacion_contratos--contrato_info columna_informacion",children:t("div",{children:[e("i",{id:"iconFuente-8119752",className:"icono_fuente__list",style:{background:"rgb(0, 61, 201)"},children:"MP"}),t("div",{className:"informacion_contratos--contrato_nombre",children:[e("b",{children:w.entidad_contratante}),e("br",{}),e("span",{children:w.objeto})]})]})}),e("td",{className:"informacion_contratos--icono columna_icono",children:e("img",{src:"https://col.licitaciones.info/img/listado/quitar_favoritos.svg"})})]})})]})})]}),h=="modal_seleccion_carpeta"&&e("div",{className:"contenedor_carpetas_seleccion",children:Q.length==0?t("div",{id:"mensajes-sin-carpetas",className:"container content_blank_intern",children:[e("img",{src:"/public/images/mensajes-personalizados/sin-carpetas-modal.svg",alt:"",className:"imagen-sin-carpetas"}),e("p",{children:"Añade tu primer carpeta"})]}):e("div",{className:"carpetas_list_seleccion",children:e("ul",{className:"row scroll_fit",children:Q.map(a=>t("li",{className:"align-items-center col-md-3 col-sm-4 col-xs-12 d-flex selected_carpeta",children:[e("span",{className:"body_checkbox",children:w.carpetas_ids.includes(a.id)?t("div",{className:"checkbox",style:{margin:0+"px"},onClick:()=>He(a.id,w.id),children:[e("i",{className:"align-items-center cr-icon d-flex fa fa-times justify-content-center quitar_carpeta"}),t("label",{children:[e("input",{type:"checkbox",name:"carpeta_mover",value:"22101"}),e("span",{className:"cr",children:e("i",{className:"cr-icon fa fa-check"})})]})]}):e("input",{type:"checkbox",id:"carpeta_mover",name:"carpeta_mover",className:"input_perfil_val",value:a.id,onClick:o=>Fa(o,a.id)})}),t("div",{className:"body_icono_carpeta",children:[t("span",{title:"Carpeta 1",className:"ico-carpeta icon-Mis-carpetas",style:{color:a.color},children:[e("span",{className:"path1"}),e("span",{className:"path2"})]}),e("span",{title:"Carpeta 1",className:"title_icono_carpeta",children:a.nombre_carpeta})]})]}))})})})]}),t(se.Footer,{children:[h=="modal_confirm_delete"&&e("button",{className:"btnRadius btn-action btn-new-danger",onClick:()=>ja(w.id),children:"Eliminar"}),h=="ubicacion"||h=="modalidad"||h=="actividad_economica"&&e("button",{type:"button",className:"btnRadius btn-new-green",children:"Seleccionar"}),h=="modal_seleccion_carpeta"&&t("div",{className:"actions-buttons-modal buttons-modal-carpetas",children:[e("button",{type:"button",className:"btn-new-green btnRadius text-center",onClick:Pa,children:"Crear carpeta"}),e("button",{type:"button",className:"btn-new-blue btnRadius text-center disable_button",disabled:L.length==0,onClick:La,children:"Guardar en"})]})]})]}),e(ot,{showModal:Ma,handleCloseModal:qa,carpeta:Ba,other_page:!0,handleCarpetas:$a}),e(da,{id:"sidebar-notes",visible:Da,position:"right",onHide:()=>_e(!1),children:t("div",{className:"b-sidebar-body notes-content",children:[Oa&&e("div",{id:"notasCarganos",className:"notasCargando",children:e("img",{src:"https://col.licitaciones.info/img/loading.gif",className:"loader-notas"})}),t("div",{className:"wrapper",children:[e("a",{className:"close-sidebar icon-Flujo",onClick:()=>_e(!1)}),e("div",{className:"notes-content__header",children:e("h4",{children:"Mis notas"})}),t("div",{className:`notes-content__create ${ee?"on-creating":""}`,onClick:()=>O(!0),children:[t("div",{className:"notes-header",children:[ee&&e("div",{className:"notes-title",children:e("input",{ref:ye,onClick:()=>O(!0),placeholder:"Escribe un título aquí.",type:"text",className:"noteTitle","aria-required":"true","aria-invalid":"true"})}),t("div",{className:`notes-opts ${ee?"on-expand":""}`,children:[e("span",{id:"timeNota",className:"icon-Hora text-fecha",children:e("span",{className:"text-fecha__hora",children:"Hoy 12:46 pm"})}),e("div",{className:"custom-tooltip red","data-tooltip":"Borrar contenido",children:e("a",{id:"tlpBorrarNota",className:"icon-Limpiar-click"})})]})]}),e("div",{className:"textarea-container",children:e("textarea",{ref:Se,onClick:()=>O(!0),name:"note",id:"note",placeholder:"Crear una nota",className:"mt-2"})}),ee&&e("div",{className:"button-create-container",children:e("button",{className:"button-create btn-new-green btnRadius",onClick:Xa,children:"Crear nota"})})]}),Oe.length>0?t("div",{className:"notes-content__zone",children:[e("div",{className:"notes-content__zone-input-search",children:e("div",{className:"form-group",children:t("div",{className:"input-container",children:[e("input",{onClick:()=>O(!1),type:"text",placeholder:"Buscar nota"})," ",e("span",{className:"icon-Cancelar",style:{display:"none"}})," ",e("span",{className:"icon-Buscar-click"})]})})}),e("div",{className:"notes-content__zone-list-notes",children:t("ul",{children:[e("div",{children:Oe.map((a,o)=>t("li",{className:`note ${ae==a.id?"on-edit":""}`,children:[ae==a.id&&e("div",{className:"note-header-opts",children:t("div",{className:"controls",children:[e("a",{className:"icon-Limpiar-click",onClick:()=>Ka()}),e("a",{className:"hover-icon icon-Eliminar",onClick:()=>Ze(a.id)}),e("span",{id:"timeNota",className:"icon-Hora text-fecha",children:e("span",{className:"text-fecha__hora",children:"Hoy 1:21 pm"})})]})}),t("div",{className:"note-data",children:[e("div",{className:"note-icon",children:e("img",{src:"https://col.licitaciones.info/img/notas/note_icon.svg",alt:"Nota icon"})}),e("div",{className:"note-description",onClick:()=>Ja(a),children:ae==a.id?t(N,{children:[e("input",{placeholder:"Agrega un título",type:"text",className:"onEditTitleNote","aria-required":"true","aria-invalid":"false",value:Ue,onChange:i=>W(i.target.value)}),e("textarea",{placeholder:"Agrega una descripción",className:"onEditNote",style:{height:26+"px"},value:Ve,onChange:i=>D(i.target.value)})]}):t(N,{children:[t("div",{className:"notes-drag",children:[e("span",{className:"note-description__title",children:a.title}),e("div",{className:"notes-opts",children:e("span",{id:"timeNota",className:"icon-Hora text-fecha",children:e("span",{className:"text-fecha__hora",children:"Hoy 11:38 am"})})})]}),e("p",{className:"note-descrition__body",children:a.text})]})})]}),ae==a.id?e("div",{className:"note-actions",children:t("div",{className:"manual-controls",children:[t("a",{className:"btn-new-green btnRadius",draggable:"false",href:"#!",onClick:()=>Ya(a.id),children:[e("i",{className:"icon-Check"}),e("span",{children:"Guardar"})]}),t("a",{href:"#!",className:"btn-new-danger btnRadius",onClick:()=>Ua(),children:[e("i",{className:"icon-Cancelar"})," ",e("span",{children:"Descartar"})]})]})}):e("div",{className:"note-actions",children:e("div",{className:"direct-access-controls",children:e("a",{className:"hover-icon icon-Eliminar",onClick:()=>Ze(a.id)})})})]}))}),t("div",{className:"infinite-loading-container",children:[e("div",{className:"infinite-status-prompt",style:{color:"rgb(102, 102, 102)",fontSize:14+"px",padding:10+"px 0px",display:"none"},children:e("i",{"data-v-46b20d22":"",className:"loading-default"})}),e("div",{className:"infinite-status-prompt",children:e("div",{className:"infinite--no-data",children:"No hay más notas"})}),e("div",{className:"infinite-status-prompt",style:{display:"none"},children:e("span",{className:"infinite--no-data",children:"No hay más notas"})}),t("div",{className:"infinite-status-prompt",style:{color:"rgb(102, 102, 102)",fontSize:14+"px",padding:10+"px 0px",display:"none"},children:["Opps, something went wrong :(",e("br",{}),e("button",{className:"btn-try-infinite",children:"Retry"})]})]})]})})]}):e("div",{children:t("div",{className:"workspace text-center",children:[e("div",{className:"workspace__image",children:e("img",{src:"https://col.licitaciones.info/img/notas/workspace.png",alt:"Nota Workspace"})}),e("p",{className:"workspace__copy",children:"No has creado tu primera nota."})]})})]})]})})]})};export{Pt as default};
