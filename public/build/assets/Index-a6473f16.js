<<<<<<<< HEAD:public/build/assets/Index-a6473f16.js
import{r as s,j as o,a as e,H as W,F as x}from"./app-7bc7aa84.js";import{A as X}from"./AuthenticatedLayout-f158ebc2.js";/* empty css                      */import{N as z}from"./Nav-bb31750d.js";import{M as g}from"./Modal-7c90b512.js";import{T as Y,a as Z}from"./estilos-toast-b995a97c.js";/* empty css                      */import"./ApplicationLogo-8df486ce.js";import"./ApplicationLogoLici-3cbde996.js";import"./AuthenticatedLayout-413f5a1b.js";import"./transition-5a2acc06.js";import"./createWithBsPrefix-e4392318.js";import"./hook-c6f12429.js";import"./CloseButton-6e6e3b74.js";import"./hasClass-7fd45157.js";import"./useTimeout-7534b4ff.js";const _e=({auth:j,localizacion:F})=>{const[B,h]=s.exports.useState(!1),[D,S]=s.exports.useState(""),[E,b]=s.exports.useState(""),[l,ee]=s.exports.useState(F),[w,M]=s.exports.useState(F);s.exports.useState(!1),s.exports.useState(!1),s.exports.useState(0);const[ie,$]=s.exports.useState(0),[f,v]=s.exports.useState([]),[k,_]=s.exports.useState([]),[u,T]=s.exports.useState({id:0,nombre:""}),[p,N]=s.exports.useState([]),[A,C]=s.exports.useState([]),[q,y]=s.exports.useState(!1),L=()=>y(!1),O=()=>{u.id!=0?y(!0):(S("Debes seleccionar una comuna"),b("icon-error"),h(!0))},K=()=>{u.id!=0?window.location.replace("/localizacion/"+u.id+"/edit"):(S("Debes seleccionar una Ciudad"),b("icon-error"),h(!0))},G=i=>{f.includes(i)?v(f.filter(a=>a!=i)):v([...f,i]);const t=new RegExp(i,"i");w.filter(function(a){if(t.test(a.id_padre_sub_categoria))return a}).forEach(a=>{if(!p.includes(a))p.push(a);else{const m=p.filter(d=>d.id_padre_sub_categoria!=i);N(m)}})},J=i=>{k.includes(i)?_(k.filter(a=>a!=i)):_([...k,i]);const t=new RegExp(i,"i");w.filter(function(a){if(t.test(a.id_padre_sub_categoria))return a}).forEach(a=>{if(!A.includes(a))A.push(a);else{const m=A.filter(d=>d.id_padre_sub_categoria!=i);C(m)}}),$(i)},H=i=>{T(i)},P=i=>{if(i.target.value==""){M(l),N([]),C([]),v([]),_([]);return}if(i.key==="Enter"){const U=new RegExp(i.target.value,"i"),V=l.filter(function(c){if(U.test(c.nombre))return c});var t=[],r=[],a=[],m=[],d=[];V.forEach(c=>{c.id_padre_sub_categoria!=null&&(a.push(c),m.push(c.id_padre_sub_categoria),r.push(l.filter(n=>n.id==c.id_padre_sub_categoria)[0]),d.push(c.id_abuelo_sub_categoria)),c.id_padre_sub_categoria!=null&&(r.includes(c)||r.push(c),d.includes(c.id_padre_sub_categoria)||d.push(c.id_padre_sub_categoria))});var I=null,R=null;a.forEach(c=>{I=l.filter(n=>n.id==c.id)[0],R=l.filter(n=>n.id==c.id_padre_sub_categoria)[0],t.includes(I)||t.push(l.filter(n=>n.id==c.id_padre_sub_categoria)[0]),r.includes(R)||t.push(l.filter(n=>n.id==c.id_padre_sub_categoria)[0])}),M(t),N(r),C(a),v(d),_(m)}},Q=()=>{fetch("/localizacion/"+u.id+"/delete").then(i=>i.json()).then(i=>{if(i.type=="Success"){b("icon-check");var t=p.filter(r=>r.id!=u.id);N(t),T({id:0,nombre:""})}else b("icon-error");S(i.message),h(!0),y(!1)})};return o(X,{auth:j,children:[e(W,{title:"Localización"}),e(Y,{position:"bottom-start",children:e(Z,{onClose:()=>h(!1),show:B,delay:3e3,autohide:!0,children:o("div",{className:`notification-toast ${E=="icon-error"?"error":"success"}`,children:[e("span",{className:`toast-icon ${E=="icon-error"?"toast-danger":"toast-success"}`,children:e("span",{className:E})}),e("p",{className:"title",children:D}),e("button",{type:"button",className:"icon-close m-auto",onClick:()=>h(!1)})]})})}),e("div",{className:"contenedor-planes",children:o("div",{className:"bg-white overflow-auto w-full text-center margen-superior",children:[e("h2",{className:"name_section_app",children:"Localización"}),o("div",{className:"container mt-4",children:[e("div",{className:"tree_categorias tree_1",children:e("div",{className:"tree_categorias__busqueda mb-3 mb-md-4",children:o("div",{className:"mx-auto",children:[e("input",{type:"text",placeholder:"Buscar localización en chile",autoComplete:"off",className:"form-control m-auto",onKeyDown:P}),e("i",{className:"icon-Cancelar"}),e("button",{type:"button",className:"icon-Buscar-click",children:e("i",{className:"bi bi-search"})}),e("br",{}),o("div",{className:"botones",children:[e(z.Link,{href:route("createLocalizacion"),className:"flex  ml-4 text-probar ",children:e("i",{className:"bi bi-plus-square-fill"})}),e(z.Link,{onClick:K,className:"flex  ml-4 text-probar ",children:e("i",{className:"bi bi-pencil-fill"})}),e(z.Link,{onClick:O,className:"flex  ml-4 text-probar ",children:e("i",{className:"bi bi-trash3"})})]}),w.map(i=>e(x,{children:i.id_padre_sub_categoria==null&&o(x,{children:[o("div",{id:i.id,className:"tree-content mt-3 sector",onClick:()=>G(i.id),children:[e("i",{className:`tree-arrow has-child ${i.childs.length>0?"bi bi-chevron-down":""}`}),e("span",{className:"tree-anchor",children:e("span",{className:"tree-division tree-division1",children:e("span",{className:"tree-division__title my-auto",children:i.nombre})})})]},i.id),f.includes(i.id)&&e("ul",{className:"tree-children",children:p.map((t,r)=>e(x,{children:i.id==t.id_padre_sub_categoria&&e("li",{"data-id":"20504",className:"tree-node has-child expanded draggable",onClick:()=>H(t),children:o("div",{className:"tree-content segmento",onClick:()=>J(t.id),children:[e("i",{className:"tree-arrow expanded has-child ltr"}),e("input",{type:"radio",name:"actividad_economica",onClick:()=>H(t),checked:t.id==u.id?"checked":""}),e("span",{className:"tree-anchor",children:e("span",{className:"tree-division tree-division1",children:e(x,{children:r%2==0?e("span",{className:"tree-division__title my-auto",children:t.nombre}):e("span",{className:"tree-division__title-gray my-auto",children:t.nombre})})})})]})})}))})]})}))]})})}),o(g,{show:q,onHide:L,id:"removeActividadEconomica",className:"modal-dialog-centered",children:[o(g.Header,{id:"removeActividadEconomicaHeader",children:[e("h5",{className:"modal-title",children:"Eliminar"}),e("button",{type:"button",className:"btn-close btn-close-white",onClick:L})]}),e(g.Body,{id:"removeActividadEconomicaBody",children:o("p",{children:["Desea eliminar la comuna"," ",u.nombre,"?"]})}),o(g.Footer,{children:[e("button",{type:"submit",className:"btn btnRadius btn-new-blue mr-2",onClick:L,children:"Cancelar"}),e("button",{onClick:Q,className:"btn btnRadius btn-new-red ml-2",children:"Eliminar"})]})]})]})]})})]})};export{_e as default};
========
import{r as s,j as o,a as e,H as W,F as x}from"./app-a395f59d.js";import{A as X}from"./AuthenticatedLayout-9dd5324a.js";/* empty css                      */import{N as z}from"./Nav-5332b456.js";import{M as g}from"./Modal-84a19aee.js";import{T as Y,a as Z}from"./estilos-toast-8e67c442.js";/* empty css                      */import"./ApplicationLogo-82844bbc.js";import"./ApplicationLogoLici-44ea342d.js";import"./AuthenticatedLayout-30f9dc1b.js";import"./transition-d627f6da.js";import"./createWithBsPrefix-6f56816e.js";import"./hook-e6eb6b9d.js";import"./CloseButton-5aff73a3.js";import"./hasClass-2d9b9fcc.js";import"./useTimeout-b5082d06.js";const _e=({auth:j,localizacion:F})=>{const[B,h]=s.exports.useState(!1),[D,S]=s.exports.useState(""),[E,b]=s.exports.useState(""),[l,ee]=s.exports.useState(F),[w,M]=s.exports.useState(F);s.exports.useState(!1),s.exports.useState(!1),s.exports.useState(0);const[ie,$]=s.exports.useState(0),[f,v]=s.exports.useState([]),[k,_]=s.exports.useState([]),[u,T]=s.exports.useState({id:0,nombre:""}),[p,N]=s.exports.useState([]),[A,C]=s.exports.useState([]),[q,y]=s.exports.useState(!1),L=()=>y(!1),O=()=>{u.id!=0?y(!0):(S("Debes seleccionar una comuna"),b("icon-error"),h(!0))},K=()=>{u.id!=0?window.location.replace("/localizacion/"+u.id+"/edit"):(S("Debes seleccionar una Ciudad"),b("icon-error"),h(!0))},G=i=>{f.includes(i)?v(f.filter(a=>a!=i)):v([...f,i]);const t=new RegExp(i,"i");w.filter(function(a){if(t.test(a.id_padre_sub_categoria))return a}).forEach(a=>{if(!p.includes(a))p.push(a);else{const m=p.filter(d=>d.id_padre_sub_categoria!=i);N(m)}})},J=i=>{k.includes(i)?_(k.filter(a=>a!=i)):_([...k,i]);const t=new RegExp(i,"i");w.filter(function(a){if(t.test(a.id_padre_sub_categoria))return a}).forEach(a=>{if(!A.includes(a))A.push(a);else{const m=A.filter(d=>d.id_padre_sub_categoria!=i);C(m)}}),$(i)},H=i=>{T(i)},P=i=>{if(i.target.value==""){M(l),N([]),C([]),v([]),_([]);return}if(i.key==="Enter"){const U=new RegExp(i.target.value,"i"),V=l.filter(function(c){if(U.test(c.nombre))return c});var t=[],r=[],a=[],m=[],d=[];V.forEach(c=>{c.id_padre_sub_categoria!=null&&(a.push(c),m.push(c.id_padre_sub_categoria),r.push(l.filter(n=>n.id==c.id_padre_sub_categoria)[0]),d.push(c.id_abuelo_sub_categoria)),c.id_padre_sub_categoria!=null&&(r.includes(c)||r.push(c),d.includes(c.id_padre_sub_categoria)||d.push(c.id_padre_sub_categoria))});var I=null,R=null;a.forEach(c=>{I=l.filter(n=>n.id==c.id)[0],R=l.filter(n=>n.id==c.id_padre_sub_categoria)[0],t.includes(I)||t.push(l.filter(n=>n.id==c.id_padre_sub_categoria)[0]),r.includes(R)||t.push(l.filter(n=>n.id==c.id_padre_sub_categoria)[0])}),M(t),N(r),C(a),v(d),_(m)}},Q=()=>{fetch("/localizacion/"+u.id+"/delete").then(i=>i.json()).then(i=>{if(i.type=="Success"){b("icon-check");var t=p.filter(r=>r.id!=u.id);N(t),T({id:0,nombre:""})}else b("icon-error");S(i.message),h(!0),y(!1)})};return o(X,{auth:j,children:[e(W,{title:"Localización"}),e(Y,{position:"bottom-start",children:e(Z,{onClose:()=>h(!1),show:B,delay:3e3,autohide:!0,children:o("div",{className:`notification-toast ${E=="icon-error"?"error":"success"}`,children:[e("span",{className:`toast-icon ${E=="icon-error"?"toast-danger":"toast-success"}`,children:e("span",{className:E})}),e("p",{className:"title",children:D}),e("button",{type:"button",className:"icon-close m-auto",onClick:()=>h(!1)})]})})}),e("div",{className:"contenedor-planes",children:o("div",{className:"bg-white overflow-auto w-full text-center margen-superior",children:[e("h2",{className:"name_section_app",children:"Localización"}),o("div",{className:"container mt-4",children:[e("div",{className:"tree_categorias tree_1",children:e("div",{className:"tree_categorias__busqueda mb-3 mb-md-4",children:o("div",{className:"mx-auto",children:[e("input",{type:"text",placeholder:"Buscar localización en chile",autoComplete:"off",className:"form-control m-auto",onKeyDown:P}),e("i",{className:"icon-Cancelar"}),e("button",{type:"button",className:"icon-Buscar-click",children:e("i",{className:"bi bi-search"})}),e("br",{}),o("div",{className:"botones",children:[e(z.Link,{href:route("createLocalizacion"),className:"flex  ml-4 text-probar ",children:e("i",{className:"bi bi-plus-square-fill"})}),e(z.Link,{onClick:K,className:"flex  ml-4 text-probar ",children:e("i",{className:"bi bi-pencil-fill"})}),e(z.Link,{onClick:O,className:"flex  ml-4 text-probar ",children:e("i",{className:"bi bi-trash3"})})]}),w.map(i=>e(x,{children:i.id_padre_sub_categoria==null&&o(x,{children:[o("div",{id:i.id,className:"tree-content mt-3 sector",onClick:()=>G(i.id),children:[e("i",{className:`tree-arrow has-child ${i.childs.length>0?"bi bi-chevron-down":""}`}),e("span",{className:"tree-anchor",children:e("span",{className:"tree-division tree-division1",children:e("span",{className:"tree-division__title my-auto",children:i.nombre})})})]},i.id),f.includes(i.id)&&e("ul",{className:"tree-children",children:p.map((t,r)=>e(x,{children:i.id==t.id_padre_sub_categoria&&e("li",{"data-id":"20504",className:"tree-node has-child expanded draggable",onClick:()=>H(t),children:o("div",{className:"tree-content segmento",onClick:()=>J(t.id),children:[e("i",{className:"tree-arrow expanded has-child ltr"}),e("input",{type:"radio",name:"actividad_economica",onClick:()=>H(t),checked:t.id==u.id?"checked":""}),e("span",{className:"tree-anchor",children:e("span",{className:"tree-division tree-division1",children:e(x,{children:r%2==0?e("span",{className:"tree-division__title my-auto",children:t.nombre}):e("span",{className:"tree-division__title-gray my-auto",children:t.nombre})})})})]})})}))})]})}))]})})}),o(g,{show:q,onHide:L,id:"removeActividadEconomica",className:"modal-dialog-centered",children:[o(g.Header,{id:"removeActividadEconomicaHeader",children:[e("h5",{className:"modal-title",children:"Eliminar"}),e("button",{type:"button",className:"btn-close btn-close-white",onClick:L})]}),e(g.Body,{id:"removeActividadEconomicaBody",children:o("p",{children:["Desea eliminar la comuna"," ",u.nombre,"?"]})}),o(g.Footer,{children:[e("button",{type:"submit",className:"btn btnRadius btn-new-blue mr-2",onClick:L,children:"Cancelar"}),e("button",{onClick:Q,className:"btn btnRadius btn-new-red ml-2",children:"Eliminar"})]})]})]})]})})]})};export{_e as default};
>>>>>>>> 479cb1aee199c379a30a26461e7920d8a247747e:public/build/assets/Index-7217b9b0.js
