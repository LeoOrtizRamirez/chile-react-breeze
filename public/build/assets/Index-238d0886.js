import{r as c,j as t,a as e,H as P,F as N}from"./app-925af72f.js";import{A as Q}from"./AuthenticatedLayout-50c8ba4f.js";import{A as U}from"./MenuOpciones-1a620ea1.js";/* empty css                      */import{N as f,M as l}from"./Modal-ac40633d.js";import{T as V,a as W}from"./estilos-toast-2e4d6f75.js";import"./font-unicolor-d4b7979f.js";import"./estilos-capa-autentificacion-079fb480.js";import"./ApplicationLogoLici-bd6b00e3.js";import"./transition-535abe70.js";import"./createWithBsPrefix-c7122339.js";import"./hasClass-dc76f5df.js";import"./useTimeout-de78e777.js";const me=({auth:C,actividades_economicas:g})=>{const[y,r]=c.exports.useState(!1),[M,m]=c.exports.useState(""),[h,d]=c.exports.useState(""),[p,X]=c.exports.useState(g),[F,T]=c.exports.useState(g),[x,H]=c.exports.useState(!1),[u,A]=c.exports.useState(!1),[I,R]=c.exports.useState(0),[j,B]=c.exports.useState(0),[o,S]=c.exports.useState({id:0,nombre:""}),[$,D]=c.exports.useState([]),[E,_]=c.exports.useState([]),[L,v]=c.exports.useState(!1),b=()=>v(!1),q=()=>{o.id!=0?v(!0):(m("Debes seleccionar una Actividad Ecónomica"),d("icon-error"),r(!0))};console.log("Actividad economica"),console.log(o);const z=()=>{o.id!=0?console.log(o):(m("Debes seleccionar una Actividad Ecónomica"),d("icon-error"),r(!0))},G=i=>{const s=i,a=new RegExp(s,"i"),n=p.filter(function(k){if(a.test(k.id_padre_sub_categoria))return k});D(n),H(!x),R(i)},J=i=>{const s=new RegExp(i,"i"),a=p.filter(function(n){if(s.test(n.id_padre_sub_categoria))return n});_(a),A(!u),B(i)},w=i=>{S(i)},K=i=>{const s=new RegExp(i.target.value,"i"),a=p.filter(function(n){if(s.test(n.nombre))return n});T(a),A(!u)},O=()=>{fetch("/actividades-economicas/"+o.id+"/delete").then(i=>i.json()).then(i=>{if(i.type=="Success"){d("icon-check");var s=E.filter(a=>a.id!=o.id);_(s),S({id:0,nombre:""})}else d("icon-error");m(i.message),r(!0),v(!1)})};return t(Q,{auth:C,children:[e(P,{title:"Actividades económicas"}),e(V,{position:"bottom-start",children:e(W,{onClose:()=>r(!1),show:y,delay:3e3,autohide:!0,children:t("div",{className:`notification-toast ${h=="icon-error"?"error":"success"}`,children:[e("span",{className:`toast-icon ${h=="icon-error"?"toast-danger":"toast-success"}`,children:e("span",{className:h})}),e("p",{className:"title",children:M}),e("button",{type:"button",className:"icon-close m-auto",onClick:()=>r(!1)})]})})}),t("div",{className:"contenedor-planes",children:[e("div",{className:"posicion-opciones-planes",children:e(U,{})}),t("div",{className:"bg-white overflow-auto w-full text-center margen-superior",children:[e("h2",{className:"name_section_app",children:"Actividad económica"}),t("div",{className:"container mt-4",children:[e("div",{className:"tree_categorias tree_1",children:e("div",{className:"tree_categorias__busqueda mb-3 mb-md-4",children:t("div",{className:"mx-auto",children:[e("input",{type:"text",placeholder:"Busca por actividad económica",autoComplete:"off",className:"form-control m-auto",onChange:K}),e("i",{className:"icon-Cancelar"}),e("button",{type:"button",className:"icon-Buscar-click",children:e("i",{className:"bi bi-search"})}),e("br",{}),t("div",{className:"botones",children:[e(f.Link,{href:route("actividades-economicas.create"),className:"flex  ml-4 text-probar ",children:e("i",{className:"bi bi-plus-square-fill"})}),e(f.Link,{onClick:z,className:"flex  ml-4 text-probar ",children:e("i",{className:"bi bi-pencil-fill"})}),e(f.Link,{onClick:q,className:"flex  ml-4 text-probar ",children:e("i",{className:"bi bi-trash3"})})]}),F.map(i=>e(N,{children:i.id_padre_sub_categoria==null&&t(N,{children:[t("div",{className:"tree-content mt-3 sector",onClick:()=>G(i.id),children:[e("i",{className:`tree-arrow has-child ${i.childs.length>0?"bi bi-chevron-down":""}`}),e("span",{className:"tree-anchor",children:e("span",{className:"tree-division tree-division1",children:e("span",{className:"tree-division__title my-auto",children:i.nombre})})})]},i.id),x&&i.id==I&&e("ul",{className:"tree-children",children:$.map(s=>t("li",{"data-id":"20504",className:"tree-node has-child expanded draggable",children:[t("div",{className:"tree-content segmento",onClick:()=>J(s.id),children:[e("i",{className:"tree-arrow expanded has-child ltr"}),e("span",{className:"tree-anchor",children:e("span",{className:"tree-division tree-division1",children:e("span",{className:"tree-division__title my-auto",children:s.nombre})})})]}),u&&j==s.id&&e("ul",{className:"tree-children",children:E.map((a,n)=>e("li",{className:"tree-node draggable",children:t("div",{className:"tree-content actividad-economica",onClick:()=>w(a),children:[e("input",{type:"radio",name:"actividad_economica",onClick:()=>w(a),checked:a.id==o.id?"checked":""}),e("span",{className:"tree-anchor children",children:e("span",{className:"tree-division tree-division1",children:e(N,{children:n%2==0?e("span",{className:"tree-division__title my-auto",children:a.nombre}):e("span",{className:"tree-division__title-gray my-auto",children:a.nombre})})})})]})}))})]}))})]})}))]})})}),t(l,{show:L,onHide:b,id:"removeActividadEconomica",className:"modal-dialog-centered",children:[t(l.Header,{id:"removeActividadEconomicaHeader",children:[e("h5",{className:"modal-title",children:"Eliminar"}),e("button",{type:"button",className:"btn-close btn-close-white",onClick:b})]}),e(l.Body,{id:"removeActividadEconomicaBody",children:t("p",{children:["Desea eliminar la actividad económica (",o.id,") ",o.nombre,"?"]})}),t(l.Footer,{children:[e("button",{type:"submit",className:"btn btnRadius btn-new-blue mr-2",onClick:b,children:"Cancelar"}),e("button",{onClick:O,className:"btn btnRadius btn-new-red ml-2",children:"Eliminar"})]})]})]})]})]})]})};export{me as default};
