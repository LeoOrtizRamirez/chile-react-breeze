import{r,a,F as v,j as e}from"./app-f1ab0a18.js";import{A as F,C as R,T as A}from"./AuthenticatedLayout-bfa97bdd.js";/* empty css                      */import{M as m}from"./Nav-4a792c56.js";import"./InputError-cdeedff5.js";import"./hasClass-535336c8.js";import"./mergeOptionsWithPopperConfig-e77e0d76.js";import"./module-baff8cac.js";import"./Button-4c21cb15.js";/* empty css                 */const J=({auth:x,carpetas:k})=>{const[n,h]=r.exports.useState(k),[y,p]=r.exports.useState(!1),N=()=>{p(!0)},j=()=>{i(null),p(!1)},w=s=>{c(s)},[b,i]=r.exports.useState([]),S=s=>{i(s),p(!0)},q=()=>{c(!0);var s=document.querySelector('meta[name="csrf-token"]');axios.post("/cliente/carpeta/eliminar",b,{Authorization:`Bearer ${s}`}).then(t=>{g(t.data),o(),c(!1),f.current.show({severity:"success",summary:"Carpeta eliminada exitosamente.",life:3e3}),i([])}).catch(t=>{console.log(t)})},[M,_]=r.exports.useState(!1),o=()=>_(!1),z=s=>{i(s),_(!0)},[B,c]=r.exports.useState(!1),g=s=>{c(!1),h(s)},f=r.exports.useRef(null),u=r.exports.useRef(null),[d,E]=r.exports.useState(""),C=s=>{if((s==null?void 0:s.key)==="Enter"||(s==null?void 0:s.type)=="click"){E(u.current.value),c(!0);let t=document.querySelector('meta[name="csrf-token"]');axios.get("/cliente/carpeta/get-carpetas-paginadas?filtroBusqueda="+u.current.value,{headers:{Authorization:`Bearer ${t}`}}).then(l=>{console.log(l.data),h(l.data),c(!1)}).catch(l=>{console.error("Request failed:",l.response.status,l.response.data)})}};return a(v,{children:e(F,{auth:x,page:"carpetas",carpetas:n,globalLoading:B,children:[e("div",{className:"content_blank_interno margin_left_layout",children:[a("div",{className:"col",children:a("h2",{className:"name_seccion_app",children:"Administrar carpetas"})}),e("div",{children:[e("div",{className:"cabecera",children:[e("button",{className:"cabecera__btn-crear-carpeta btnRadius btn-new-green",onClick:N,children:[a("i",{className:"icon-Crear"})," Crea una carpeta"]}),n.length!=0&&a("div",{className:"paginacion",children:d!=""?e("span",{className:"paginacion__registros",children:["1 - ",n.length," de ",n.length," registros"]}):e("span",{className:"paginacion__registros",children:["1 - ",n.length+2," de ",n.length+2," registros"]})})]}),e("div",{className:"carpetas",children:[a("div",{className:"busqueda-rapida",children:e("div",{className:"busqueda-rapida__cont-buscar",children:[a("input",{type:"text",placeholder:"Buscar carpeta",className:"form-control",onKeyDown:C,ref:u}),a("button",{type:"button",className:"busqueda-rapida__btn-buscar icon-Buscar-click",onClick:C})]})}),e("div",{className:"list-carpetas",children:[d==""&&e(v,{children:[a("div",{className:"list-carpetas__cont",children:e("div",{className:"carpeta",children:[a("div",{className:"carpeta__cont-icon",children:a("span",{className:"icon-Favorito-click carpeta__icon--favorito"})}),a("span",{className:"carpeta__nombre--favorito",children:"Mis Favoritos"})]})}),a("div",{className:"list-carpetas__cont",children:e("div",{className:"carpeta",children:[a("div",{className:"carpeta__cont-icon",children:a("span",{className:"icon-Eliminar carpeta__icon--papelera"})}),a("span",{className:"carpeta__nombre--papelera",children:"Papelera"})]})})]}),n.map((s,t)=>a("div",{className:"list-carpetas__cont",children:e("div",{className:"carpeta",children:[a("div",{className:"carpeta__cont-icon",children:e("span",{className:"icon-Mis-carpetas carpeta__icon",style:{color:s.color},children:[a("span",{className:"path1"}),a("span",{className:"path2"})]})}),a("span",{className:"carpeta__nombre",children:s.nombre_carpeta}),e("div",{className:"carpeta__acciones",children:[a("i",{className:"icon-Editar carpeta__btn-editar",onClick:()=>S(s)}),a("i",{className:"icon-Eliminar carpeta__btn-eliminar",onClick:()=>z(s)})]})]})},t))]})]}),e("div",{className:"mensajes-busqueda",children:[n.length==0&&d==""&&a("div",{className:"mensajes-busqueda",children:a("div",{id:"mensajes-sin-carpeta",className:"container content_blank_intern",children:e("div",{className:"row",children:[a("div",{className:"col-12 col-lg-5 text-center",children:a("img",{src:"/public/images/mensajes-personalizados/sin-carpetas-modal.svg",alt:"sin carpetas",className:"img-fluid imagen-sin-carpetas"})}),e("div",{className:"col-12 col-lg-7 my-auto",children:[a("h5",{className:"text-center titulo-personalizado",children:"Aún no has creado una carpeta."}),e("div",{className:"cont-mensaje-personalizado",children:[a("i",{className:"icon-Bombillo"}),a("p",{className:"mensaje-personalizado",children:"Las carpetas te permiten mantener organizada toda tu información de interés y en un solo lugar."})]}),e("button",{className:"btn btn-new-green btnRadius mx-auto d-block btn-sin-perfil-crear",onClick:N,children:[a("i",{className:"icon-Crear"})," Crea tu primera carpeta"]})]})]})})}),n.length==0&&d!=""&&a("div",{id:"mensajes-personalizado-busqueda",className:"container-fluid content_blank_interno",children:e("div",{className:"row justify-content-center align-items-center",children:[a("div",{className:"col-md-4 col-sm-4 offset-md-1 offset-sm-1",children:a("img",{src:"/public/images/sin-resultados-busqueda.webp",alt:"",className:"img-fluid mensaje-imagen"})}),a("div",{className:"col-md-5 col-sm-5 offset-sm-1 offset-md-1",children:e("div",{className:"estructura-mensaje-personalisado",children:[e("h4",{className:"text-center titulo-personalizado",children:[a("b",{className:"text-rojo",children:"No se encontró"})," el resultado."]}),e("div",{className:"position-relative",children:[a("span",{className:"icon-Bombillo mensaje-icono"}),a("p",{className:"mensaje-personalizado d-block text-left",children:"Prueba cambiando tus opciones de búsqueda e intentalo nuevamente."})]})]})})]})})]})]})]}),a(R,{showModal:y,handleCloseModal:j,carpeta:b,handleCarpetas:g,globalLoading:w}),e(m,{show:M,onHide:o,id:"modal_eliminar_carpeta",size:"lg",centered:!0,children:[e(m.Header,{children:[a("h4",{className:"modal-title",children:"¿Deseas eliminar la carpeta?"}),e("button",{type:"button",className:"close icon-Cerrar-modal",onClick:o,children:[a("span",{className:"path1"}),a("span",{className:"path2"})]})]}),a(m.Body,{children:a("p",{className:"modal-message",children:"Después de eliminarla ya no podrás recuperarla, deberás crear una nueva. De igual manera no podrás recuperar los procesos de contratación que estén contenidos en esta carpeta."})}),e(m.Footer,{children:[a("button",{className:"btnRadius btn-action btn-new-danger",onClick:q,children:"Eliminar"}),a("button",{className:"btnRadius btn-new-blue",onClick:o,children:"Conservar"})]})]}),a(A,{ref:f,position:"bottom-left"})]})})};export{J as default};
