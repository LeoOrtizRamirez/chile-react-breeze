import{r as s,u as j,j as o,a as e,H as G}from"./app-f7f45414.js";import{A as k}from"./AuthenticatedLayout-bdce160d.js";import{A as I}from"./MenuOpciones-83bb3880.js";import{T as L,a as D}from"./estilos-toast-1924ddee.js";import"./font-unicolor-8bf1115f.js";/* empty css                      */import{F as a}from"./Form-119c8b99.js";import"./Button-40cc7215.js";import"./estilos-capa-autentificacion-47a9d906.js";import"./ApplicationLogoLici-79dc4051.js";import"./transition-a71db8ff.js";import"./createWithBsPrefix-635eba4a.js";import"./useEventCallback-7a7f6104.js";import"./index-67732e07.js";import"./ElementChildren-c6e934eb.js";import"./Col-41b03b66.js";import"./Button-c6b86814.js";const ae=({auth:p,actividades_economicas:u,solo_sectores:h})=>{const[v,c]=s.exports.useState(!1),[b,f]=s.exports.useState(""),{data:m,setData:i,post:g,processing:E,reset:N,errors:l}=j({id:"",nombre:"",sector:"",segmento:"",tipo_categoria:1}),[S,R]=s.exports.useState(u),[C,V]=s.exports.useState(h),[x,_]=s.exports.useState([]);s.exports.useState("disabled");const[w,A]=s.exports.useState(!1),F=t=>{const r=t.currentTarget;A(!0),r.checkValidity()===!1?(t.preventDefault(),t.stopPropagation()):(t.preventDefault(),g(route("actividades-economicas.store"),{onSuccess:()=>N()}))};s.exports.useEffect(()=>{if(Object.entries(l).length>0){var t=Object.values(l),r="";t.map(n=>r+=n),f(r),c(!0)}},[l]);const T=t=>{i("sector",t.target.value);var r=t.target.value;const n=r,q=new RegExp(n,"i"),y=S.filter(function(d){if(q.test(d.id_padre_sub_categoria))return d});_(y)};return o(k,{auth:p,children:[e(G,{title:"Actividades económicas"}),e(L,{position:"bottom-start",children:e(D,{onClose:()=>c(!1),show:v,delay:3e5,autohide:!0,children:o("div",{className:"notification-toast error",children:[e("span",{className:"toast-icon toast-danger",children:e("span",{className:"icon-error"})}),e("p",{className:"title",children:b}),e("button",{type:"button",className:"icon-close m-auto",onClick:()=>c(!1)})]})})}),o("div",{className:"contenedor-planes",children:[e("div",{className:"posicion-opciones-planes",children:e(I,{})}),o("div",{className:"bg-white overflow-auto w-full text-center margen-superior",children:[e("h2",{className:"name_section_app",children:"Crear Actividad económica"}),e("div",{className:"container mt-4",children:o(a,{id:"form",name:"form",noValidate:!0,validated:w,onSubmit:F,children:[o(a.Group,{className:"row",children:[e("div",{className:"col-12 col-sm-4",children:e(a.Label,{htmlFor:"",for:"validationInput",className:"bloque__registro-form-title-label",children:"Seleccione el sector"})}),e("div",{className:"col-12 col-sm-8",children:o(a.Select,{name:"sector",className:"sector",id:"",onChange:T,children:[e("option",{value:"",children:"Selecciona un Sector"}),C.map(t=>e("option",{value:t.id,children:t.nombre}))]})})]}),o(a.Group,{className:"row mt-3",children:[e("div",{className:"col-12 col-sm-4",children:e(a.Label,{htmlFor:"",for:"validationInput",className:"bloque__registro-form-title-label",children:"Seleccione el segmento"})}),e("div",{className:"col-12 col-sm-8",children:o(a.Select,{name:"segmento",className:"segmento",id:"",onChange:t=>i("segmento",t.target.value),children:[e("option",{value:"",children:"Selecciona un Segmento"}),x.map(t=>e("option",{value:t.id,children:t.nombre}))]})})]}),o(a.Group,{className:"row mt-3",children:[e("div",{className:"col-12 col-sm-4",children:e(a.Label,{htmlFor:"",for:"validationInput",className:"bloque__registro-form-title-label",children:"Nombre Actividad económica"})}),e("div",{className:"col-12 col-sm-8",children:e(a.Control,{type:"text",placeholder:"Nombre Actividad económica",value:m.nombre,onChange:t=>i("nombre",t.target.value),className:"actividad-economica",required:!0})})]}),o(a.Group,{className:"row mt-3",children:[e("div",{className:"col-12 col-sm-4",children:e(a.Label,{htmlFor:"",for:"validationInput",className:"bloque__registro-form-title-label",children:"Código de verificación"})}),e("div",{className:"col-12 col-sm-8",children:e(a.Control,{type:"number",placeholder:"Código de verificación",value:m.id,onChange:t=>i("id",t.target.value),className:"actividad-economica",required:!0})})]}),o(a.Group,{className:"mt-4",children:[e("button",{type:"submit",className:"btn btnRadius btn-new-blue mr-2",children:"Crear"}),e("a",{href:route("actividades-economicas.index"),className:"btn btnRadius btn-new-red ml-2",children:"Cancelar"})]})]})})]})]})]})};export{ae as default};
