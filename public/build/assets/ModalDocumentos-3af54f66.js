import{r as o,a as i,F as re,j as h}from"./app-897e204e.js";import{u as A,b as oe,c as N,d as ae,O as I,Z as x,e as y,f as ie,g as _,h as M,i as le,l as ce,R as ue}from"./AuthenticatedLayout-66f6dbe6.js";import{M as O}from"./Nav-54ebba22.js";function D(){return D=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c])}return t},D.apply(this,arguments)}function de(t){if(Array.isArray(t))return t}function me(t,n){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var c,b,d,m,a=[],p=!0,u=!1;try{if(d=(e=e.call(t)).next,n===0){if(Object(e)!==e)return;p=!1}else for(;!(p=(c=d.call(e)).done)&&(a.push(c.value),a.length!==n);p=!0);}catch(v){u=!0,b=v}finally{try{if(!p&&e.return!=null&&(m=e.return(),Object(m)!==m))return}finally{if(u)throw b}}return a}}function H(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,c=new Array(n);e<n;e++)c[e]=t[e];return c}function pe(t,n){if(t){if(typeof t=="string")return H(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return H(t,n)}}function fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(t,n){return de(t)||me(t,n)||pe(t,n)||fe()}var C={defaultProps:{__TYPE:"Sidebar",id:null,style:null,className:null,maskStyle:null,maskClassName:null,visible:!1,position:"left",fullScreen:!1,blockScroll:!1,baseZIndex:0,dismissable:!0,showCloseIcon:!0,ariaCloseLabel:null,closeOnEscape:!0,icons:null,modal:!0,appendTo:null,transitionOptions:null,onShow:null,onHide:null,children:void 0},getProps:function(n){return I.getMergedProps(n,C.defaultProps)},getOtherProps:function(n){return I.getDiffProps(n,C.defaultProps)}},be=o.exports.forwardRef(function(t,n){var e=C.getProps(t),c=o.exports.useState(!1),b=E(c,2),d=b[0],m=b[1],a=o.exports.useState(!1),p=E(a,2),u=p[0],v=p[1],l=o.exports.useRef(null),f=o.exports.useRef(null),k=o.exports.useRef(null),U=A({type:"keydown",listener:function(s){s.which===27&&x.get(f.current)===x.getCurrent("modal",y.autoZIndex)&&S(s)}}),R=E(U,2),Z=R[0],$=R[1],F=A({type:"click",listener:function(s){s.which!==2&&z(s)&&S(s)}}),L=E(F,2),P=L[0],T=L[1],z=function(s){return l&&l.current&&!l.current.contains(s.target)},B=function(){var s=["left","right","top","bottom"],g=s.find(function(w){return w===e.position});return g?"p-sidebar-".concat(g):""},V=function(){var s=document.activeElement,g=s&&l&&l.current.contains(s);!g&&e.showCloseIcon&&k.current.focus()},q=function(s){e.dismissable&&e.modal&&f.current===s.target&&S(s)},S=function(s){e.onHide(),s.preventDefault()},J=function(){e.onShow&&e.onShow(),V(),W()},X=function(){e.modal&&_.addClass(f.current,"p-component-overlay-leave")},K=function(){x.clear(f.current),m(!1),j()},W=function(){e.closeOnEscape&&Z(),e.dismissable&&!e.modal&&P(),e.blockScroll&&_.addClass(document.body,"p-overflow-hidden")},j=function(){$(),T(),e.blockScroll&&_.removeClass(document.body,"p-overflow-hidden")};o.exports.useImperativeHandle(n,function(){return{props:e,getElement:function(){return l.current},gteMask:function(){return f.current},getCloseIcon:function(){return k.current}}}),oe(function(){e.visible&&m(!0)}),N(function(){e.visible&&!d&&m(!0),e.visible!==u&&d&&v(e.visible)}),N(function(){d&&(x.set("modal",f.current,y.autoZIndex,e.baseZIndex||y.zIndex.modal),v(!0))},[d]),N(function(){u&&(T(),e.dismissable&&!e.modal&&P())},[e.dismissable,e.modal,u]),ae(function(){j(),f.current&&x.clear(f.current)});var Y=function(){if(e.showCloseIcon){var s=e.ariaCloseLabel||ce("close");return o.exports.createElement("button",{type:"button",ref:k,className:"p-sidebar-close p-sidebar-icon p-link",onClick:S,"aria-label":s},o.exports.createElement("span",{className:"p-sidebar-close-icon pi pi-times","aria-hidden":"true"}),o.exports.createElement(ue,null))}return null},G=function(){return e.icons?I.getJSXElement(e.icons,e):null},Q=function(){var s=C.getOtherProps(e),g=M("p-sidebar p-component",e.className,{"p-input-filled":y.inputStyle==="filled","p-ripple-disabled":y.ripple===!1}),w=M("p-sidebar-mask",{"p-component-overlay p-component-overlay-enter":e.modal,"p-sidebar-mask-scrollblocker":e.blockScroll,"p-sidebar-visible":d,"p-sidebar-full":e.fullScreen},B(),e.maskClassName),te=Y(),ne=G(),se={enter:e.fullScreen?150:300,exit:e.fullScreen?150:300};return o.exports.createElement("div",{ref:f,style:e.maskStyle,className:w,onMouseDown:q},o.exports.createElement(le,{nodeRef:l,classNames:"p-sidebar",in:u,timeout:se,options:e.transitionOptions,unmountOnExit:!0,onEntered:J,onExiting:X,onExited:K},o.exports.createElement("div",D({ref:l,id:e.id,className:g,style:e.style},s,{role:"complementary"}),o.exports.createElement("div",{className:"p-sidebar-header"},ne,te),o.exports.createElement("div",{className:"p-sidebar-content"},e.children))))},ee=function(){var s=Q();return o.exports.createElement(ie,{element:s,appendTo:e.appendTo,visible:!0})};return d&&ee()});be.displayName="Sidebar";const xe=({showModal:t,handleCloseModal:n,modalId:e,data:c=[]})=>{const[b,d]=o.exports.useState([]);o.exports.useEffect(()=>{d(t?c.documentos:[])},[t]);const m=a=>{const p=document.querySelector('meta[name="csrf-token"]').getAttribute("content");fetch("/cliente/contratos/descargar-documentos",{method:"POST",body:JSON.stringify({documento:a}),headers:{"Content-Type":"application/json","X-CSRF-TOKEN":p},responseType:"blob"}).then(u=>u.blob()).then(u=>{const v=window.URL.createObjectURL(new Blob([u])),l=document.createElement("a");l.href=v,l.target="_blank",l.setAttribute("download",a.namedoc),document.body.appendChild(l),l.click()}).catch(u=>{console.error("There was a problem with the Fetch request:",u)})};return i(re,{children:h(O,{show:t,onHide:n,id:e,centered:!0,children:[h(O.Header,{children:[i("h4",{className:"modal-title",children:"Documentos"}),i("button",{type:"button","aria-label":"Close",className:"close icon-Cerrar-modal",onClick:n})]}),i(O.Body,{children:i("div",{className:"documentos",children:i("div",{className:"row",children:b.map(a=>i("div",{className:"col-12 contenedor_documentos col-lg-6",children:h("div",{className:"documentos_doc",children:[["docx","doc"].includes(a.extension.toLowerCase())&&i("img",{src:"/public/images/extensiones/docx.svg",width:"30",className:"documentos_doc_icono"}),a.extension.toLowerCase()=="pdf"&&i("img",{src:"/public/images/extensiones/pdf.svg",width:"30",className:"documentos_doc_icono"}),a.extension.toLowerCase()=="xlsx"&&i("img",{src:"/public/images/extensiones/xlsx.svg",width:"30",className:"documentos_doc_icono"}),a.extension.toLowerCase()=="zip"&&i("img",{src:"/public/images/extensiones/zip.svg",width:"30",className:"documentos_doc_icono"}),a.extension.toLowerCase()=="rar"&&i("img",{src:"/public/images/extensiones/rar.svg",width:"30",className:"documentos_doc_icono"}),h("div",{className:"documentos_doc_textos",children:[i("span",{className:"texto_nombre_doc",children:a.namedoc}),i("span",{className:"texto_fecha_doc"})]}),h("button",{className:"btn-new-gray btnRadius documentos_doc_boton",onClick:()=>m(a),children:[i("span",{className:"icon-Descargas-click boton_descargar"}),i("p",{className:"texto_boton_descargar",children:"Descargar"})]})]})}))})})})]})})};export{xe as M,be as S};
