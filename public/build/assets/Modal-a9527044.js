import{f as F,r as de,o as we,n as Pe,u as m,p as Ee,q as ye,b as Ue,i as ce,e as ue,a as Ge,g as Ve,k as ze,s as Me,d as qe}from"./useWindow-04a87982.js";import{s as I,u as Te,C as Xe,F as ke,t as Ye}from"./useWillUnmount-9cd78d8a.js";import{r as l,a as d,F as be,b as Je,j as Ne}from"./app-0d6b3333.js";import{d as Qe,u as Ze,q as B}from"./Nav-43b4168e.js";import{u as et,h as tt}from"./hasClass-cceea0e3.js";const ot=t=>l.exports.forwardRef((e,o)=>d("div",{...e,ref:o,className:F(e.className,t)}));var X;function Re(t){if((!X&&X!==0||t)&&de){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),X=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return X}function ae(t){t===void 0&&(t=we());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function st(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const xe=Qe("modal-open");class fe{constructor({ownerDocument:e,handleContainerOverflow:o=!0,isRTL:s=!1}={}){this.handleContainerOverflow=o,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return st(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const o={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",n=this.getElement();e.style={overflow:n.style.overflow,[s]:n.style[s]},e.scrollBarWidth&&(o[s]=`${parseInt(I(n,s)||"0",10)+e.scrollBarWidth}px`),n.setAttribute(xe,""),I(n,o)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const o=this.getElement();o.removeAttribute(xe),Object.assign(o.style,e.style)}add(e){let o=this.modals.indexOf(e);return o!==-1||(o=this.modals.length,this.modals.push(e),this.setModalAttributes(e),o!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),o}remove(e){const o=this.modals.indexOf(e);o!==-1&&(this.modals.splice(o,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const nt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function rt(t,e){if(t==null)return{};var o={},s=Object.keys(t),n,i;for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&(o[n]=t[n]);return o}let ie;function at(t){return ie||(ie=new fe({ownerDocument:t==null?void 0:t.document})),ie}function it(t){const e=Ue(),o=t||at(e),s=l.exports.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>o.add(s.current),remove:()=>o.remove(s.current),isTopModal:()=>o.isTopModal(s.current),setDialogRef:l.exports.useCallback(n=>{s.current.dialog=n},[]),setBackdropRef:l.exports.useCallback(n=>{s.current.backdrop=n},[])})}const Oe=l.exports.forwardRef((t,e)=>{let{show:o=!1,role:s="dialog",className:n,style:i,children:v,backdrop:f=!0,keyboard:E=!0,onBackdropClick:R,onEscapeKeyDown:g,transition:u,backdropTransition:x,autoFocus:Y=!0,enforceFocus:$=!0,restoreFocus:J=!0,restoreFocusOptions:C,renderDialog:j,renderBackdrop:Q=a=>d("div",Object.assign({},a)),manager:Z,container:ee,onShow:_,onHide:H=()=>{},onExit:K,onExited:P,onExiting:U,onEnter:G,onEntering:V,onEntered:z}=t,q=rt(t,nt);const w=et(ee),c=it(Z),te=Pe(),oe=Ze(o),[y,T]=l.exports.useState(!o),p=l.exports.useRef(null);l.exports.useImperativeHandle(e,()=>c,[c]),de&&!oe&&o&&(p.current=ae()),!u&&!o&&!y?T(!0):o&&y&&T(!1);const k=m(()=>{if(c.add(),L.current=Ee(document,"keydown",ne),N.current=Ee(document,"focus",()=>setTimeout(M),!0),_&&_(),Y){const a=ae(document);c.dialog&&a&&!ye(c.dialog,a)&&(p.current=a,c.dialog.focus())}}),h=m(()=>{if(c.remove(),L.current==null||L.current(),N.current==null||N.current(),J){var a;(a=p.current)==null||a.focus==null||a.focus(C),p.current=null}});l.exports.useEffect(()=>{!o||!w||k()},[o,w,k]),l.exports.useEffect(()=>{y&&h()},[y,h]),Te(()=>{h()});const M=m(()=>{if(!$||!te()||!c.isTopModal())return;const a=ae();c.dialog&&a&&!ye(c.dialog,a)&&c.dialog.focus()}),se=m(a=>{a.target===a.currentTarget&&(R==null||R(a),f===!0&&H())}),ne=m(a=>{E&&a.keyCode===27&&c.isTopModal()&&(g==null||g(a),a.defaultPrevented||H())}),N=l.exports.useRef(),L=l.exports.useRef(),re=(...a)=>{T(!0),P==null||P(...a)},O=u;if(!w||!(o||O&&!y))return null;const W=Object.assign({role:s,ref:c.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},q,{style:i,className:n,tabIndex:-1});let b=j?j(W):d("div",Object.assign({},W,{children:l.exports.cloneElement(v,{role:"document"})}));O&&(b=d(O,{appear:!0,unmountOnExit:!0,in:!!o,onExit:K,onExiting:U,onExited:re,onEnter:G,onEntering:V,onEntered:z,children:b}));let A=null;if(f){const a=x;A=Q({ref:c.setBackdropRef,onClick:se}),a&&(A=d(a,{appear:!0,in:!!o,children:A}))}return d(be,{children:Je.createPortal(Ne(be,{children:[A,b]}),w)})});Oe.displayName="Modal";const lt=Object.assign(Oe,{Manager:fe});function dt(t,e){t.classList?t.classList.add(e):tt(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Ce(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ct(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Ce(t.className,e):t.setAttribute("class",Ce(t.className&&t.className.baseVal||"",e))}const D={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class ut extends fe{adjustAndStore(e,o,s){const n=o.style[e];o.dataset[e]=n,I(o,{[e]:`${parseFloat(I(o,e))+s}px`})}restore(e,o){const s=o.dataset[e];s!==void 0&&(delete o.dataset[e],I(o,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const o=this.getElement();if(dt(o,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",n=this.isRTL?"marginLeft":"marginRight";B(o,D.FIXED_CONTENT).forEach(i=>this.adjustAndStore(s,i,e.scrollBarWidth)),B(o,D.STICKY_CONTENT).forEach(i=>this.adjustAndStore(n,i,-e.scrollBarWidth)),B(o,D.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(n,i,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const o=this.getElement();ct(o,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",n=this.isRTL?"marginLeft":"marginRight";B(o,D.FIXED_CONTENT).forEach(i=>this.restore(s,i)),B(o,D.STICKY_CONTENT).forEach(i=>this.restore(n,i)),B(o,D.NAVBAR_TOGGLER).forEach(i=>this.restore(n,i))}}let le;function ft(t){return le||(le=new ut(t)),le}const ht=ce("modal-body"),Ae=l.exports.createContext({onHide(){}}),Se=l.exports.forwardRef(({bsPrefix:t,className:e,contentClassName:o,centered:s,size:n,fullscreen:i,children:v,scrollable:f,...E},R)=>{t=ue(t,"modal");const g=`${t}-dialog`,u=typeof i=="string"?`${t}-fullscreen-${i}`:`${t}-fullscreen`;return d("div",{...E,ref:R,className:F(g,e,n&&`${t}-${n}`,s&&`${g}-centered`,f&&`${g}-scrollable`,i&&u),children:d("div",{className:F(`${t}-content`,o),children:v})})});Se.displayName="ModalDialog";const Be=Se,gt=ce("modal-footer"),pt={closeLabel:"Close",closeButton:!1},De=l.exports.forwardRef(({closeLabel:t,closeVariant:e,closeButton:o,onHide:s,children:n,...i},v)=>{const f=l.exports.useContext(Ae),E=m(()=>{f==null||f.onHide(),s==null||s()});return Ne("div",{ref:v,...i,children:[n,o&&d(Xe,{"aria-label":t,variant:e,onClick:E})]})});De.defaultProps=pt;const mt={closeLabel:"Close",closeButton:!1},he=l.exports.forwardRef(({bsPrefix:t,className:e,...o},s)=>(t=ue(t,"modal-header"),d(De,{ref:s,...o,className:F(e,t)})));he.displayName="ModalHeader";he.defaultProps=mt;const vt=he,Et=ot("h4"),yt=ce("modal-title",{Component:Et}),Mt={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Be};function bt(t){return d(ke,{...t,timeout:null})}function Rt(t){return d(ke,{...t,timeout:null})}const ge=l.exports.forwardRef(({bsPrefix:t,className:e,style:o,dialogClassName:s,contentClassName:n,children:i,dialogAs:v,"aria-labelledby":f,"aria-describedby":E,"aria-label":R,show:g,animation:u,backdrop:x,keyboard:Y,onEscapeKeyDown:$,onShow:J,onHide:C,container:j,autoFocus:Q,enforceFocus:Z,restoreFocus:ee,restoreFocusOptions:_,onEntered:H,onExit:K,onExiting:P,onEnter:U,onEntering:G,onExited:V,backdropClassName:z,manager:q,...w},c)=>{const[te,oe]=l.exports.useState({}),[y,T]=l.exports.useState(!1),p=l.exports.useRef(!1),k=l.exports.useRef(!1),h=l.exports.useRef(null),[M,se]=Ge(),ne=Ve(c,se),N=m(C),L=ze();t=ue(t,"modal");const re=l.exports.useMemo(()=>({onHide:N}),[N]);function O(){return q||ft({isRTL:L})}function W(r){if(!de)return;const S=O().getScrollbarWidth()>0,ve=r.scrollHeight>we(r).documentElement.clientHeight;oe({paddingRight:S&&!ve?Re():void 0,paddingLeft:!S&&ve?Re():void 0})}const b=m(()=>{M&&W(M.dialog)});Te(()=>{Me(window,"resize",b),h.current==null||h.current()});const A=()=>{p.current=!0},a=r=>{p.current&&M&&r.target===M.dialog&&(k.current=!0),p.current=!1},pe=()=>{T(!0),h.current=Ye(M.dialog,()=>{T(!1)})},Fe=r=>{r.target===r.currentTarget&&pe()},Le=r=>{if(x==="static"){Fe(r);return}if(k.current||r.target!==r.currentTarget){k.current=!1;return}C==null||C()},We=r=>{Y?$==null||$(r):(r.preventDefault(),x==="static"&&pe())},Ie=(r,S)=>{r&&W(r),U==null||U(r,S)},$e=r=>{h.current==null||h.current(),K==null||K(r)},je=(r,S)=>{G==null||G(r,S),qe(window,"resize",b)},_e=r=>{r&&(r.style.display=""),V==null||V(r),Me(window,"resize",b)},He=l.exports.useCallback(r=>d("div",{...r,className:F(`${t}-backdrop`,z,!u&&"show")}),[u,z,t]),me={...o,...te};me.display="block";const Ke=r=>d("div",{role:"dialog",...r,style:me,className:F(e,t,y&&`${t}-static`,!u&&"show"),onClick:x?Le:void 0,onMouseUp:a,"aria-label":R,"aria-labelledby":f,"aria-describedby":E,children:d(v,{...w,onMouseDown:A,className:s,contentClassName:n,children:i})});return d(Ae.Provider,{value:re,children:d(lt,{show:g,ref:ne,backdrop:x,container:j,keyboard:!0,autoFocus:Q,enforceFocus:Z,restoreFocus:ee,restoreFocusOptions:_,onEscapeKeyDown:We,onShow:J,onHide:C,onEnter:Ie,onEntering:je,onEntered:H,onExit:$e,onExiting:P,onExited:_e,manager:O(),transition:u?bt:void 0,backdropTransition:u?Rt:void 0,renderBackdrop:He,renderDialog:Ke})})});ge.displayName="Modal";ge.defaultProps=Mt;const Nt=Object.assign(ge,{Body:ht,Header:vt,Title:yt,Footer:gt,Dialog:Be,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{De as A,lt as B,Nt as M,Ae as a,ut as b,dt as c,ot as d,ft as g,ct as r};
