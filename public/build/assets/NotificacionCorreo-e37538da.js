import{r as s,j as a,a as e,F as _}from"./app-73b5b0f7.js";import{F as n,A as L,T as E}from"./AuthenticatedLayout-375b6189.js";import{D as I,C as d}from"./column.esm-bdd6e206.js";import"./Nav-8fe9d721.js";import"./hasClass-832cb7e3.js";import"./InputError-424c19e0.js";import"./mergeOptionsWithPopperConfig-27243957.js";import"./module-e69f84a2.js";import"./Button-9e4b7d99.js";/* empty css                      *//* empty css                 */const V=({auth:N,grupos:v})=>{const g=i=>a(_,{children:[e("div",{className:"columna_nombre--content-img",children:e("div",{className:"columna_nombre--img",children:e("img",{src:`${i.imagen_filtro}`})})}),e("span",{children:i.nombre_filtro})]}),b=i=>a("label",{className:"switch",children:[e("input",{type:"checkbox",checked:y,onChange:l=>h(l)}),e("span",{className:"slider round"})]}),T=i=>e(_,{children:a("label",{className:"switch",children:[e("input",{type:"checkbox",checked:i.envio_alertas==1,onChange:l=>h(l,i)}),e("span",{className:"slider round"})]})}),S=i=>e("div",{className:"VueTables__selecciones-filter-wrapper",children:e("span",{children:e("div",{className:"selecciones-nuevo-diseno",children:a("button",{id:"limpiar",type:"button",className:"icon-Limpiar-click borrador-grid",onClick:k,children:[e("span",{className:"path1"}),e("span",{className:"path2"}),e("span",{className:"path3"}),e("span",{className:"path4"}),e("span",{className:"path5"}),e("span",{className:"path6"}),e("span",{className:"path7"}),e("span",{className:"path8"})]})})})}),[t,x]=s.exports.useState(v),p=i=>{var r;const l=(r=i[0])==null?void 0:r.envio_alertas;return!!(i.every(o=>o.envio_alertas===l)&&l==1)},[y,A]=s.exports.useState(p(t)),[C,R]=s.exports.useState({global:{value:null,matchMode:n.CONTAINS},nombre_filtro:{value:null,matchMode:n.STARTS_WITH},descripcion_filtro:{value:null,matchMode:n.STARTS_WITH},limite_inferior_cuantia:{value:null,matchMode:n.STARTS_WITH},limite_superior_cuantia:{value:null,matchMode:n.STARTS_WITH},historico:{value:null,matchMode:n.CONTAINS},envio_alertas:{value:null,matchMode:n.EQUALS},status:{value:null,matchMode:n.EQUALS}}),m=s.exports.useRef(null),k=()=>{m.current&&m.current.reset()},[M,B]=s.exports.useState(!1),[F,u]=s.exports.useState(!1),f=s.exports.useRef(null),h=(i,l=null)=>{var c=[];l!=null?c=[l]:c=t,u(!0);var r=document.querySelector('meta[name="csrf-token"]');axios.post("/cliente/notificacion-correo/save-notification",{web:i.target.checked,movil:!1,perfiles:c},{Authorization:`Bearer ${r}`}).then(o=>{x(o.data);const w=p(o.data);A(w),u(!1),f.current.show({severity:"success",summary:"Preferencias de notificaciones actualizadas",life:3e3})}).catch(o=>{console.log(o)})};return a(L,{auth:N,page:"notificacionCorreo",globalLoading:F,children:[e("div",{className:"content_not_blank_interno",children:e("div",{className:"notificaciones-user",children:e("div",{className:"container-fluid",children:a("div",{className:"row",children:[e("div",{className:"col-lg-12 col-xl-3 fondo_blanco",children:a("div",{className:"notificaciones_panel_lateral",children:[e("div",{className:"notificaciones_panel_lateral_imagen",children:e("img",{src:"/public/images/notificaciones/Notificaciones.png",className:""})}),e("div",{className:"notificaciones_panel_lateral_opciones",children:a("div",{className:"notificaciones_panel_lateral_opciones_email",children:[e("span",{className:"icon-Email-noti notificaciones_panel_lateral_opciones_email_icono"}),a("label",{className:"notificaciones_panel_lateral_opciones_label",children:["Seguimientos de nuevos documentos via ",e("span",{children:"e-mail:"})]}),a("label",{className:"switch",children:[e("input",{type:"checkbox"}),e("span",{className:"slider round"})]})]})})]})}),e("div",{id:"mensaje_personalizado",className:"col-lg-12 col-xl-9",children:a("div",{className:"notificaciones_panel_general",children:[e("div",{className:"notificaciones_panel_general_titulo name_seccion_app",children:e("span",{children:"Configuración de las notificaciones"})}),a("div",{className:"notificacion-content notificaciones_panel_general_subtitulo",children:[e("img",{src:"https://col.licitaciones.info/img/usuario/perfiles/svg/noti_perfil.svg",alt:"notificacion de perfiles"}),e("span",{className:"notificaciones_panel_general_subtitulo_span",children:"Perfiles de negocio:"})]}),a("div",{id:"notificacion-grid",className:"col-10",children:[a("p",{className:"records",children:[t.length," registros"]}),a(I,{ref:m,value:t,paginator:!0,rows:10,dataKey:"id",filters:C,filterDisplay:"row",loading:M,globalFilterFields:["name","representative.name","status"],emptyMessage:"No se encontraron registros",children:[e(d,{style:{maxWidth:600+"px"},filter:!0,className:"columna_seleccion columna_pequena",filterElement:S}),e(d,{field:"nombre_filtro",body:g,header:"Nombre",filter:!0,filterPlaceholder:"Buscar",className:"columna_nombre nombre_filtro"}),e(d,{field:"envio_alertas",body:T,header:"Vía email",filter:!0,filterElement:b,className:"columna_nombre nombre_filtro"})]})]})]})})]})})})}),e(E,{ref:f,position:"bottom-left"})]})};export{V as default};
